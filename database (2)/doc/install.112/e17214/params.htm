<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Configuring the Server Parameter File in Oracle Real Application Clusters Environments</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 020" />
<meta name="Date" content="2011-02-18T17:43:29Z" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="doctitle" content="Oracle&reg; Real Application Clusters Installation Guide 11g Release 2 (11.2) for Linux and UNIX" />
<meta name="partno" content="E17214-08" />
<meta name="docid" content="RILIN" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="postinst.htm" title="Previous" type="text/html" />
<link rel="Next" href="srvpool.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17214.pdf" title="PDF version" type="application/pdf" />
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Real Application Clusters Installation Guide<br />
11<i>g</i> Release 2 (11.2) for Linux and UNIX</b><br />
Part Number E17214-08</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="postinst.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="srvpool.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e17214.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="CIHFCHGH" name="CIHFCHGH"></a>
<h1 class="chapter"><span class="secnum">5</span> <a name="RILIN007" id="RILIN007"></a> Configuring the Server Parameter File in Oracle Real Application Clusters Environments</h1>
<p><a id="sthref301" name="sthref301"></a><a id="sthref302" name="sthref302"></a>This chapter describes server parameter file (SPFILE) placement and configuration in Oracle Real Application Clusters (Oracle RAC) environments. This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHCICHD">Parameter Files and Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHIDAHD">Using Server Parameter Files with Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHCJHEB">Parameter File Search Order in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHICJBD">Migrating to the SPFILE in Oracle RAC Environments</a></p>
</li>
<li>
<p><a href="#CIHBAIGB">Server Parameter File Errors in Oracle RAC</a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink RACAD" href="http://www.oracle.com/pls/db112/lookup?id=RACAD"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about parameters, and for a discussion of parallel execution-related parameters in Oracle RAC data warehouse environments</div>
</li>
</ul>
<a id="CIHCICHD" name="CIHCICHD"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> <a name="RILIN701" id="RILIN701"></a>Parameter Files and Oracle RAC</h2>
<p><a id="sthref303" name="sthref303"></a><a id="sthref304" name="sthref304"></a>Oracle Database uses parameter settings in parameter files to determine how to control various database resources. You can use two types of files for parameter administration: the server parameter file (<code>SPFILE</code>) or one or more traditional client-side parameter files.</p>
<p>Oracle recommends that you manage parameters using an <code>SPFILE</code>. If you use client-side parameter files, then Oracle does not preserve parameter changes made for self-tuning after shutdown.</p>
</div>
<!-- class="sect1" -->
<a id="CIHIDAHD" name="CIHIDAHD"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.2</span> <a name="RILIN702" id="RILIN702"></a>Using Server Parameter Files with Oracle RAC</h2>
<p>By default, Oracle Database creates <a id="sthref305" name="sthref305"></a>the <code>init</code> parameter file (<code>PFILE</code>) for each node based on one <a id="sthref306" name="sthref306"></a><code>SPFILE</code>. You can change parameter settings in the <code>SPFILE</code> file by using only Oracle Enterprise Manager or <code>ALTER SYSTEM SET</code> SQL statements, because the server parameter file is a binary file. Do not try to edit this file manually.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Oracle recommends that you avoid modifying the values for self-tuning parameters; overriding these settings can adversely affect performance.</div>
<p>If you are upgrading from a previous Oracle Database release, then review the following section about the server parameter file for Oracle RAC.</p>
<div class="sect2"><a id="sthref307" name="sthref307"></a>
<h3 class="sect2"><span class="secnum">5.2.1</span> About the Server Parameter File</h3>
<p><a id="sthref308" name="sthref308"></a>With Oracle Database 11<span class="italic">g</span> release 2 and later databases, Database Agent automatically maintains the SPFILE based on the value you specify in the srvctl command <code>srvctl add/modify -p</code> <code><span class="codeinlineitalic">spfile</span></code>, where <code><span class="codeinlineitalic">spfile</span></code> is the name of the SPFILE. You do not need to create or maintain <code>init</code><code><span class="codeinlineitalic">ORACLE_SID</span></code><code>.ora</code> files.</p>
<p>The <a id="sthref309" name="sthref309"></a>default location of the server parameter file (<code>SPFILE)</code> is in the following path:</p>
<pre xml:space="preserve" class="oac_no_warn">$ORACLE_HOME/dbs/spfile$<span class="italic">ORACLE_SID</span>.ora 
</pre>
<p>The default location of the server parameter file is inappropriate for Oracle RAC databases and Oracle ASM instances if you use <a id="sthref310" name="sthref310"></a>storage on a node, because all instances must use the same server parameter file.</p>
<p>Instead, Oracle recommends that you use a <code>PFILE</code> in this directory:</p>
<pre xml:space="preserve" class="oac_no_warn">$ORACLE_HOME/dbs/init<span class="italic">$ORACLE_SID</span>.ora
</pre>
<p>This path is valid for each instance and it refers to a single, shared initialization parameter file. For example, if you use NFS storage, then on a Linux or UNIX system, the file should contain an entry similar to the following:</p>
<pre xml:space="preserve" class="oac_no_warn">SPFILE='/nfs/db/oracle_dg/<span class="italic">db</span>spfile'
</pre>
<p>However, if you use a cluster file system, then use the following file location:</p>
<p>On Linux and UNIX-based systems:</p>
<pre xml:space="preserve" class="oac_no_warn">SPFILE='/<span class="italic">shared_mount</span>/<span class="italic">dbname</span>/spfile<span class="italic">dbname</span>.ora'
</pre>
<p>In this syntax example, the variable <code><span class="codeinlineitalic">shared_mount</span></code> is the shared mount point, and the variable <code><span class="codeinlineitalic">dbname</span></code> is the database name.</p>
<p>To use DBCA to create your database, and to use the server parameter file, start DBCA. When the Initialization Parameters page appears, select <span class="bold">Create server parameter file (SPFILE)</span> under the File Locations tab. When you have made this selection, then enter either a shared file system filename, or enter the storage path in the <span class="bold">Server Parameters Filename</span> field.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
When you use DBCA to create the server parameter file, the default <code>SPFILE</code> file name is <code>$ORACLE_HOME/dbs/init$ORACLE_</code><code><span class="codeinlineitalic">SID</span></code><code>.ora</code></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHCJHEB" name="CIHCJHEB"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.3</span> <a name="RILIN703" id="RILIN703"></a>Parameter File Search Order in Oracle RAC</h2>
<p>Oracle Database searches for your <a id="sthref311" name="sthref311"></a>parameter file in the following order:</p>
<ol>
<li>
<p><kbd><code>$ORACLE_HOME/dbs/spfile</code><code><span class="codeinlineitalic">sid</span></code><code>.ora</code></kbd></p>
</li>
<li>
<p><kbd><code>$ORACLE_HOME/dbs/spfile.ora</code></kbd></p>
</li>
<li>
<p><kbd><code>$ORACLE_HOME/dbs/init</code><code><span class="codeinlineitalic">sid</span></code><code>.ora</code></kbd></p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CIHICJBD" name="CIHICJBD"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.4</span> <a name="RILIN704" id="RILIN704"></a>Migrating to the SPFILE in Oracle RAC Environments</h2>
<p><a id="sthref312" name="sthref312"></a>Migrate to the <code>SPFile</code> by creating and editing the server parameter file using the procedures described in this section. This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHJDJGE">Server Parameter File Placement in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHBHIFE">Procedures for Migrating to the Server Parameter File</a></p>
</li>
</ul>
<a id="CIHJDJGE" name="CIHJDJGE"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.4.1</span> Server Parameter File Placement in Oracle RAC</h3>
<p>For single-node cluster-enabled configurations, or if you are using Oracle ASM disk groups or a cluster file system, place the server parameter file in an Oracle ASM disk group or on a file system. Otherwise, place the server parameter file on a shared raw device that is at least 5 MB in size.</p>
</div>
<!-- class="sect2" -->
<a id="CIHBHIFE" name="CIHBHIFE"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.4.2</span> Procedures for Migrating to the Server Parameter File</h3>
<p>Migrate to the <code>SPFILE</code> file by completing the following procedures:</p>
<ol>
<li>
<p>Combine the initialization parameter files for all instances into one <code>init</code><code><span class="codeinlineitalic">dbname</span></code><code>.ora</code> file, where <code><span class="codeinlineitalic">dbname</span></code> is the name of the database, by copying all shared <code>IFILE</code> contents <span class="italic">as is</span>. All parameters defined in your <code>IFILE</code> parameter files are global. Therefore, create them in the format <span class="italic">parameter</span>=<span class="italic">value</span>, without <code>SID</code> prefixes.</p>
</li>
<li>
<p>Copy all instance-specific parameter definitions from <code>init</code><code><span class="codeinlineitalic">sid</span></code><code>.ora</code> files using the following syntax, where the variable <code><span class="codeinlineitalic">sid</span></code> is the <code>SID</code> of the instance:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">sid</span>.<span class="italic">parameter</span>=<span class="italic">value</span> 
</pre>
<pre xml:space="preserve" class="oac_no_warn"></pre></li>
<li>
<p>If you are using a cluster file system, then Oracle recommends that you use the following command to define the location of the new SPFILE, where <code><span class="codeinlineitalic">spfile</span></code> is the name of the SPFILE:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl modify database -p <span class="italic">spfile</span>
</pre>
<p>You can also create the server parameter file using the <code>CREATE SPFILE</code> statement as in the following example:</p>
<pre xml:space="preserve" class="oac_no_warn">CREATE SPFILE='?/dbs/spfile_<span class="italic">dbname</span>.ora'
FROM PFILE='?/dbs/init<span class="italic">dbname</span>.ora'
</pre>
<p>If you use Oracle ASM, then you can use the following syntax to create the server parameter file, where <code><span class="codeinlineitalic">disk_group_name</span></code> is the disk group name, <code><span class="codeinlineitalic">db_uniquename</span></code> is the database name, <code><span class="codeinlineitalic">dbname</span></code> is the database name, and <code><span class="codeinlineitalic">Oracle_home</span></code> is the Oracle home path:</p>
<pre xml:space="preserve" class="oac_no_warn">CREATE SPFILE='+<span class="italic">disk_group_name</span>/<span class="italic">db_uniquename/</span>spfile<span class="italic">dbname</span>.ora'
FROM PFILE='<span class="italic">Oracle_home</span>/dbs/init<span class="italic">dbname</span>.ora'
</pre>
<p>These statements read your combined <code>init</code><code><span class="codeinlineitalic">dbname</span></code><code>.ora</code> file that you created by merging your IFILEs, and then transfer the settings for the parameters from the merged file into your server parameter file.</p>
</li>
<li>
<p>Oracle recommends that you use the <code>SPFILE</code> by using the <code>PFILE</code> as a pointer to the <code>SPFILE</code>. Do this by running the <code>STARTUP</code> command as in the following example, where the SID variable <code><span class="codeinlineitalic">sid</span></code> in the file <code>init</code><code><span class="codeinlineitalic">sid</span></code><code>.ora</code> is the SID that you use in the <code>SPFILE</code> entry from Step 3. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">STARTUP PFILE=$ORACLE_HOME/dbs/init<span class="italic">sid</span>.ora
</pre>
<p>If you use this <code>STARTUP</code> command syntax, then Oracle Database uses the server parameter file entry specified in the file <code>init</code><code><span class="codeinlineitalic">sid</span></code><code>.ora</code>.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
With Oracle ASM 11<span class="italic">g</span> release 2 and later releases, the <code>SPFILE</code> for the Oracle ASM instance can be stored in Oracle ASM. You can also place an Oracle ASM instance <code>SPFILE</code> on a file system, or you can use a traditional client-side parameter file for each Oracle ASM instance.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink OSTMG" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG"><span class="italic">Oracle Database Storage Administrator's Guide</span></a> for more information about administering an Oracle ASM instance</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHBAIGB" name="CIHBAIGB"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.5</span> <a name="RILIN705" id="RILIN705"></a>Server Parameter File Errors in Oracle RAC</h2>
<p>Oracle Database reports errors that occur during <a id="sthref313" name="sthref313"></a>server parameter file creation, or while reading the file during startup. If an error occurs during a parameter update, then Oracle records the error in your <code>ALERT.LOG</code> file, and ignores subsequent parameter updates to the file. If this happens, then do either of the following:</p>
<ul>
<li>
<p>Shut down the instance, recover the server parameter file, and restart the instance.</p>
</li>
<li>
<p>Enable the instance to continue running without regard for subsequent parameter updates.</p>
</li>
</ul>
<p>Oracle Database displays errors for parameter changes that you attempt when you incorrectly use the <code>ALTER SYSTEM SET</code> statement. Oracle Database does this when an error occurs while reading from or writing to the server parameter file.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink RACAD" href="http://www.oracle.com/pls/db112/lookup?id=RACAD"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about backing up the <code>SPFILE</code></div>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="postinst.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="srvpool.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
