<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Administering Oracle Database on HP-UX</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 020" />
<meta name="Date" content="2011-03-24T3:32:28Z" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="doctitle" content="Oracle&reg; Database Administrator's Reference 11g Release 2 (11.2) for Linux and UNIX-Based Operating Systems" />
<meta name="partno" content="E10839-14" />
<meta name="docid" content="UNXAR" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="appa_aix.htm" title="Previous" type="text/html" />
<link rel="Next" href="appc_linux.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10839.pdf" title="PDF version" type="application/pdf" />
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Database Administrator's Reference<br />
11<i>g</i> Release 2 (11.2) for Linux and UNIX-Based Operating Systems</b><br />
Part Number E10839-14</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="appa_aix.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="appc_linux.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e10839.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="BEJJBAGM" name="BEJJBAGM"></a><a id="UNXAR010" name="UNXAR010"></a>
<h1 class="appendix"><span class="secnum">B</span> Administering Oracle Database on HP-UX</h1>
<p>This appendix provides information about administering Oracle Database on HP-UX. It contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDGJCIB">HP-UX Shared Memory Segments for an Oracle Instance</a></p>
</li>
<li>
<p><a href="#i636964">HP-UX SCHED_NOAGE Scheduling Policy</a></p>
</li>
<li>
<p><a href="#i637009">Lightweight Timer Implementation</a></p>
</li>
<li>
<p><a href="#i637036">Asynchronous Input-Output</a></p>
</li>
<li>
<p><a href="#BGBCBFAE">Large Memory Allocations and Oracle Database Tuning</a></p>
</li>
<li>
<p><a id="BABCCCBH" name="BABCCCBH"></a><a href="#BGBIJBBA">CPU_COUNT Initialization Parameter and HP-UX Dynamic Processor Reconfiguration</a></p>
</li>
<li>
<p><a href="#BABJCHJJ">Network Information Service external naming support</a></p>
</li>
<li>
<p><a href="#BABIFHJD">Activating and Setting Expanded Host Names and Node Names</a></p>
</li>
</ul>
<a id="CHDGJCIB" name="CHDGJCIB"></a><a id="UNXAR302" name="UNXAR302"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">B.1</span> HP-UX Shared Memory Segments for an Oracle Instance<a id="sthref511" name="sthref511"></a></h2>
<p>When an Oracle Database instance starts, it creates memory segments by dividing the shared memory allocated for creating the Oracle System Global Area (SGA) by the value of the HP-UX <code>shmmax</code> kernel parameter. For example, if 64 GB of shared memory is allocated for a single Oracle instance and the value of the <code>shmmax</code> parameter is 1 GB, then Oracle Database creates 64 shared memory segments for that instance.</p>
<p>Performance degradation can occur when an Oracle instance creates multiple shared memory segments. This is because each shared memory segment receives a unique protection key when Oracle Database creates the instance. The number of protection keys available depends on the system architecture as shown in the following table:</p>
<div class="inftblinformal">
<table class="Informal" title="Protection Keys Available on Each HP-UX System Architecture" summary="This table shows the number of protection keys available on each HP-UX system architecture" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="45%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t2">Architecture</th>
<th align="left" valign="bottom" id="r1c2-t2">Number of Protection Keys</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t2" headers="r1c1-t2">PA-RISC</td>
<td align="left" headers="r2c1-t2 r1c2-t2">6</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t2" headers="r1c1-t2">Itanium</td>
<td align="left" headers="r3c1-t2 r1c2-t2">14</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>If the Oracle instance creates more shared memory segments than the number of protection keys, then the HP-UX operating system displays protection key faults.</p>
<p>Oracle recommends that you set the <code>shmmax</code> parameter value to the amount of available physical memory on the system. Doing this ensures that the entire shared memory for a single Oracle instance is assigned to one shared memory segment and the instance requires only one protection key.</p>
<p>To display the list of active shared memory segments on the system, run the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">$ ipcs -m
</pre>
<p>If Oracle Database creates more segments for the instance than the number of protection keys, then increase the value of the <code>shmmax</code> kernel parameter.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/db112/lookup?id=GINST">Oracle Database Installation Guide</a> for more information about the recommended minimum kernel parameter values</div>
</div>
<!-- class="sect1" -->
<a id="i636964" name="i636964"></a><a id="UNXAR303" name="UNXAR303"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">B.2</span> HP-UX SCHED_NOAGE Scheduling Policy<a id="sthref512" name="sthref512"></a><a id="sthref513" name="sthref513"></a></h2>
<p>On HP-UX, most processes use a time-sharing scheduling policy. Time sharing can have detrimental effects on Oracle performance by descheduling an Oracle process during critical operations, for example, when it is holding a latch. HP-UX has a modified scheduling policy, referred to as <code>SCHED_NOAGE</code>, that specifically addresses this issue. Unlike the normal time-sharing policy, a process scheduled using <code>SCHED_NOAGE</code> does not increase or decrease in priority, nor is it preempted.</p>
<p>This feature is suited to online transaction processing environments because online transaction processing environments can cause competition for critical resources. The use of the <code>SCHED_NOAGE</code> policy with Oracle Database can increase performance by 10 percent or more in online transaction processing environments.</p>
<p>The <code>SCHED_NOAGE</code> policy does not provide the same level of performance gains in decision support environments because there is less resource competition. Because each application and server environment is different, you should test and verify that the environment benefits from the <code>SCHED_NOAGE</code> policy. When using <code>SCHED_NOAGE</code>, Oracle recommends that you exercise caution in assigning highest priority to Oracle processes. Assigning highest <code>SCHED_NOAGE</code> priority to Oracle processes can exhaust CPU resources on the system, causing other user processes to stop responding.</p>
<a id="UNXAR304" name="UNXAR304"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref514" name="sthref514"></a>
<h3 class="sect2"><span class="secnum">B.2.1</span> Enabling SCHED_NOAGE for Oracle Database<a id="sthref515" name="sthref515"></a></h3>
<p>To permit Oracle Database to use the <code>SCHED_NOAGE</code> scheduling policy, the OSDBA group (typically, the <a id="i636981" name="i636981"></a><code>dba</code> group) must have the <code>RTSCHED</code> and <code>RTPRIO</code> privileges to change the scheduling policy and set the priority level for Oracle processes. To give the <code>dba</code> group these privileges:</p>
<ol>
<li>
<p>Log in as the <code>root</code> user.</p>
</li>
<li>
<p>Using any text editor, open the <code>/etc/privgroup</code> file, or create it if necessary. <a id="sthref516" name="sthref516"></a><a id="sthref517" name="sthref517"></a></p>
</li>
<li>
<p>Add or edit the following line, which begins with the name of the OSDBA group, specifying the privileges <code>RTPRIO</code> and <code>RTSCHED</code> that you want to grant to this group every time the system restarts:</p>
<pre xml:space="preserve" class="oac_no_warn">dba RTPRIO RTSCHED
</pre></li>
<li>
<p>Save the file, and quit the text editor.</p>
</li>
<li>
<p>Enter the following command to grant the privileges to the OSDBA group:<a id="sthref518" name="sthref518"></a><a id="sthref519" name="sthref519"></a></p>
<pre xml:space="preserve" class="oac_no_warn"># /usr/sbin/setprivgrp -f /etc/privgroup
</pre></li>
<li>
<p>Enter the following command to verify that the privileges are set correctly:<a id="sthref520" name="sthref520"></a><a id="sthref521" name="sthref521"></a></p>
<pre xml:space="preserve" class="oac_no_warn"># /usr/bin/getprivgrp dba
</pre></li>
</ol>
<p>Add the <code>HPUX_SCHED_NOAGE</code> initialization parameter to the parameter file for each instance, setting the parameter to an integer value to specify process priority levels. The supported range of values is 178 to 255. Lower values represent higher priorities. The default value of <code>HPUX_SCHED_NOAGE</code> initialization parameter is 178 for all Oracle processes. For LMS processes, this can be changed by setting the initialization parameter <code>_os_sched_high_priority</code>. If the parameter <code>_os_sched_high_priority</code> is between 31 and 2, LMS processes run with <code>SCHED_RR</code> at the set priority. If the parameter value is between 178 and 255, the processes run at the set value with <code>SCHED_NOAGE</code>. However, LMS doesl not run at priority level less than the value of <code>HPUX_SCHED_NOAGE</code>.</p>
<p>If the <code>HPUX_SCHED_NOAGE</code> parameter setting is out of range, then Oracle Database automatically sets the parameter to a permissible value and continues with the <code>SCHED_NOAGE</code> policy with the new value. It also generates a message in the <code>alert_</code><code><span class="codeinlineitalic">sid</span></code><code>.log</code> file about the new setting. Whenever the highest priority is assigned to Oracle processes, either by the user or by automatic readjustment, Oracle Database generates a message in the <code>alert_</code><code><span class="codeinlineitalic">sid</span></code><code>.log</code> file warning about the possibility of exhaustion of CPU resources on the system. Oracle recommends that you set the parameter to assign the priority level you want for Oracle processes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The HP-UX documentation, the <code>rtsched</code>(1) man page, and the <code>rtsched</code>(2) man page for more information about priority policies and priority ranges</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i637009" name="i637009"></a><a id="UNXAR305" name="UNXAR305"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">B.3</span> <a id="sthref522" name="sthref522"></a>Lightweight Timer Implementation<a id="sthref523" name="sthref523"></a></h2>
<p>With Oracle Database 11<span class="italic">g</span>, you can collect run-time statistics always if the dynamic initialization parameter <code>STATISTICS_LEVEL</code> is set to <code>TYPICAL</code> (default) or <code>ALL</code>. This parameter setting implicitly sets the <code>TIMED_STATISTICS</code> initialization parameter to <code>true</code>. Oracle Database on HP-UX systems uses the <code>gethrtime()</code> system library call to calculate elapsed times during the collection of the statistics. The use of this lightweight system library call enables you to collect run-time statistics always while running an Oracle instance, without affecting performance.</p>
<p>This system library call can provide a performance improvement of up to 10 percent over an Oracle release that does not use the <code>gethrtime()</code> system library call when the <code>TIMED_STATISTICS</code> initialization parameter is explicitly set to <code>true</code>. In addition, there is no negative impact on the online transaction processing performance of an Oracle Database while using the <code>gethrtime()</code> system library call to collect run-time statistics always.</p>
</div>
<!-- class="sect1" -->
<a id="i637036" name="i637036"></a><a id="UNXAR306" name="UNXAR306"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">B.4</span> Asynchronous Input-Output<a id="sthref524" name="sthref524"></a><a id="sthref525" name="sthref525"></a></h2>
<p>The asynchronous Input-Output pseudo-driver on HP-UX enables Oracle Database to perform Input-Output to raw disk partitions using an asynchronous method, resulting in less Input-Output overhead and higher throughput. You can use the asynchronous Input-Output pseudo-driver on both HP-UX servers and workstations.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABEDHIJ">MLOCK Privilege</a></p>
</li>
<li>
<p><a href="#BABBFDCI">Implementing Asynchronous Input-Output</a></p>
</li>
<li>
<p><a href="#BABFGIAC">Verifying Asynchronous Input-Output</a></p>
</li>
<li>
<p><a href="#BABJBHJH">Asynchronous Flag in SGA</a></p>
</li>
</ul>
<a id="BABEDHIJ" name="BABEDHIJ"></a><a id="UNXAR307" name="UNXAR307"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">B.4.1</span> MLOCK Privilege<a id="sthref526" name="sthref526"></a></h3>
<p>To permit Oracle Database to process asynchronous Input-Output operations, the OSDBA group (<code>dba</code>) must have the <code>MLOCK</code> privilege. To give the <code>dba</code> group the <code>MLOCK</code> privilege:</p>
<ol>
<li>
<p>Log in as the <code>root</code> user.</p>
</li>
<li>
<p>Using any text editor, open the <code>/etc/privgroup</code> file, or create it if necessary. <a id="sthref527" name="sthref527"></a><a id="sthref528" name="sthref528"></a></p>
</li>
<li>
<p>Add or edit the following line, which begins with the name of the OSDBA group, specifying the privilege <code>MLOCK</code>:</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
You must use only one line to specify the privileges for a particular group in this file. If the file already contains a line for the <code>dba</code> group, then add the <code>MLOCK</code> privilege on the same line.</div>
<pre xml:space="preserve" class="oac_no_warn">dba RTPRIO RTSCHED MLOCK
</pre></li>
<li>
<p>Save the file, and quit the text editor.</p>
</li>
<li>
<p>Enter the following command to grant the privileges to the OSDBA group:<a id="sthref529" name="sthref529"></a></p>
<pre xml:space="preserve" class="oac_no_warn"># /usr/sbin/setprivgrp -f /etc/privgroup
</pre></li>
<li>
<p>Enter the following command to verify that the privileges are set correctly:<a id="sthref530" name="sthref530"></a></p>
<pre xml:space="preserve" class="oac_no_warn"># /usr/bin/getprivgrp dba
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABBFDCI" name="BABBFDCI"></a><a id="UNXAR308" name="UNXAR308"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">B.4.2</span> Implementing Asynchronous Input-Output<a id="sthref531" name="sthref531"></a><a id="sthref532" name="sthref532"></a></h3>
<p>To use asynchronous Input-Output on HP-UX, you must use an Automatic Storage Management disk group that uses raw partitions as the storage option for database files.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/db112/lookup?id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for more information about configuring Automatic Storage Management and raw logical volumes on HP-UX systems</div>
<p>Before you can implement asynchronous Input-Output with either storage option, you must use the System Administrator Management utility to configure the asynchronous disk driver into the HP-UX kernel.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
In Oracle Database 11<span class="italic">g</span> Release 1, you did not have to set <code>DISK_ASYNCH_IO</code> paramter to <code>FALSE</code> on a file system. However, starting with Oracle Database 11<span class="italic">g</span> Release 2, if database uses file system for storing the database files, then ensure that you set initialization parameter <code>DISK_ASYNCH_IO</code> to <code>FALSE</code>. By default the value of <code>DISK_ASYNCH_IO</code> is <code>TRUE</code>.
<p>The <code>DISK_ASYNCH_IO</code> parameter must be set to <code>TRUE</code> only when raw partitions are used for storing database files.</p>
</div>
<p>To add the asynchronous disk driver and configure the kernel by using the System Administrator Management utility:</p>
<ol>
<li>
<p>Run the following command as the <code>root</code> user:</p>
<pre xml:space="preserve" class="oac_no_warn"># sam
</pre></li>
<li>
<p>Select the <span class="bold">Kernel Configuration area</span>.</p>
</li>
<li>
<p>Select the <span class="bold">Drivers area</span>.</p>
</li>
<li>
<p>Select the <span class="bold">asynchronous disk driver</span> (<code>asyncdsk</code>).</p>
</li>
<li>
<p>Select <span class="bold">Actions</span>, and then select <span class="bold">Add Driver to Kernel</span>.</p>
</li>
<li>
<p>Select <span class="bold">List</span>, and then select <span class="bold">Configurable Parameters</span>.</p>
</li>
<li>
<p>Select the <code>MAX_ASYNC_PORTS</code> parameter.</p>
</li>
<li>
<p>Select <span class="bold">Action</span>, and then select <span class="bold">Modify Configurable Parameter.</span></p>
</li>
<li>
<p>Specify a new value for the parameter, using the following guidelines, and then click <span class="bold">OK</span>.</p>
<p>The <code>MAX_ASYNC_PORTS</code> parameter is a configurable HP-UX kernel parameter that controls the maximum number of processes that can open the <code>/dev/async</code> file simultaneously.</p>
<p>The system displays an error message when a process tries to open the <code>/dev/async</code> file after the maximum number of processes have opened the file. This error can reduce performance on systems with a large number of shadow processes or many parallel query slaves performing asynchronous Input-Output. This error is not recorded. To avoid this error, estimate the highest likely number of processes that can access the <code>/dev/async</code> file and set the <code>MAX_ASYNC_PORTS</code> parameter to this value.</p>
</li>
<li>
<p>Select <span class="bold">Actions</span>, and then select <span class="bold">Process a New Kernel</span>.</p>
</li>
<li>
<p>Select one of the following options, and then click <span class="bold">OK</span>:</p>
<ul>
<li>
<p><span class="bold">Move Kernel Into Place and Shutdown System/Reboot Now</span></p>
</li>
<li>
<p><span class="bold">Do Not Move Kernel Into Place: Do Not Shutdown/Reboot Now</span></p>
</li>
</ul>
<p>If you choose the second option, then the new kernel, <code>vmunix_test</code>, and the <code>system.SAM</code> configuration file used to create it, are both created in the <code>/stand/build</code> directory.</p>
</li>
</ol>
<p>To enable asynchronous Input-Output operations using the HP-UX asynchronous device driver:</p>
<ol>
<li>
<p>Log in as the <code>root</code> user.</p>
</li>
<li>
<p>If <code>/dev/async</code> does not exist, use the following command to create it:</p>
<pre xml:space="preserve" class="oac_no_warn"># /sbin/mknod /dev/async c 101 0x0
</pre>
<p>By default, the minor number is set to 0. The following table describes the various minor numbers for 8-bit that you can use to create a device file:</p>
<div class="inftblinformal">
<table class="Informal" title="Minor numbers of 8-bit" summary="Description of Minor numbers of 8-bit" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="17%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t8"><a id="sthref533" name="sthref533"></a>Minor number</th>
<th align="left" valign="bottom" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t8" headers="r1c1-t8">0x0</td>
<td align="left" headers="r2c1-t8 r1c2-t8">This is the HP-UX default value for <code>/dev/async</code>.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t8" headers="r1c1-t8">0x4</td>
<td align="left" headers="r3c1-t8 r1c2-t8">Enable disc device timeouts to complete with an error code rather than retrying forever. This setting is necessary for application-level disc mirroring, so as to avoid the situation where the application waits forever for a failed disc device to be repaired. Oracle RDBMS users should enable this feature when Automatic Storage Management mirroring/replication (internal redundancy) is used. SGA will be locked in memory.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t8" headers="r1c1-t8">0x100</td>
<td align="left" headers="r4c1-t8 r1c2-t8">Enable on-demand locking of memory pages by async driver when asyncdsk_open(2) is called. A low-overhead routine is then used to lock a page into memory during I/O operations.
<p>On-demand locking is critically important when using Oracle's Automatic Memory Management feature (the use of <code>MEMORY_TARGET</code> in the <code>init.ora</code> file to control memory usage). RDBMS deployments utilizing dynamic nPar or dynamic vPar features should also configure on-demand locking.</p>
<p>More traditional RDBMS deployments can consider on-demand locking in light of its more obvious effects. Generally speaking, RDBMS startup will be quicker because the complete SGA is not locked into memory immediately. However, some instances will experience a slight run-time performance penalty with on-demand locking as memory pages are dynamically locked/unlocked for each I/O request.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t8" headers="r1c1-t8">0x104</td>
<td align="left" headers="r5c1-t8 r1c2-t8">This is a combination of 0x100 and 0x4. Both the features are enabled.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></li>
<li>
<p>Enter the following command to verify that the <code>/dev/async</code> device file exists and has the major number 101:</p>
<pre xml:space="preserve" class="oac_no_warn"># ls -l /dev/async
</pre>
<p>The output of this command should look similar to the following:</p>
<pre xml:space="preserve" class="oac_no_warn">crw------- 1 oracle   dba     101 0x000000 Oct 28 10:32  /dev/async
</pre></li>
<li>
<p>If required, give the device file the operating system owner and permissions consistent with those of the Oracle software owner and OSDBA group.</p>
<p>If the Oracle software owner is <code>oracle</code> and the OSDBA group is <code>dba</code>, then run the following commands:</p>
<pre xml:space="preserve" class="oac_no_warn"># /usr/bin/chown oracle:dba /dev/async
# /usr/bin/chmod 660 /dev/async
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABFGIAC" name="BABFGIAC"></a><a id="UNXAR309" name="UNXAR309"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">B.4.3</span> Verifying Asynchronous Input-Output<a id="sthref534" name="sthref534"></a></h3>
<p>To verify asynchronous Input-Output, first verify that the HP-UX asynchronous driver is configured for Oracle Database, then verify that Oracle Database is executing asynchronous Input-Output through the HP-UX device driver:</p>
<ul>
<li>
<p><a href="#BABBJCDG">Verifying That HP-UX Asynchronous Driver is Configured for Oracle Database</a></p>
</li>
<li>
<p><a href="#BABDFJDI">Verifying that Oracle Database is Using Asynchronous Input-Output</a></p>
</li>
</ul>
<a id="BABBJCDG" name="BABBJCDG"></a><a id="UNXAR310" name="UNXAR310"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">B.4.3.1</span> Verifying That HP-UX Asynchronous Driver is Configured for Oracle Database</h4>
<p>To verify that the HP-UX asynchronous driver is configured properly for Oracle Database:</p>
<ol>
<li>
<p>Start Oracle Database with a few parallel query slave processes.</p>
</li>
<li>
<p>Start the GlancePlus/UX utility as follows:</p>
<pre xml:space="preserve" class="oac_no_warn">$ gpm
</pre></li>
<li>
<p>In the main window, click <span class="bold">Reports</span> and then click <span class="bold">Process List</span>.</p>
</li>
<li>
<p>In the Process List window, select one parallel query slave process, select <span class="bold">Reports</span>, and then select <span class="bold">Process Open Files</span>.</p>
<p>The list of files currently opened by the parallel query slave process is displayed.</p>
</li>
<li>
<p>In the list of open files, check for the <code>/dev/async</code> file or the 101 0x104000 mode.</p>
<p>If either is in the list, then the <code>/dev/async</code> file has been opened by the parallel query slave process, and the HP-UX asynchronous device driver is configured properly to enable Oracle processes to run asynchronous Input-Output. Make a note of the file descriptor number for the <code>/dev/async</code> file.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABDFJDI" name="BABDFJDI"></a><a id="UNXAR311" name="UNXAR311"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">B.4.3.2</span> Verifying that Oracle Database is Using Asynchronous Input-Output</h4>
<p>To verify that Oracle Database is using asynchronous Input-Output through the HP-UX asynchronous device driver:</p>
<ol>
<li>
<p>Attach the HP-UX <code>tusc</code> utility to the same Oracle parallel query slave that you selected in GlancePlus in the preceding procedure.</p>
</li>
<li>
<p>Run an Input-Output bound query in the environment.</p>
</li>
<li>
<p>Check the pattern of read and write calls in the <code>tusc</code> output.</p>
<p>You can do this, for example, by entering the following command, where <code><span class="codeinlineitalic">pid</span></code> is the process ID of a parallel query slave supposed to process asynchronous Input-Output:</p>
<pre xml:space="preserve" class="oac_no_warn">$ tusc -p <span class="italic">pid</span> &gt; tusc.output
</pre></li>
<li>
<p>After running the query, press <span class="bold">Ctrl+c</span> to disconnect from the process, and then open the <code>tusc.output</code> file.</p>
<p>The following example shows a sample <code>tusc.output</code> file:</p>
<pre xml:space="preserve" class="oac_no_warn">( Attached to process 2052: "ora_p000_tpch" [ 64-bit ])
................... 
........................ 
[2052] read(9, "80\0\001\013  \b\0\0\0\0\0\0\0\0".., 388) .. = 28 
[2052] write(9, "\0\0\00e\0\0\0\080\0\001\013&ETH; \0".., 48) .. = 48 
[2052] read(9, "80\0\001\013&cent; 18\0\0\0\0\0\0\0\0".., 388) .. = 28 
[2052] write(9, "\0\0\00e\0\0\0\080\0\001\01bd4\0".., 48) .. = 48 
</pre>
<pre xml:space="preserve" class="oac_no_warn"></pre>
<p>If the <code>DISK_ASYNCH_IO</code> initialization parameter is not explicitly set to <code>false</code> (set to <code>true</code> by default), then the <code>tusc.output</code> file shows a pattern of asynchronous read/write calls of the same file descriptor (9 in the preceding example) back to back.</p>
<p>Map the file descriptor number in the <code>tusc.output</code> file to that used by <code>/dev/async</code> file in GlancePlus. They should match for the particular parallel query slave process. This verifies that Input-Output through the HP-UX asynchronous driver is asynchronous. With synchronous Input-Output, or if the <code>DISK_ASYNCH_IO</code> initialization parameter is explicitly set to <code>FALSE</code>, you do not see the asynchronous read/write pattern described previously. Instead, you see calls to <code>lseek</code> or <code>pread</code>/<code>pwrite</code>. You also see many different file descriptors (the first argument to read/write) instead of just a single file descriptor.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABJBHJH" name="BABJBHJH"></a><a id="UNXAR312" name="UNXAR312"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">B.4.4</span> Asynchronous Flag in SGA<a id="sthref535" name="sthref535"></a></h3>
<p>Oracle Database on HP-UX uses a nonblocking polling facility provided by the HP-UX asynchronous driver to check the status of Input-Output operations. This polling is performed by checking a flag that is updated by the asynchronous driver based on the status of the Input-Output operations submitted. HP-UX requires that this flag be in shared memory.</p>
<p>Oracle Database configures an asynchronous flag in the SGA for each Oracle process. Oracle Database on HP-UX has a true asynchronous Input-Output mechanism where Input-Output requests can be issued even though some previously issued Input-Output operations are not complete. This helps to enhance performance and ensures good scalability of parallel Input-Output processes.</p>
<p>Releases of Oracle Database earlier than release 8.1.7 were able to run Input-Output operations only from shared memory by using the HP-UX asynchronous driver. Oracle Database 11<span class="italic">g</span> runs Input-Output operations from both shared memory and process-private regions using the new HP-UX asynchronous driver. However, Input-Output operations through the asynchronous driver are not asynchronous in nature. This is because Oracle Database must perform a blocking wait to check the status of Input-Output operations submitted to the asynchronous driver. This causes some Oracle processes, such as the database writer process, to essentially process synchronous Input-Output.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBCBFAE" name="BGBCBFAE"></a><a id="UNXAR313" name="UNXAR313"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">B.5</span> Large Memory Allocations and Oracle Database Tuning<a id="sthref536" name="sthref536"></a><a id="sthref537" name="sthref537"></a></h2>
<p>Applications running on Oracle Database 11<span class="italic">g</span> can use significantly more memory than applications running on earlier releases. This is because Oracle Database 11<span class="italic">g</span> changes the default setting for virtual memory data<a id="sthref538" name="sthref538"></a> pages from D (4KB) to L (4 GB) on HP-UX systems.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABBCBCB">Default Large Virtual Memory Page Size</a></p>
</li>
<li>
<p><a href="#BABBBGBF">Tuning Recommendations</a></p>
</li>
<li>
<p><a href="#BABGAJFH">Tunable Base Page Size</a></p>
</li>
</ul>
<a id="BABBCBCB" name="BABBCBCB"></a><a id="UNXAR315" name="UNXAR315"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">B.5.1</span> Default Large Virtual Memory Page Size<a id="sthref539" name="sthref539"></a></h3>
<p>By default, Oracle Database uses the largest virtual memory page size setting available on HP-UX for allocating process-private memory. It is defined by the value <code>L</code> (largest.) This value is set as one of the <code>LARGE_PAGE_FLAGS</code> options when linking an Oracle executable.</p>
<p>When the virtual memory page size is set to L, HP-UX allocates the available process-private memory to pages of 1 MB, 4 MB, 16 MB and so on, until it reaches the 1 GB limit, or until it reaches the total amount of allocated memory. If you allocate enough memory to the Oracle PGA for the operating system to be able to allocate memory in larger data page size units, then the operating system allocates the maximum page size at once. For example, if you allocate 48 MB for the Oracle PGA, then the system can have either 3 pages each of 16 MB, or a series of pages in unit sizes with the smaller multiples. For example, four 1 MB pages, three 4 MB pages, and two 16 MB pages. If you allocate 64 MB to the PGA, then the operating system allocates one page of 64 MB, as the data page unit size matches the available memory.</p>
<p>In general, large memory pages yield better application performance by reducing the number of virtual memory translation faults that must be handled by the operating system, freeing more CPU resources for the application. Large pages help to reduce the total number of data pages required to allocate the process-private memory. This reduction decreases the chances of translation lookaside buffer misses at the processor level.</p>
<p>However, if applications are constrained in memory and tend to run a very large number of processes, then this drastic page size increase may lead processes to indicate large memory allocations, followed by an <code>Out of memory</code> error message. If this happens, then you must lower the page size to a value between the D (default) size of 4 KB and the <code>L</code> (largest) size of 4 GB.</p>
<p>With the lowest page size setting (4 KB), CPU utilization can be 20 percent higher than that with a larger page size setting. With the highest setting of <code>L</code>, the memory utilization can be 50 percent higher than that with a 4 MB setting. In cases where the system shows memory constraints, Oracle recommends that you set the page size to match the requirements of the particular application, within the constraints of available memory resources.</p>
<p>For example, an application that has problems with the <code>L</code> setting may show reasonable performance with a 4 MB virtual memory page setting.</p>
</div>
<!-- class="sect2" -->
<a id="BABBBGBF" name="BABBBGBF"></a><a id="UNXAR316" name="UNXAR316"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">B.5.2</span> Tuning Recommendations<a id="sthref540" name="sthref540"></a></h3>
<p>To address tuning for the increased memory allocation required for persistent private SQL areas and large virtual memory page sizes, Oracle recommends that you decrease the virtual memory data page size for Oracle Database as required. Use the following command to alter the page size setting:</p>
<pre xml:space="preserve" class="oac_no_warn"># /usr/bin/chatr +pd <span class="italic">newsize</span> $ORACLE_HOME/bin/oracle
</pre>
<p>In the preceding example, <code><span class="codeinlineitalic">newsize</span></code> represents the new value of the virtual memory page size.</p>
<p>Display the new setting using the <code>chatr</code> command as follows:</p>
<pre xml:space="preserve" class="oac_no_warn"># /usr/bin/chatr $ORACLE_HOME/bin/oracle
</pre></div>
<!-- class="sect2" -->
<a id="BABGAJFH" name="BABGAJFH"></a><a id="UNXAR317" name="UNXAR317"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">B.5.3</span> Tunable Base Page Size</h3>
<p>A large base page size enables efficient memory management. The default value for <code>base_pagesize</code> is 4 KB. The new feature introduced with HP-UX 11.31 enables to adjust the size of the base page, by invoking <code>kctune</code> (1 M) to change the tunable <code>base_pagesize</code> and then restart the computer.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
The base page size feature is not supported on HP-UX PA RISC operating system.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBIJBBA" name="BGBIJBBA"></a><a id="UNXAR318" name="UNXAR318"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">B.6</span> CPU_COUNT Initialization Parameter and HP-UX Dynamic Processor Reconfiguration<a id="sthref541" name="sthref541"></a><a id="sthref542" name="sthref542"></a><a id="sthref543" name="sthref543"></a><a id="sthref544" name="sthref544"></a></h2>
<p>HP-UX 11<span class="italic">i</span> supports dynamic run-time reconfiguration of processor sets and dynamic reassignment of workload between processor sets by valid users.</p>
<p>HP-UX Virtual Partitions enable users to configure their systems in multiple logical partitions where each partition is assigned its own set of processors, memory, and Input-Output resources, and can run a separate instance of the HP-UX operating system. HP-UX processor sets integrated with vPars support dynamic processor migration from one virtual partition to another without requiring a restart of any virtual partition. This helps to provide efficient resource partitioning between applications to minimize interference and guarantees necessary resource allocation to each application running on the HP-UX server.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Refer to the "<a class="olink CNCPT1985" href="http://www.oracle.com/pls/db112/lookup?id=CNCPT1985">System and Database Changes</a>" section in the <a class="olink CNCPT" href="http://www.oracle.com/pls/db112/lookup?id=CNCPT"><span class="italic">Oracle Database Concepts</span></a> guide for more information on dynamic resource provisioning</div>
</div>
<!-- class="sect1" -->
<a id="BABJCHJJ" name="BABJCHJJ"></a><a id="UNXAR319" name="UNXAR319"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">B.7</span> Network Information Service external naming support</h2>
<p>Network Information Service external naming adapter is supported on HP-UX. To configure and use Network Information Service external naming, refer to the "Configuring External Naming Methods" section of <a class="olink NETAG" href="http://www.oracle.com/pls/db112/lookup?id=NETAG"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="BABIFHJD" name="BABIFHJD"></a><a id="UNXAR320" name="UNXAR320"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">B.8</span> Activating and Setting Expanded Host Names and Node Names</h2>
<p>The system node names and host names have default length limits of 8 and 64 bytes. The system administrator can configure the system to expand both these limits to 255 bytes.</p>
<p>A dynamic kernel tunable parameter <code>expanded_node_host_names</code>, must be turned on to allow larger names to be set.</p>
<p>To turn on the kernel parameter, run the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">kctune expanded_node_host_names=1
</pre>
<p>To turn off the kernel parameter, run the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">kctune expanded_node_host_names=0
</pre></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="appa_aix.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="appc_linux.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
