<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Oracle&reg; Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="Date" content="2010-11-29T14:7:28Z" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="doctitle" content="Oracle&reg; Database Readme 11g Release 2 (11.2)" />
<meta name="partno" content="E17129-05" />
<meta name="docid" content="READM" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="alternate" href="../e17129.pdf" title="PDF version" type="application/pdf" />
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Database Readme<br />
11<i>g</i> Release 2 (11.2)</b><br />
Part Number E17129-05</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="196">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">&nbsp;</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e17129.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header -->
<h1>Oracle&reg; Database</h1>
<p class="booktitle">Readme</p>
<p><span class="revnumber">11<span class="italic">g</span> Release 2 (11.2)</span></p>
<p class="invpartnumber">E17129-05</p>
<p class="date">November 2010</p>
<p class="subhead2"><a id="sthref1" name="sthref1"></a>Purpose of this Readme</p>
<p>This Readme file is relevant only to the delivered Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1 and 11.2.0.2) product and its integral parts, such as SQL, PL/SQL, the Oracle Call Interface (OCI), SQL*Loader, Import/Export utilities, and so on.</p>
<p>This Readme documents differences between the server and its integral parts and its documented functionality, as well as known problems and workarounds.</p>
<p>A complete list of open known bugs is available on the product CD.</p>
<p>Operating system releases, such as Linux, UNIX and Windows, often provide readme documents specific to that operating system. Additional Readme files may also exist. This Readme file is provided instead of system bulletins or similar publications.</p>
<p>For licensing information, refer to the <span class="italic"><a class="olink DBLIC" href="../../license.112/e10594/toc.htm">Oracle Database Licensing Information</a></span>.</p>
<p>The major sections of this Readme file are:</p>
<ul>
<li>
<p><a href="#CHDEIHDD">Readme Information for Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1)</a></p>
</li>
<li>
<p><a href="#CHDIEHCH">Readme Information for Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2)</a></p>
</li>
<li>
<p><a href="#CHDHECEF">Documentation Accessibility</a></p>
</li>
</ul>
<a id="CHDEIHDD" name="CHDEIHDD"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">1</span> Readme Information for Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1)</h2>
<div class="infoboxnote">
<p class="notep1">Note:</p>
<span class="bold">If you are on Oracle Database 11</span><span class="bolditalic">g</span> <span class="bold">Release 2 (11.2.0.1), this is the Readme section that you need to read.</span></div>
<p>This section of the Readme contains the following sub-sections:</p>
<p><a href="#CHDJHCIC">Section 1.1, "Nomenclature Changes"</a></p>
<p><a href="#CHDIBBAE">Section 1.2, "Compatibility, Upgrading, Downgrading, and Installation"</a></p>
<p><a href="#CHDDFBBI">Section 1.3, "Features Not Available or Restricted in 11.2.0.1"</a></p>
<p><a href="#CHDCIEDH">Section 1.4, "Default Behavior Changes"</a></p>
<p><a href="#CHDJDIGJ">Section 1.5, "Automatic Storage Management"</a></p>
<p><a href="#CHDIBHJD">Section 1.6, "Oracle Enterprise Manager Database Control"</a></p>
<p><a href="#CHDJBICA">Section 1.7, "Database Security"</a></p>
<p><a href="#CHDCAAEJ">Section 1.8, "Encryption and Integrity"</a></p>
<p><a href="#CHDEJBGD">Section 1.9, "Java and Web Services"</a></p>
<p><a href="#CHDDAEGB">Section 1.10, "Media Management Software"</a></p>
<p><a href="#CHDIBEHG">Section 1.11, "Oracle Application Express"</a></p>
<p><a href="#CHDDHHCC">Section 1.12, "Oracle Client Applications"</a></p>
<p><a href="#CHDIIEJA">Section 1.13, "Oracle Configuration Manager"</a></p>
<p><a href="#CHDCJGFA">Section 1.14, "Oracle Data Mining"</a></p>
<p><a href="#CHDFFGCC">Section 1.15, "Oracle Internet Directory"</a></p>
<p><a href="#CHDBFFBF">Section 1.16, "Oracle Multimedia"</a></p>
<p><a href="#CHDGBGHG">Section 1.17, "Oracle Net Services"</a></p>
<p><a href="#CHDJJIJH">Section 1.18, "Oracle Real Application Clusters"</a></p>
<p><a href="#CHDFIJJB">Section 1.19, "Oracle Grid Infrastructure for a Cluster"</a></p>
<p><a href="#CHDHFGBJ">Section 1.20, "Oracle Real Application Testing"</a></p>
<p><a href="#CHDDGFCC">Section 1.21, "Oracle ODBC Driver"</a></p>
<p><a href="#CHDIDEHJ">Section 1.22, "Oracle OLAP"</a></p>
<p><a href="#CHDBDGDJ">Section 1.23, "Oracle Spatial"</a></p>
<p><a href="#CHDGBCBD">Section 1.24, "Oracle SQL Developer"</a></p>
<p><a href="#CHDCDDHH">Section 1.25, "Oracle Text"</a></p>
<p><a href="#CHDIFGDA">Section 1.26, "Oracle Ultra Search"</a></p>
<p><a href="#CHDFDDCB">Section 1.27, "Oracle Warehouse Builder"</a></p>
<p><a href="#CHDGBHHC">Section 1.28, "Oracle Workflow"</a></p>
<p><a href="#CHDIAFGI">Section 1.29, "Oracle XML DB"</a></p>
<p><a href="#CHDFJACH">Section 1.30, "PL/SQL"</a></p>
<p><a href="#CHDIFBBI">Section 1.31, "Pro*C"</a></p>
<p><a href="#CHDDIDCC">Section 1.32, "Pro*COBOL"</a></p>
<p><a href="#CHDEHHGA">Section 1.33, "SQLJ"</a></p>
<p><a href="#CHDEEGAB">Section 1.34, "SQL*Plus"</a></p>
<p><a href="#CHDDJBED">Section 1.35, "Summary Management"</a></p>
<p><a href="#CHDFGHAG">Section 1.36, "Oracle Streams"</a></p>
<p><a href="#CHDJAGIA">Section 1.37, "Documentation Addendum"</a></p>
<p><a href="#CHDEHEGG">Section 1.38, "Open Bugs"</a></p>
<a id="CHDJHCIC" name="CHDJHCIC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.1</span> Nomenclature Changes</h3>
<p>Note the following nomenclature changes:</p>
<ul>
<li>
<p>Flash Recovery Area has been renamed to Fast Recovery Area.</p>
</li>
<li>
<p>The name Oracle <span class="italic">inter</span>Media was changed to Oracle Multimedia in Oracle Database 11<span class="italic">g</span> Release 1 (11.1). The feature remains the same, only the name has changed.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDIBBAE" name="CHDIBBAE"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.2</span> Compatibility, Upgrading, Downgrading, and Installation</h3>
<p>For late-breaking updates and best practices about preupgrade, post-upgrade, compatibility, and interoperability discussions, see Note 785351.1 on My Oracle Support (formerly Oracle<span class="italic">MetaLink</span> at <code><a href="https://metalink.oracle.com/">https://metalink.oracle.com/</a></code>) that links to the "Upgrade Companion" web site for Oracle Database 11<span class="italic">g</span> Release 2.</p>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
After installation is complete, do not manually remove or run <code>cron</code> jobs that remove <code>/tmp/.oracle or /var/tmp/.oracle</code> directories or their files while Oracle software is running. If you remove these files, then Oracle software can encounter intermittent hangs. Oracle Grid Infrastructure for a cluster and Oracle Restart installations fail with the following error:
<pre xml:space="preserve" class="oac_no_warn">CRS-0184: Cannot communicate with the CRS daemon.
</pre></div>
<div class="sect3"><a id="sthref2" name="sthref2"></a>
<h4 class="sect3"><span class="secnum">1.2.1</span> Deinstallation Restrictions</h4>
<p>The following sections describe deinstallation and deconfiguration restrictions. See <a href="#g51773683">Section 1.38.2, "Deinstallation Tool Known Bugs"</a> for additional information.</p>
<div class="sect4"><a id="sthref3" name="sthref3"></a>
<h5 class="sect4"><span class="secnum">1.2.1.1</span> Deinstallation Using OUI</h5>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2), a separate deinstallation and deconfiguration tool ships with the product (as a separate download). Use the <code>deinstall</code> tool to deinstall and deconfigure the software. This tool can be used to deinstall and deconfigure Oracle Grid Infrastructure for a cluster homes, Oracle Real Application Clusters (Oracle RAC) database homes, single-instance databases, database clients, and Oracle Grid Infrastructure for standalone server (Oracle Restart) homes.</p>
<p>The <code>deinstall</code> tool is also installed in all Oracle homes. To use the tool, run it from the Oracle home. The <code>deinstall</code> tool has built-in intelligence to check installed software, and access the files that it needs to complete the deinstallation. If the tool detects missing files, it prompts you to download a standalone version of the <code>deinstall</code> tool to complete a deinstallation successfully.</p>
<p>Refer to the Readme that is included with the <code>deinstall</code> tool download for more information.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref4" name="sthref4"></a>
<h5 class="sect4"><span class="secnum">1.2.1.2</span> Error When Running Deinstallation from an Existing Oracle Home With the -home Option</h5>
<p>If you try to run the <code>deinstall</code> tool from the product home with the <code>-home</code> option, then the deinstallation fails with the following error message:</p>
<pre xml:space="preserve" class="oac_no_warn">$ ./deinstall -home /scratch/user_dir/oracle/product/11.2.0/dbhome_1
Error: invalid argument -home.
Since the tool is run from inside an Oracle Home it will deinstall the home
the tool is installed in. You cannot specify another home.
</pre>
<p>Because the <code>deinstall</code> tool is run from within an Oracle home, the <code>deinstall</code> tool cannot be run with the <code>-home</code> option. The <code>deinstall</code> tool can only be run as <code>./deinstall</code> from within an Oracle home.</p>
</div>
<!-- class="sect4" -->
<a id="BABBCCGH" name="BABBCCGH"></a>
<div class="sect4">
<h5 class="sect4"><span class="secnum">1.2.1.3</span> Deinstall Upgraded 11.2 Oracle RAC and Oracle Grid Infrastructure for a Cluster Homes</h5>
<p>After you deconfigure and deinstall an upgraded Oracle Database 11<span class="italic">g</span> Release 2 (11.2) Oracle RAC home and to deconfigure and deinstall an 11.2 Oracle Grid Infrastructure for a cluster home, you must detach any pre-11.2 Oracle RAC software homes from the central Inventory (reference Bug 8666509).</p>
<p>Detach the pre-11.2 Oracle RAC homes from the central inventory with the following command:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/oui/bin/runInstaller -detachHome <span class="italic">ORACLE_HOME_NAME</span>=<span class="italic">pre-11.2_ORACLE_HOME_NAME</span> <span class="italic">ORACLE_HOME</span>=<span class="italic">pre-11.2_ORACLE_HOME</span>
</pre></div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref5" name="sthref5"></a>
<h5 class="sect4"><span class="secnum">1.2.1.4</span> Delete /tmp/install Directory Before Running the Deinstallation Tool</h5>
<p>If the <code>/tmp/install</code> directory exists prior to running the deinstallation and deconfiguration tool, remove the directory and rerun the tool again (reference Bug 8729651).</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref6" name="sthref6"></a>
<h4 class="sect3"><span class="secnum">1.2.2</span> Time Zone File Version</h4>
<p>Oracle Database 11<span class="italic">g</span> Release 2 (11.2) ships with time zone file versions 1 through 11. If your older database is using a time zone file version greater than 11, then you must obtain the corresponding time zone file patch for 11.2 prior to upgrading your database.</p>
<p>You can use <code>SELECT VERSION FROM V$TIMEZONE_FILE</code> to identify the time zone file version when upgrading your Oracle Database 10<span class="italic">g</span> or 11<span class="italic">g</span> databases. The Pre-Upgrade Information Tool (<code>utlu112i.sql</code> and its counterpart used by the Database Upgrade Assistant) provides a warning if the time zone file version is not version 11. The warning recommends running the <code>DBMS_DST</code> package to upgrade the database time zone version to the latest and to update <code>TIMESTAMP WITH TIME ZONE</code> data as well. The Pre-Upgrade Information Tool also populates three new database properties (<code>DST_PRIMARY_TT_VERSION</code>, <code>DST_SECONDARY_TT_VERSION</code>, and <code>DST_UPGRADE_STATE</code>) in <code>sys.database_properties</code> that are pertinent to the time zone version and its upgrade. <code>DST_PRIMARY_TT_VERSION</code> property records the actual time zone version in use. The other two database properties will be used when you upgrade your time zone version using <code>DBMS_DST</code> package.</p>
<p>Note that, in this release, you have the option to retain your current time zone version after migrating to 11.2. For example, whether your application uses any <code>TIMESTAMP WITH TIME ZONE</code> type, you do not need to run the <code>DBMS_DST</code> package to upgrade your time zone version to the latest one available.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref7" name="sthref7"></a>
<h4 class="sect3"><span class="secnum">1.2.3</span> Oracle ASM Rolling Upgrade</h4>
<p>Oracle Automatic Storage Management (ASM) rolling upgrade check does not allow rolling upgrade to be done from 11.1.0.6 to any later release (reference Bug 6872001). The following message is reported in the alert log:</p>
<pre xml:space="preserve" class="oac_no_warn">Rolling upgrade from 11.1.0.6 (instance <span class="italic">instance-number</span>) to 11.x.x.x is not supported
</pre>
<p><code>ORA-15156</code> is signalled by LMON which will then terminate the instance.</p>
<p>When trying to upgrade Oracle ASM from 11.1.0.6 to a later release of Oracle ASM, apply the patch for this bug to 11.1.0.6 instances before rolling upgrade starts. This patch can be applied to 11.1.0.6 instances in a rolling fashion.</p>
<p>After the patch has been installed, set the <code>ASMCA_ROLLING_UPGRADE</code> user environment variable to <code>true</code>. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">$ EXPORT ASMCA_ROLLING_UPGRADE=true
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref8" name="sthref8"></a>
<h4 class="sect3"><span class="secnum">1.2.4</span> UTC Time Zone Error When Upgrading From 9.2 to 11.2</h4>
<p>When running upgrade scripts from Oracle9<span class="italic">i</span> Database Release 2 (9.2) to Oracle Database 11<span class="italic">g</span> Release 2 (11.2), you may encounter the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-27465: invalid value UTC for attribute DEFAULT_TIMEZONE
</pre>
<p>This error occurs because the default time zone file for release 9.2 does not have the coordinated universal time (UTC) zone. This message is produced by Oracle Scheduler that, by default, selects the UTC time zone and checks it against the default time zone file of release 9.2. This error message is expected and you can ignore it.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref9" name="sthref9"></a>
<h4 class="sect3"><span class="secnum">1.2.5</span> Standard Edition Starter Database Upgrade</h4>
<p>When the Standard Edition (SE) starter database is upgraded, the following components cannot be upgraded by the SE server because they require options that are not installed in the Standard Edition:</p>
<ul>
<li>
<p>OLAP Catalog</p>
</li>
<li>
<p>OLAP Analytic Workspace</p>
</li>
<li>
<p>Oracle OLAP API</p>
</li>
<li>
<p>Oracle Spatial</p>
</li>
</ul>
<p>After the upgrade, these components will have a <code>STATUS</code> value of <code>OPTION OFF</code> in the <code>DBA_REGISTRY</code> view, and there will be some invalid objects in the associated component schemas. The Database Upgrade Assistant (DBUA) will show unsuccessful upgrades for these components (reference Bug 8621666).</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref10" name="sthref10"></a>
<h4 class="sect3"><span class="secnum">1.2.6</span> Tablespace and Fast Recovery Area Sizing</h4>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Fast Recovery was previously known as Flash Recovery.</div>
<p>The Oracle Database 11<span class="italic">g</span> Pre-Upgrade Information Utility (<code>utlu112i.sql</code>) estimates the additional space that is required in the <code>SYSTEM</code> tablespace and in any tablespaces associated with the components that are in the database (for example, <code>SYSAUX</code>, <code>DRSYS</code>). For a manual upgrade, be sure to run this utility on your existing database prior to upgrading.</p>
<p>The tablespace size estimates may be too small, especially if Oracle XML DB is installed in your database. However, to avoid potential space problems during either a manual upgrade or an upgrade using the Database Upgrade Assistant (DBUA), you can set one data file for each tablespace to <code>AUTOEXTEND ON MAXSIZE UNLIMITED</code> for the duration of the upgrade.</p>
<p>If you are using file systems for data file storage, then be sure there is adequate space in the file systems for tablespace growth during the upgrade.</p>
<p>If you are using a Fast Recovery Area, then check that the size available is sufficient for the redo generated during the upgrade. If the size is inadequate, then an <code>ORA-19815</code> error will be written to the alert log, and the upgrade will stop until additional space is made available.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref11" name="sthref11"></a>
<h4 class="sect3"><span class="secnum">1.2.7</span> Setting Memory Target at Instance Startup on Linux</h4>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 1 (11.1), Oracle provides the option of automatically managing SGA and PGA with a combined <code>MEMORY_TARGET</code> parameter without having to set <code>SGA_TARGET</code> and <code>PGA_AGGREGATE_TARGET</code> explicitly. This is supported on Linux, Windows, Solaris, HPUX, and AIX (reference Bug 7258378).</p>
<p>If you see the <code>ORA-00845</code> error reported on Linux machines at Oracle instance startup when using the <code>MEMORY_TARGET</code> parameter, then check the size of <code>/dev/shm</code>. If <code>/dev/shm</code> is not configured, then mount it sized to be at least the value of <code>MEMORY_TARGET</code>. If <code>/dev/shm</code> is configured but the amount of available space reported (through <code>df -k /dev/shm</code>) is less than <code>MEMORY_TARGET</code>, then free the space or mount a larger <code>/dev/shm</code> to satisfy the <code>MEMORY_TARGET</code> size. Note that if you set the <code>MEMORY_MAX_TARGET</code> parameter greater than <code>MEMORY_TARGET</code>, then ensure that <code>/dev/shm</code> is sized to be at least the value of <code>MEMORY_MAX_TARGET</code>.</p>
<div class="sect4"><a id="sthref12" name="sthref12"></a>
<h5 class="sect4"><span class="secnum">1.2.7.1</span> Memory Target for Oracle Database Instances</h5>
<p>Running Database Configuration Assistant (DBCA) defaults to this Automatic Memory Management option. In the case of upgrade or manual database creation, <code>MEMORY_TARGET</code> can be specified in the initialization parameter file.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref13" name="sthref13"></a>
<h4 class="sect3"><span class="secnum">1.2.8</span> Upgrading Databases with Oracle Multimedia, Oracle Spatial, or XDK for Java</h4>
<p>Oracle Multimedia (formerly called Oracle <span class="italic">inter</span>Media), Oracle Spatial, and Oracle XDK for Java use Oracle XML DB. If any of these components are installed with the database, then Oracle XML DB is automatically installed to support them.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref14" name="sthref14"></a>
<h4 class="sect3"><span class="secnum">1.2.9</span> Upgrading a Database With Oracle Warehouse Builder (OWB)</h4>
<p>If you are upgrading a database with OWB installed and configured, the OWB component will not be upgraded as part of the database upgrade process and therefore the version of OWB will remain the same after the database upgrade (reference Bug 9473944). The OWB component must be upgraded as a separate step as described in the <a class="olink WBINS" href="../../owb.112/e17130/toc.htm"><span class="italic">Oracle Warehouse Builder Installation and Administration Guide for Windows and Linux</span></a>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref15" name="sthref15"></a>
<h4 class="sect3"><span class="secnum">1.2.10</span> Compatibility with Oracle9<span class="italic">i</span> Database Release 2</h4>
<p>Connecting the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) client or server to Oracle9<span class="italic">i</span> Database release (9.2.0.4 and above) is supported. Similarly, connecting Oracle9<span class="italic">i</span> client (release 9.2.0.4 and above) to Oracle Database 11<span class="italic">g</span> Release 2 (11.2) is supported.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref16" name="sthref16"></a>
<h4 class="sect3"><span class="secnum">1.2.11</span> Enabling Automated Backups</h4>
<p>While installing Oracle Database, the Specify Backup and Recovery Options screen may appear truncated if your system does not have the required fonts installed. If your system has only fixed-width fonts, then you may not be able to fully specify the required information in the Backup Job Credentials area of the screen. To work around this issue, do not select <span class="bold">Enable Automated Backups</span> on this screen. After the installation is complete, use Oracle Enterprise Manager 11<span class="italic">g</span> Database Control to enable automated backups.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref17" name="sthref17"></a>
<h4 class="sect3"><span class="secnum">1.2.12</span> Upgrading a Database With SQL Access Advisor Tasks</h4>
<p>Due to internal structural changes to the SQL Access Advisor repository, a database upgrade resets all of the existing SQL Access Advisor tasks to their initial state. This action effectively deletes all of the recommendation information for tasks that have been successfully completed prior to the upgrade.</p>
<p>After upgrading, the recommendation information can be restored by reexecuting the existing SQL Access Advisor tasks.</p>
</div>
<!-- class="sect3" -->
<a id="BABFDHDI" name="BABFDHDI"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.2.13</span> Downgrade to Release 11.1.0.6</h4>
<p>If you anticipate downgrading back to release 11.1.0.6, then apply the patch for Bug 7634119. This action avoids the following <code>DBMS_XS_DATA_SECURITY_EVENTS</code> error:</p>
<pre xml:space="preserve" class="oac_no_warn">PLS-00306: wrong number or types of arguments in call
to 'INVALIDATE_DSD_CACHE' DBMS_XS_DATA_SECURITY_EVENTS
PL/SQL: Statement ignored
</pre>
<p>Apply this patch prior to running <code>catrelod.sql</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref18" name="sthref18"></a>
<h4 class="sect3"><span class="secnum">1.2.14</span> Downgrade to Release 10.2.0.4</h4>
<p>If you anticipate downgrading back to release 10.2.0.4, then apply the patch for Bug 4309607 to the 10.2.0.4 Oracle home prior to running <code>catrelod.sql</code>. This patch is not needed for later 10.2.0.<span class="italic">x</span> patch releases. Applying this patch avoids the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-00600: internal error code, arguments: [koputilcvto2n], [15], [1035], [], [], [], [], []
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref19" name="sthref19"></a>
<h4 class="sect3"><span class="secnum">1.2.15</span> Downgrade from 11.2 to 10.2 Results in an Error</h4>
<p>Downgrades from 11.2.0.1 to 10.2.0.4 can result in an <code>ORA-600 [koputilcvto2n]</code> error (reference BLR 8568714 and Bug 4309607).</p>
<p>To workaround this problem, apply patch 4309607 for 10.2.0.2 to the 10.2.0.2 Oracle home prior to downgrading from 11.2.0.1 to 10.2.0.2.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref20" name="sthref20"></a>
<h4 class="sect3"><span class="secnum">1.2.16</span> Rolling Upgrade for Oracle Clusterware</h4>
<p>In Oracle Database 11<span class="italic">g</span> Release 2 (11.2), there is a new prerequisite check during the rolling Oracle Clusterware upgrade cycle. On failure of this prerequisite check, the <span class="italic"><a class="olink UPGRD" href="http://www.oracle.com/pls/db112/lookup?id=UPGRD">Oracle Database Upgrade Guide</a></span> documents the following:</p>
<dl>
<dd>When upgrading Oracle Clusterware from Oracle Clusterware 10<span class="italic">g</span> Release 2 (10.2) to Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2), you must first apply the patchset version 10.2.0.3.0 or later to your existing Oracle Clusterware before it can be upgraded.</dd>
</dl>
<p>Follow the rolling upgrade procedure in Appendix F.5.1 of the <a class="olink CWLIN" href="../../install.112/e17212/toc.htm"><span class="italic">Oracle Grid Infrastructure Installation Guide for Linux</span></a>.</p>
<p>Apart from this proposed solution, there is an alternative. You can upgrade all of the nodes of the cluster simultaneously in a non-rolling manner. Choosing this solution voids the 10.2.0.3.0 patchset requirement.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref21" name="sthref21"></a>
<h4 class="sect3"><span class="secnum">1.2.17</span> Reusing the Oracle 9<span class="italic">i</span> Database Release 2 Listener Port on Release 11.2</h4>
<p>If you reuse the same Oracle9<span class="italic">i</span> Database Release 2 (9.2) listener port for the <code>SCAN</code> <code>VIP</code> listener while installing Oracle Clusterware release 11.2 on nodes that have Oracle RAC release 9<span class="italic">i</span>, then you must ensure that your 9.2 listener is stopped (reference Bug 8688350).</p>
<p>Alternatively, you can stop the 9.2 listener, add <code>IP=FIRST</code> for the listener configuration in 9.2 <code>listener.ora</code> file, and restart the 9.2 listener before continuing with the Oracle Grid Infrastructure for a cluster installation.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref22" name="sthref22"></a>
<h4 class="sect3"><span class="secnum">1.2.18</span> Upgrading a Database With Oracle Label Security (OLS)</h4>
<p>If you are upgrading a pre-11.2 database with OLS installed and configured, then you need to do one of the following for the upgrade of the database to succeed:</p>
<ul>
<li>
<p>Execute a custom installation of OLS in the 11.2 installation before starting the upgrade of the pre-11.2 database.</p>
</li>
<li>
<p>If you do not want OLS in the upgraded database, then deinstall OLS before starting the upgrade.</p>
</li>
</ul>
<p>If you do not execute one of the previously mentioned actions, then you will encounter an error (<code>ORA-01012: not logged on</code>) during the upgrade (reference Bug 8707506). For example, after executing the <code>SHUTDOWN IMMEDIATE</code> command, the following error appears:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-12432: LBAC error: zllesesinit:OCIStmtExecute
</pre></div>
<!-- class="sect3" -->
<a id="BABJBDDG" name="BABJBDDG"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.2.19</span> Upgrading With Objects in the Recycle Bin</h4>
<p>The recycle bin must be empty during an upgrade to avoid possible <code>ORA-00600</code> deadlock errors, as well as to minimize the time required to perform the upgrade (reference Bug 8632581).</p>
<p>To avoid this deadlock, use the <code>PURGE DBA_RECYCLEBIN</code> statement to remove items and their associated objects from the recycle bin and release their storage space prior to upgrading your database.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref23" name="sthref23"></a>
<h4 class="sect3"><span class="secnum">1.2.20</span> Upgrading an 11.2 Database Where Oracle JVM Does Not Exist</h4>
<p>During a database upgrade to 11.2, if Oracle JVM (which creates the PL/SQL package <code>DBMS_JAVA</code>) does not exist in the database, then the following error appears (reference Bug 8746395):</p>
<pre xml:space="preserve" class="oac_no_warn">ERROR at line 1:
ORA-06550: line 1, column 7:
PLS-00201: identifier 'SYS.DBMS_JAVA' must be declared
ORA-06550: line 1, column 7:
PL/SQL: Statement ignored
</pre>
<p>This error can be safely ignored and the upgrade will continue.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref24" name="sthref24"></a>
<h4 class="sect3"><span class="secnum">1.2.21</span> Diagnosability Framework Errors After Downgrading from Release 11.2 to 11.1</h4>
<p>After downgrading from Oracle Database release 11.2 to 11.1, the error <code>ORA-48318</code> may occur in the alert log, or when using the ADR Command Interpreter (ADRCI) utility (reference Bug 6976775). An Alert Log example follows:</p>
<pre xml:space="preserve" class="oac_no_warn">Sweep Incident[8130]: failed, err=[48318]
</pre>
<p>The following is an ADRCI example:</p>
<pre xml:space="preserve" class="oac_no_warn">adrci&gt; show incident
DIA-48458: "show incident" failed due to the following errors
DIA-48318: ADR Relation [INCIDENT] of version=4 cannot be supported
</pre>
<p>As a workaround, perform the following steps:</p>
<ol>
<li>
<p>Determine the location of the ADR home:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; select value from v$diag_info where name = 'ADR Home';
 
VALUE
----------------------------------------------------------------
/ade/mfallen_g1/oracle/log/diag/rdbms/g1/g1
</pre></li>
<li>
<p>Stop the database instance.</p>
</li>
<li>
<p>Remove the ADR home directory using operating system utilities. (It is automatically re-created with the proper versions when the instance is restarted.)</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref25" name="sthref25"></a>
<h4 class="sect3"><span class="secnum">1.2.22</span> Response File-Based Installation Issues</h4>
<p>Note the following when doing a response file-based installation:</p>
<ul>
<li>
<p>While saving a response file, if a file with the specified response file name already exists at the destination location and the installation user does not have write permissions to overwrite the file contents, then the Installer does not prompt an error. Instead, the Installer silently fails as if it was successfully saved.</p>
<p>As a workaround, always save the interview inputs (or response) to a new file. If the selected path already exists, then ensure that the installation user has sufficient privileges to overwrite the contents (reference Bug 8725384).</p>
</li>
<li>
<p>The <code>SELECTED_LANGUAGES</code> property in the response file does not have a single value that stands for all of the languages. If you need to install the product in all of the languages, then put all of the language codes in a comma-separated list. An example is provided in the sample response file that is shipped with the product (reference Bug 8630967).</p>
</li>
<li>
<p>The <code>oracle.install.db.InstallEdition</code> property in the response file must not be provided with a value of <code>PE</code>. This value is reserved for Windows operating systems (reference Bug 8631270).</p>
</li>
<li>
<p>While saving a response file for client installation in custom mode, a few components, even though they are selected, are not recorded in the saved response file (reference Bug 8722858). Manually enter these components in the response file for these components. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">oracle.network.cman:11.2.0.1.0 -- "Oracle Connection Manager"
oracle.network.listener:11.2.0.1.0 -- "Oracle Net Listener"
</pre></li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDFBBI" name="CHDDFBBI"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.3</span> Features Not Available or Restricted in 11.2.0.1</h3>
<p>The following is a list of components that are not available or are restricted in Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1):</p>
<ul>
<li>
<p>Database Smart Flash Cache is supported on Solaris and Oracle Linux only.</p>
</li>
<li>
<p>Using Internet Protocol Version 6 (IPv6) is not supported with the following:</p>
<ul>
<li>
<p>Oracle RAC and Oracle Clusterware</p>
</li>
<li>
<p>Oracle Fail Safe</p>
</li>
</ul>
</li>
<li>
<p>Oracle Ultra Search has been desupported and is not shipping with Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
</li>
<li>
<p>Downgrading from Oracle Database 11<span class="italic">g</span> Release 2 (11.2) to release 10.2.0.3 or release 10.2.0.4 is not supported with Oracle Database Vault.</p>
</li>
<li>
<p>Oracle Automatic Storage Management Cluster File System (Oracle ACFS) resources are not supported for Oracle Restart configurations on all platforms. Oracle ACFS drivers must be manually unloaded and loaded; Oracle ACFS file systems must be manually unmounted and mounted (after the Oracle ASM instance is running); Oracle ACFS database home file systems can be placed into the Oracle ACFS mount registry to be mounted along with other registered Oracle ACFS file systems.</p>
</li>
<li>
<p>Refer to <a href="#BABJBJEB">Section 1.10.1</a> for globalization restrictions within Oracle Secure Backup.</p>
</li>
<li>
<p>Refer to <a href="#CHDCJGFA">Section 1.14</a> for features that are no longer available in Oracle Data Mining.</p>
</li>
</ul>
<p>The following sections discuss additional restrictions.</p>
<div class="sect3"><a id="sthref26" name="sthref26"></a>
<h4 class="sect3"><span class="secnum">1.3.1</span> Edition-Based Redefinition</h4>
<p>The following restrictions exist for Oracle Database 11<span class="italic">g</span> Release 2 (11.2):</p>
<ul>
<li>
<p>If the <code>AS CHILD OF</code> clause is omitted when creating an edition, the new edition is created as the child of the database default edition. However, the <a class="olink SQLRF" href="http://www.oracle.com/pls/db112/lookup?id=SQLRF"><span class="italic">Oracle Database SQL Language Reference</span></a> manual specifies that the new edition is created as the child of the one edition that does not have a child (also known as the leaf edition). The <span class="italic">Oracle Database SQL Language Reference</span> manual is correct and the present behavior is incorrect (reference Bug 8681882).</p>
</li>
<li>
<p>The <code>CREATE EDITIONING VIEW</code> command succeeds when the owner of the new editioning view is not editions-enabled. However the <a class="olink SQLRF" href="http://www.oracle.com/pls/db112/lookup?id=SQLRF"><span class="italic">Oracle Database SQL Language Reference</span></a> manual specifies that an editioning view must be owned by an editions-enabled user. The <span class="italic">Oracle Database SQL Language Reference</span> is correct and the present behavior is incorrect (reference Bug 8583698).</p>
</li>
<li>
<p>If an updatable join view is defined on editioning views and the editioning views have triggers defined on them, then DML operations on the updatable join view may fail with various internal errors (reference Bug 8688904).</p>
</li>
<li>
<p>DML on editioning views that are defined on tables that have an object type or nested table columns may result in external or internal (<code>ORA-00600</code>) errors (reference bug 7697126).</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref27" name="sthref27"></a>
<h4 class="sect3"><span class="secnum">1.3.2</span> Database Object Names</h4>
<p>Oracle does not recommend using quoted identifiers for database object names. These quoted identifiers are accepted by SQL*Plus, but they may not be valid when using other tools that manage database objects.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCIEDH" name="CHDCIEDH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.4</span> Default Behavior Changes</h3>
<p>This section describes some of the differences in behavior between Oracle Database 11<span class="italic">g</span> Release 2 (11.2) and previous releases. The majority of the information about upgrading and downgrading is already included in the <span class="italic"><a class="olink UPGRD" href="http://www.oracle.com/pls/db112/lookup?id=UPGRD">Oracle Database Upgrade Guide</a></span>.</p>
<div class="sect3"><a id="sthref28" name="sthref28"></a>
<h4 class="sect3"><span class="secnum">1.4.1</span> Direct Insert Behavior Change</h4>
<p>Direct insert requires memory for every partition loaded. The memory usage is even greater if the partitions are compressed. In previous releases, a direct insert would continue to allocate memory as rows were encountered for previously untouched partitions until all of the partitions were loaded or until it ran out of memory. In this case, the insert fails.</p>
<p>Starting in Oracle Database 11<span class="italic">g</span> Release 2 (11.2), direct insert limits the memory that is allocated. If direct insert reaches the limit and it acquires rows for partitions that have not been loaded during the insert, then direct load stores those rows in the temporary tablespace. Once all rows have been passed in, direct load will load the rows it stored in the temporary tablespace.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref29" name="sthref29"></a>
<h4 class="sect3"><span class="secnum">1.4.2</span> Audit Default Behavior Changes</h4>
<p>Default Audit behavior changes include:</p>
<ul>
<li>
<p>Audit filename is now prefixed with the instance name and ends with a sequence number. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">instanceName_ora_pid_seqNumber</span>.aud / <span class="italic">instanceName_ora_pid_seqNumber</span>.xml
</pre></li>
<li>
<p>An existing audit file is never appended to. If an audit file already exists, the sequence number is incremented and written to <code><span class="codeinlineitalic">instanceName_ora_pid_seqNumber+1</span></code><code>.aud</code>.</p>
</li>
<li>
<p>There is a preconfigured threshold for audit file growth. The audit file associated with an active session remains open until one of the following limits is reached:</p>
<ul>
<li>
<p>After the audit record is written, the audit file size becomes 10 megabytes or more.</p>
</li>
<li>
<p>After the audit record is written, the audit file age becomes 5 days or more.</p>
</li>
</ul>
<p>Once one of these thresholds is reached, a new audit file with an incremented sequence number is opened for further audit records.</p>
</li>
<li>
<p>There are no updates to <code>AUD$</code> anymore.</p>
<ul>
<li>
<p>All logoff (action# 101) audit records are written separately.</p>
</li>
<li>
<p>If an event is audited <code>BY SESSION</code>, then every occurrence of the event becomes a new audit record in <code>AUD$</code>.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABFBCJC" name="BABFBCJC"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.4.3</span> FILE_ACCESS_ROLE Default Behavior Change</h4>
<p>The default behavior of the CTX system parameter <code>FILE_ACCESS_ROLE</code> has changed (reference Bug 8360111). Customers with existing Oracle Text indexes that use the file or URL datastore must take action to continue to use the indexes without error. The changes are as follows:</p>
<ul>
<li>
<p>If <code>FILE_ACCESS_ROLE</code> is null (the default), then access is not allowed. By default, users who were previously able to create indexes of this type will not be able to create these indexes after the change.</p>
</li>
<li>
<p><code>FILE_ACCESS_ROLE</code> is now checked for index synchronization and document service operations. By default, users will not be able to synchronize indexes of this type or use document service calls such as <code>ctx_doc.highlight</code> who were allowed to prior to this change.</p>
</li>
<li>
<p>Only SYS will be allowed to modify <code>FILE_ACCESS_ROLE</code>. Calling <code>ctx_adm.set_parameter (FILE_ACESS_ROLE,</code> <code><span class="codeinlineitalic">role_name</span></code><code>)</code> as a user other than SYS will now raise the new error:</p>
<pre xml:space="preserve" class="oac_no_warn">DRG-10764: only SYS can modify FILE_ACCESS_ROLE
</pre></li>
<li>
<p>Users can set <code>FILE_ACCESS_ROLE</code> to <code>PUBLIC</code> to explicitly disable this check (which was the previous default behavior).</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref30" name="sthref30"></a>
<h4 class="sect3"><span class="secnum">1.4.4</span> Support for Raw Devices</h4>
<p>Oracle Universal Installer (OUI) and Database Configuration Assistant (DBCA) do not support raw devices (or block devices on Linux). However, command-line utilities such as SQL*Plus and CRSCTL do support raw or block devices.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref31" name="sthref31"></a>
<h4 class="sect3"><span class="secnum">1.4.5</span> Oracle Clusterware and Oracle ASM Installed Into Oracle Grid Infrastructure for a Cluster Home</h4>
<p>Oracle Clusterware and Oracle Automatic Storage Management (ASM) are installed into a single Oracle home called the Grid home. This installation is referred to as the Oracle Grid Infrastructure for a cluster installation.</p>
<p>When upgrading, you must upgrade both Oracle Clusterware and Oracle ASM at the same time.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref32" name="sthref32"></a>
<h4 class="sect3"><span class="secnum">1.4.6</span> Deprecated Parameters in the Oracle ASM Instance</h4>
<p>The following initialization parameters are deprecated in the Oracle ASM instance:</p>
<ul>
<li>
<p><code>CLUSTER_DATABASE</code> parameter</p>
<p>If the <code>INSTANCE_TYPE</code> is Oracle ASM and the Oracle RAC option is turned on, then you do not have to specify the <code>CLUSTER_DATABASE</code> parameter. In this case, the <code>CLUSTER_DATABASE</code> parameter defaults to <code>TRUE</code>.</p>
</li>
<li>
<p><code>COMPATIBLE</code> parameter</p>
<p>Do not set the <code>COMPATIBLE</code> parameter in an Oracle ASM instance. To advance the disk group compatibility, change the <code>COMPATIBLE.[RDBMS|ASM|ADVM]</code> attributes of the disk group.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref33" name="sthref33"></a>
<h4 class="sect3"><span class="secnum">1.4.7</span> Fixed Views</h4>
<p>All parameter views (for example, <code>V$PARAMETER</code>) in the Oracle ASM instance only report parameters that are relevant to the Oracle ASM instance.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref34" name="sthref34"></a>
<h4 class="sect3"><span class="secnum">1.4.8</span> Offset for CLOB and NCLOB APIs</h4>
<p>Starting with Oracle Database 10<span class="italic">g</span> Release 1 (10.1), APIs that write to a <code>CLOB</code> or <code>NCLOB</code> cause error <code>ORA-22831</code> when the offset specified for the beginning of the write is not on a character boundary of the existing <code>LOB</code> data.</p>
<p><code>LOB</code> APIs use UCS2 codepoint semantics for the amount and offset parameters on <code>CLOBs</code> or <code>NCLOBs</code> when the database default or national character set is multibyte. The specified offset is not on a character boundary if it points to the low (second) surrogate of a surrogate pair. In such situations, error <code>ORA-22831</code> occurs and the data is not written. Thus, this prevents the corruption of the character in the target <code>LOB</code>.</p>
<p>Contact Oracle Support Services to configure the database so that it does not return <code>ORA-22831</code>.</p>
</div>
<!-- class="sect3" -->
<a id="BABJEFJD" name="BABJEFJD"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.4.9</span> Use of the Append Hint Runs Out of Memory When Loading Many Partitions</h4>
<p>Use of direct-path <code>INSERT</code> to load a large number of partitions can exceed memory limits, especially when data compression is specified (reference Bug 6749894). Starting in 11.2, the number of partitions loaded at the same time will be limited, based on the <code>PGA_AGGREGATE_TARGET</code> initialization parameter, to preserve memory. Rows that are not stored in the partitions that are currently being loaded are saved in the temporary tablespace. After all rows are loaded for the current set of partitions, other partitions are loaded from rows that are saved in the temporary tablespace.</p>
<p>This behavior helps prevent the direct-path <code>INSERT</code> from terminating because of insufficient memory.</p>
</div>
<!-- class="sect3" -->
<a id="BABCIDCI" name="BABCIDCI"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.4.10</span> Non-Uniform Memory Access Optimizations and Support Disabled in 11.2</h4>
<p>With Oracle Database 11<span class="italic">g</span> Release 2 (11.2), non-uniform memory access support is disabled by default. This restriction applies to all platforms and operating systems (reference Bug 8450932).</p>
<p>Non-uniform memory access optimizations and support in the Oracle Database are only available for specific combinations of Oracle version, operating systems, and platforms. Work with Oracle Support Services and your hardware vendor to enable non-uniform memory access support.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref35" name="sthref35"></a>
<h4 class="sect3"><span class="secnum">1.4.11</span> View Changes for Advanced Compression</h4>
<p>The <code>COMPRESS_FOR</code> column in various table views, such as <code>user_tables</code> and <code>dba_tables</code>, returns different values in 11.2 as compared to 11.1. The new values returned from a <code>COMPRESS_FOR</code> column are <code>BASIC</code> or <code>OLTP</code>. In 11.1, the value was <code>DIRECT LOAD ONLY</code> and <code>FOR ALL OPERATIONS</code>, respectively.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDJDIGJ" name="CHDJDIGJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.5</span> Automatic Storage Management</h3>
<p>The following sections describe information pertinent to Oracle Automatic Storage Management (ASM) in Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
<div class="sect3"><a id="sthref36" name="sthref36"></a>
<h4 class="sect3"><span class="secnum">1.5.1</span> Oracle Database Data Files and Oracle ACFS</h4>
<p>Oracle ACFS is the preferred file manager for non-database files. It is optimized for general purpose files. Oracle ACFS does not support any file that can be directly stored in Oracle ASM.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDIBHJD" name="CHDIBHJD"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.6</span> Oracle Enterprise Manager Database Control</h3>
<p>The following sections describe information for Database Control in Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
<div class="sect3"><a id="sthref37" name="sthref37"></a>
<h4 class="sect3"><span class="secnum">1.6.1</span> Reorganize Objects</h4>
<p>The following applies to Reorganize Objects:</p>
<ul>
<li>
<p>The database can be adversely affected if metadata changes occur between the time the reorganization script is generated and the time it is completed.</p>
</li>
<li>
<p>The database can be adversely affected if an offline reorganization is attempted while DDL is in progress against the tables being reorganized.</p>
</li>
<li>
<p>Before using the Reorganize Objects wizard or the Make Tablespace Locally Managed wizard in Oracle Enterprise Manager, Oracle recommends that you back up your database.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref38" name="sthref38"></a>
<h4 class="sect3"><span class="secnum">1.6.2</span> Editing Multiple Objects</h4>
<p>Oracle Enterprise Manager only supports having one browser window open for editing an object. For example, Oracle Enterprise Manager only supports editing one tablespace at a time.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If a window is read-only, then you may have multiple browser windows open.</div>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref39" name="sthref39"></a>
<h4 class="sect3"><span class="secnum">1.6.3</span> Requirements for Proxy Settings for Oracle XML DB</h4>
<p>The following are requirements for Oracle XML DB proxy settings:</p>
<ul>
<li>
<p>For an Oracle XML DB Resource to be created using a URL behind the firewall, the proxy in <code>emoms.properties</code> needs to be set.</p>
</li>
<li>
<p>When registering an XML Schema based on a URL, the URL is interpreted by the database itself, in which case, the database proxy might need to be set.</p>
</li>
</ul>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If the proxy settings cannot be changed, then a valid workaround is to save these files locally in the client machine and then use the "Local File" option to create a resource or register a schema.</div>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref40" name="sthref40"></a>
<h4 class="sect3"><span class="secnum">1.6.4</span> Large Number of Database Objects May Require Increase in Heap Size</h4>
<p>Oracle Enterprise Manager DB Control is configured with 192 MB (32-Bit)/384 MB (64-Bit) of heap memory. However, certain Oracle Enterprise Manager DB Control functionality (for example, Change Manager) may require higher memory settings if the database contains a large number of objects.</p>
<p>Memory settings can be increased using the following <code>emctl</code> command:</p>
<pre xml:space="preserve" class="oac_no_warn">emctl config dbconsole -heap_size <span class="italic">MemorySizeValue</span> M
</pre>
<p>Oracle Enterprise Manager DB Control must be restarted for the new settings to take effect.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref41" name="sthref41"></a>
<h4 class="sect3"><span class="secnum">1.6.5</span> New Oracle Database 11<span class="italic">g</span> Release 2 Features Supported by Oracle Enterprise Manager DB Control 11.2 Only</h4>
<p>Management support for new features available with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1), such as policy-managed databases and Oracle ASM Cluster File System, is available in Oracle Enterprise Manager DB Control 11.2 only.</p>
<p>Oracle Database 11g Release 2 (11.2.0.1) features are supported in Oracle Enterprise Manager Grid Control 11.1.</p>
<p>Oracle Enterprise Manager Grid Control 10.2.0.5, which provides management support for previous Oracle Database versions, does not support new Oracle Database 11<span class="italic">g</span> Release 2 (11.2) features. Single-instance database provisioning is also not supported by Grid Control 10.2.0.5.</p>
<p>Note that administrator-managed clustered databases that are upgraded to Oracle Database 11<span class="italic">g</span> Release 2 (11.2) can continue to be monitored using Grid Control 10.2.0.5. For more information on Oracle Database 11<span class="italic">g</span> Release 2 (11.2) monitoring support, click the <span class="bold">Certify</span> tab on the My Oracle Support web site (formerly Oracle<span class="italic">MetaLink</span>) at the following URL:</p>
<p><code><a href="https://metalink.oracle.com">https://metalink.oracle.com</a></code></p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref42" name="sthref42"></a>
<h4 class="sect3"><span class="secnum">1.6.6</span> DB Control Patching</h4>
<p>The following items apply to database patching procedures.</p>
<div class="sect4"><a id="sthref43" name="sthref43"></a>
<h5 class="sect4"><span class="secnum">1.6.6.1</span> "Patch Oracle Clusterware" Deployment Procedure May Fail if Cluster Nodes are at Different Patching Levels</h5>
<p>If the nodes of a cluster are at different patching levels, the "Patch Oracle Clusterware - Rolling" deployment procedure may succeed on some nodes, but fail during the "Conflict Analysis" step for others (reference Bug 8661258).</p>
<p>To resolve this issue, manually roll back the conflicting patch and retry the "Conflict Analysis" step. As an alternative, you can obtain a superset patch from Oracle Support Services and try the deployment procedure again.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref44" name="sthref44"></a>
<h5 class="sect4"><span class="secnum">1.6.6.2</span> SQL Scripts Must be Run Manually on Oracle RAC Instances During Patching</h5>
<p>A SQL script that runs on Oracle RAC instances as part of a patching procedure will only execute on the Oracle RAC instance on which Oracle Enterprise Manager Database Control is running (reference Bug 8645179).</p>
<p>Specifically, if the Oracle home being patched has multiple Oracle RAC instances running with it, and the patch being applied requires that SQL scripts be run on the instances, then "Patch Oracle RAC - Rolling" and "Patch Oracle RAC - All Nodes" Deployment Procedures will execute the SQL only on the Oracle Enterprise Manager DB Control Oracle RAC instance.</p>
<p>The SQL scripts must be run manually on other Oracle RAC instances by following the instructions in the patch README.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref45" name="sthref45"></a>
<h5 class="sect4"><span class="secnum">1.6.6.3</span> OPatch Must be Manually Updated for Patches Requiring the Latest OPatch Version</h5>
<p>Some patches require that the latest version of the OPatch utility be installed in the Oracle homes where they will be applied (reference Bug 8581434). However, OPatch upgrade is not supported in any of the Patching Deployment procedures.</p>
<p>Instead, you must manually download the latest OPatch version for the required platform from My Oracle Support (formerly Oracle<span class="italic">MetaLink</span> at <code><a href="https://metalink.oracle.com/">https://metalink.oracle.com/</a></code>) using patch number 6880880. You can then update each Oracle home with the latest version.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref46" name="sthref46"></a>
<h5 class="sect4"><span class="secnum">1.6.6.4</span> Standalone Listeners Must be Stopped Before Patching</h5>
<p>If a standalone listener is running in an Oracle home that is being patched with either the "Patch Oracle RAC - Rolling" or the "Patch Oracle RAC - All Nodes" Deployment Procedures, then patching fails with the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">CheckActiveFilesAndExecutables failed as <span class="italic">ORACLE_HOME</span>/bin/tnslsnr file is active.
</pre>
<p>To avoid this issue, stop all of the standalone listeners that are running from within the Oracle homes being patched before you begin patching (reference Bug 8581327).</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref47" name="sthref47"></a>
<h5 class="sect4"><span class="secnum">1.6.6.5</span> Stop Multiple Database Instances Running in an Oracle Home Before Patching</h5>
<p>If more than one database instance is running within an Oracle home while being patched, then the "Patch Oracle Database" Deployment Procedure may fail in the "CheckActiveExecutables" step (reference Bug 6278749).</p>
<p>To avoid this issue, stop all database instances other than the one in which Database Control is running before patching.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref48" name="sthref48"></a>
<h5 class="sect4"><span class="secnum">1.6.6.6</span> Clusterware Bundle Patches Must be Applied to Oracle RAC Using OPatch</h5>
<p>If a Clusterware bundle patch contains multiple patches to be applied to an Oracle RAC database, then Database Control cannot be used to apply the patch (reference Bug 8692833). If it is, then the database might not start after patching.</p>
<p>Check the Oracle Clusterware bundle patch Readme to see if the patch contains multiple Oracle RAC patches. If it does, then the patch must be applied manually using OPatch.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref49" name="sthref49"></a>
<h5 class="sect4"><span class="secnum">1.6.6.7</span> Patching From Database Control Not Supported If Oracle RAC Does Not Span All Cluster Nodes</h5>
<p>If there is no Oracle RAC instance within a cluster that spans across all of the nodes within the cluster, and a patch is applied through Database Control, then those nodes not spanned by the Oracle RAC instance will not be patched (reference Bug 8752959).</p>
<p>In this scenario, the cluster must be patched manually by following the instructions in the patch Readme.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Oracle Clusterware patching should only be done from Database Control if Oracle RAC spans across all the nodes in a cluster. Patching of single-cluster installations from Database Control is not supported.</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDJBICA" name="CHDJBICA"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.7</span> Database Security</h3>
<p>Note the following changes in Database Security.</p>
<div class="sect3"><a id="sthref50" name="sthref50"></a>
<h4 class="sect3"><span class="secnum">1.7.1</span> Changes in Default Security Settings</h4>
<p>Java package <code>oracle.security.rdbms.server.AppCtx</code> is deprecated. Classes <code>AppCtxManager</code>, <code>AppCtxPermit</code>, <code>AppCtxUtil</code>, and <code>AppCtxException</code> are part of this package (reference Bug 6736417).</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref51" name="sthref51"></a>
<h4 class="sect3"><span class="secnum">1.7.2</span> UNLIMITED TABLESPACE Privilege Changes</h4>
<p>The <code>UNLIMITED TABLESPACE</code> system privilege will be removed from the <code>RESOURCE</code> role in a future Oracle Database release (reference Bug 7614645).</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCAAEJ" name="CHDCAAEJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.8</span> Encryption and Integrity</h3>
<p>Note the following changes in the areas of encryption and integrity.</p>
<div class="sect3"><a id="sthref52" name="sthref52"></a>
<h4 class="sect3"><span class="secnum">1.8.1</span> Encrypted Tablespaces</h4>
<ul>
<li>
<p>You cannot encrypt an existing tablespace with an <code>ALTER TABLESPACE</code> statement. However, you can use Data Pump or SQL statements such as <code>CREATE TABLE AS SELECT</code> or <code>ALTER TABLE MOVE</code> to move existing table data into an encrypted tablespace.</p>
</li>
<li>
<p>When recovering a database with encrypted tablespaces (for example, after a <code>SHUTDOWN ABORT</code> or a catastrophic error that brings down the database instance), you must open the wallet after database mount and before database open so the recovery process can decrypt data blocks and redo.</p>
</li>
<li>
<p>The master encryption key for Transparent Data Encryption (TDE) tablespace encryption can leverage Hardware Security Modules (HSM) for full key management (for example, create, store, rotate, and retire). In 11.1.0.7, it was only possible to create and store the TDE tablespace encryption master key in HSM, not rotate. Master key for the TDE tablespace encryption can also be migrated from Oracle Wallet to HSM.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDEJBGD" name="CHDEJBGD"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.9</span> Java and Web Services</h3>
<p>Note the following items when working with Java.</p>
<div class="sect3"><a id="sthref53" name="sthref53"></a>
<h4 class="sect3"><span class="secnum">1.9.1</span> Oracle JVM</h4>
<p>Oracle Database 11<span class="italic">g</span> Release 2 (11.2) includes a fully functional Java Virtual Machine (JVM), as well as the Java class libraries for Sun's Java Development Kit (JDK) 5.0. When combined with Oracle's JDBC and SQLJ, this release provides an enterprise class platform, Oracle JVM, for developing and deploying server-based Java applications. Refer to the Oracle JVM Readme file located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/relnotes/readmes/README_javavm.txt
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref54" name="sthref54"></a>
<h4 class="sect3"><span class="secnum">1.9.2</span> Announcing Oracle Universal Connection Pool (UCP) and Deprecation of JDBC Implicit Connection Cache in Favor of UCP</h4>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 1 (11.1.0.7), Oracle has released the new Universal Connection Pool for JDBC. For more details, see the <span class="italic">Oracle Universal Connection Pool for JDBC Developer's Guide</span> at the following Web page:</p>
<p><code><a href="http://www.oracle.com/technology/tech/java/sqlj_jdbc/UCP_dev_guide.pdf">http://www.oracle.com/technology/tech/java/sqlj_jdbc/UCP_dev_guide.pdf</a></code></p>
<p>Consequently, Oracle is deprecating the existing JDBC connection pool (that is, Implicit Connection Cache) that was introduced in Oracle Database 10<span class="italic">g</span> Release 1. Your applications will continue to work until formal desupport in a future release at which time a desupport notice will be posted.</p>
<p>Oracle encourages you to plan to adopt UCP for new applications and plan to change existing applications as indicated in <span class="italic">Transitioning to Oracle Universal Connection Pool (UCP)</span> at the following Web page:</p>
<p><code><a href="http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/ucp_transition_guide.pdf">http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/ucp_transition_guide.pdf</a></code></p>
<p>UCP download and code samples are located at the following Web page:</p>
<p><code><a href="http://www.oracle.com/technology/software/tech/java/sqlj_jdbc/htdocs/ucp.html">http://www.oracle.com/technology/software/tech/java/sqlj_jdbc/htdocs/ucp.html</a></code></p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref55" name="sthref55"></a>
<h4 class="sect3"><span class="secnum">1.9.3</span> JDBC</h4>
<p>The Oracle JDBC product supports the latest Java/JDBC standards. For more details, refer to the JDBC Readme file located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/relnotes/readmes/README_jdbc.txt
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref56" name="sthref56"></a>
<h4 class="sect3"><span class="secnum">1.9.4</span> Web Services</h4>
<p>As an alternative to Oracle Net, Oracle Database Web services provides nonconnected access to the database through standard Web services mechanisms. These include XML, SOAP, and WSDL, and can turn the database into a Web services provider. Similarly, the database itself can act as a Web service consumer and run external Web services. Important features of Web services include:</p>
<ul>
<li>
<p>A JAX-RPC based SOAP Client library supports invocation of external Web services from within the database, and applies the power of SQL to the results.</p>
</li>
<li>
<p><span class="bold">Web Services Call-In:</span> Deploying a JPublisher-generated Java class against Oracle Application Server 10<span class="italic">g</span> enables you to run database operations such as Java and PL/SQL procedures and packages, SQL queries, and DML operations.</p>
</li>
<li>
<p><span class="bold">Web Services Call-Out:</span> Deploying a JPublisher-generated Web services client from a WSDL and its PL/SQL wrapper supports invocation of external Web services from within the database.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDAEGB" name="CHDDAEGB"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.10</span> Media Management Software</h3>
<p>For environments that consist of a single server, Oracle offers Oracle Secure Backup Express to back up your Oracle Database and other critical Oracle infrastructure to tape. Oracle Secure Backup is fully integrated with Recovery Manager (RMAN) to provide data protection services. For larger environments, Oracle Secure Backup is available as a separately licensable product to back up many database servers and file systems to tape. Oracle Secure Backup release 10.3 is shipping with this Oracle Database 11<span class="italic">g</span> Release 2 (11.2). For more information on Oracle Secure Backup, refer to</p>
<p><code><a href="http://www.otn.oracle.com/products/secure-backup/index.html">http://www.otn.oracle.com/products/secure-backup/index.html</a></code></p>
<a id="BABJBJEB" name="BABJBJEB"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.10.1</span> Globalization Restrictions Within Oracle Secure Backup</h4>
<p>The following globalization restrictions apply to Oracle Secure Backup:</p>
<ul>
<li>
<p>The Oracle Secure Backup Web Tool and command line interface are available in English only, and are not globalized. All messages and documentation are in English.</p>
</li>
<li>
<p>Oracle Secure Backup does not support file names or RMAN backup names that are encoded in character sets that do not support null byte termination, such as Unicode UTF-16. Note that this restriction affects file names, not backup contents. Oracle Secure Backup can back up Oracle databases in any character set.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDIBEHG" name="CHDIBEHG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.11</span> Oracle Application Express</h3>
<p>Note the following items when working with Oracle Application Express.</p>
<p>To learn more about Oracle Application Express, refer to the <span class="italic"><a class="olink HTMRN" href="../../relnotes.112/e11944/toc.htm">Oracle Application Express Release Notes</a></span> and the <span class="italic"><a class="olink HTMIG" href="../../install.112/e12196/toc.htm">Oracle Application Express Installation Guide</a>.</span></p>
<div class="sect3"><a id="sthref57" name="sthref57"></a>
<h4 class="sect3"><span class="secnum">1.11.1</span> Checking for the Most Current Release</h4>
<p>Oracle Application Express is released more frequently than Oracle Database. To view additional information about the most current release, refer to:</p>
<pre xml:space="preserve" class="oac_no_warn"><a href="http://www.otn.oracle.com/products/database/application_express/">http://www.otn.oracle.com/products/database/application_express/</a>
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref58" name="sthref58"></a>
<h4 class="sect3"><span class="secnum">1.11.2</span> Configuring Oracle HTTP Server</h4>
<p>When configuring Oracle HTTP Server for Oracle Application Express in a new installation, the database user <code>APEX_PUBLIC_USER</code> must be an unlocked account. To unlock the account for database user <code>APEX_PUBLIC_USER</code>, complete the following:</p>
<ol>
<li>
<p>Start SQL*Plus and connect as <code>SYS</code> to the database where Oracle Application Express is installed. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">$ <span class="italic">ORACLE_HOME</span>/bin/sqlplus
SQL&gt; CONNECT SYS as SYSDBA
Enter password: SYS_<span class="italic">password</span>
</pre></li>
<li>
<p>Run the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; ALTER USER APEX_PUBLIC_USER ACCOUNT UNLOCK
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref59" name="sthref59"></a>
<h4 class="sect3"><span class="secnum">1.11.3</span> Database Compatible Parameter and Enabling Network Services</h4>
<p>To run the examples in the Oracle Application Express Post-Installation tasks in the section titled "Enabling Network Services in Oracle Database 11<span class="italic">g</span>" in the <span class="italic"><a class="olink GINST" href="http://www.oracle.com/pls/db112/lookup?id=GINST">Oracle Database Installation Guide</a></span>, the <code>COMPATIBLE</code> initialization parameter of the database must be set to at least 11.1.0.0.0. By default, an Oracle Database 11<span class="italic">g</span> database will already have the parameter set properly, but a database upgraded to 11<span class="italic">g</span> from a prior version may not.</p>
<p>Refer to the section titled "Creating and Configuring an Oracle Database" in the <span class="italic"><a class="olink ADMIN" href="http://www.oracle.com/pls/db112/lookup?id=ADMIN">Oracle Database Administrator's Guide</a></span> for information about changing database initialization parameters.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDHHCC" name="CHDDHHCC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.12</span> Oracle Client Applications</h3>
<p>Oracle Client 11<span class="italic">g</span> contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended that you turn on full dumps; this can greatly speed the resolution of issues. Enable full dumps by adding the following line to the <code>sqlnet.ora</code> file that is used by your Oracle client installation:</p>
<pre xml:space="preserve" class="oac_no_warn">DIAG_RESTRICTED=false
</pre>
<p>To verify that diagnosability features are working correctly, take the following steps:</p>
<ol>
<li>
<p>Upgrade your application to use Oracle Database 11<span class="italic">g</span> client libraries.</p>
</li>
<li>
<p>Start your application.</p>
</li>
<li>
<p>Check the file <code>sqlnet.log</code> in your application's <code>TNS_ADMIN</code> directory for error messages indicating that diagnosability could not be started (normally this is due to invalid directory names or permissions).</p>
</li>
</ol>
<p>Refer to the <a class="olink LNOCI" href="http://www.oracle.com/pls/db112/lookup?id=LNOCI"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for details.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIIEJA" name="CHDIIEJA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.13</span> Oracle Configuration Manager</h3>
<p>Note the following for Oracle Configuration Manager.</p>
<div class="sect3"><a id="sthref60" name="sthref60"></a>
<h4 class="sect3"><span class="secnum">1.13.1</span> cron Configuration Issue</h4>
<p>If you are denied access to <code>cron</code>, then the configuration of Oracle Configuration Manager fails with the following error:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/ccr/bin/setupCCR
** Installing base package **
Deploying core - Version 10.2.5.0.0
Error encountered in package deployment.
</pre>
<p>After the installation is complete, set the environment variable <code>CCR_DISABLE_CRON_ENTRY</code> to <code>TRUE</code> and try the configuration of Oracle Configuration Manager again using the following command:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/ccr/bin/setupCCR
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCJGFA" name="CHDCJGFA"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.14</span> Oracle Data Mining</h3>
<p>Oracle Data Mining scoring functions in Oracle Database 11<span class="italic">g</span> Release 2 are also available in Oracle Exadata Storage Server Software. Scoring capabilities in the storage layer permit very large data sets to be mined quickly, thus further increasing the competitive advantage already gained from Oracle in-database analytics. For information about Oracle Exadata Storage Server Software, see <code><a href="http://www.oracle.com/technology/products/bi/db/exadata/index.html">http://www.oracle.com/technology/products/bi/db/exadata/index.html</a></code>.</p>
<p>The Data Mining Option, as an embedded feature of the database, is automatically installed with the Oracle Enterprise Edition Database. When installing the database with the Data Mining Option, choose the Data Warehouse configuration type for the most appropriate default initialization parameters.</p>
<p>In Oracle Database 11<span class="italic">g</span>, Data Mining models are implemented as data dictionary objects in the <code>SYS</code> schema. The <code>DMSYS</code> schema no longer exists.</p>
<p>Data Mining users must have the <code>CREATE MINING MODEL</code> privilege to create mining models in their own schema. Additional privileges are required for other data mining activities, as described in the <span class="italic"><a class="olink DMADM004" href="http://www.oracle.com/pls/db112/lookup?id=DMADM004">Oracle Data Mining Administrator's Guide</a></span>.</p>
<p>New data dictionary views for Oracle Data Mining were introduced in Oracle Database 11<span class="italic">g</span> Release 1 (11.1):</p>
<ul>
<li>
<p><code>USER/ALL/DBA_MINING_MODELS</code></p>
</li>
<li>
<p><code>USER/ALL/DBA_MINING_MODEL_ATTRIBUTES</code></p>
</li>
<li>
<p><code>USER/ALL/DBA_MINING_MODEL_SETTINGS</code></p>
</li>
</ul>
<p>Demo programs that illustrate the Data Mining APIs (PL/SQL and Java) are installed with Oracle Database Examples. Instructions are in the <span class="italic"><a class="olink DMADM009" href="http://www.oracle.com/pls/db112/lookup?id=DMADM009">Oracle Data Mining Administrator's Guide</a></span>.</p>
<p>The Oracle Data Mining Scoring Engine Option, a separately installed database option in Oracle Database 10<span class="italic">g</span>, is not available in Oracle Database 11<span class="italic">g</span>. All functionality of the Data Mining Scoring Engine Option is offered in the Data Mining Option.</p>
<p>The Basic Local Alignment Search Tool (BLAST), previously supported by Oracle Data Mining, is not available in Oracle 11<span class="italic">g</span>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDFFGCC" name="CHDFFGCC"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.15</span> Oracle Internet Directory</h3>
<p>The Oracle Internet Directory product ships only with Oracle Application Server, not the Oracle Database 11<span class="italic">g</span> Release 1 (11.1) product set. The following information is included because Oracle Network functionality may use Oracle Internet Directory. Many of the administrative activities for Oracle Internet Directory have been consolidated into a single tool, Oracle Internet Directory Configuration Assistant (OIDCA). OIDCA should be used with Enterprise User Security and Network Names features under these conditions:</p>
<ol>
<li>
<p>Enterprise User Security</p>
<ul>
<li>
<p>Enterprise User Security only works with Identity Management Realms in this release. You must convert Oracle Contexts used in prior releases to Identity Management Realms using the OIDCA tool.</p>
</li>
<li>
<p>Use OIDCA when creating or updating the <code>ldap.ora</code> configuration file for discovering the Oracle Internet Directory server in the environment. When created with OIDCA, <code>ldap.ora</code> is located in the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/ldap/admin</code> directory on Linux and UNIX operating systems and in the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>\ldap\admin</code> directory on Windows operating systems.</p>
</li>
</ul>
</li>
<li>
<p>Network Names</p>
<ul>
<li>
<p>Use OIDCA when creating, upgrading, and deleting Oracle Contexts.</p>
</li>
<li>
<p>Use OIDCA when converting an Oracle Context from an earlier release to an Identity Management Realm.</p>
</li>
<li>
<p>Use OIDCA when setting up the <code>ldap.ora</code> configuration file for discovering the Oracle Internet Directory server in the environment.</p>
</li>
</ul>
</li>
</ol>
<p>Note the following items when working with Oracle Internet Directory.</p>
<div class="sect3"><a id="sthref61" name="sthref61"></a>
<h4 class="sect3"><span class="secnum">1.15.1</span> Using the Oracle Internet Directory Configuration Assistant</h4>
<p>The Oracle Internet Directory Configuration Assistant (OIDCA) enables you to create, upgrade, and delete an Oracle Context, configure the file <code>ldap.ora</code>, and convert an Oracle Context to an Identity Management Realm.</p>
<p>The OIDCA syntax is:</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span> 
      nonsslport=<span class="italic">port</span> |
      sslport=<span class="italic">SSL Port</span>
      dn=<span class="italic">binddn</span> 
      pwd=<span class="italic">bindpwd</span> 
      propfile=<span class="italic">properties file</span>
</pre>
<p>To see the usage of OIDCA, enter <code>oidca -help</code> at the command prompt.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref62" name="sthref62"></a>
<h4 class="sect3"><span class="secnum">1.15.2</span> Creating an Oracle Context</h4>
<p>The following syntax is used to create an Oracle Context in OIDCA; the parameters are described in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=SSL Port
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=CREATECTX 
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="24%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t8">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t8" headers="r1c1-t8"><code>oidhost</code></td>
<td align="left" headers="r2c1-t8 r1c2-t8">OID server host; if not specified, default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t8" headers="r1c1-t8"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t8 r1c2-t8">OID server port; if not specified, default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t8" headers="r1c1-t8"><code>sslport</code></td>
<td align="left" headers="r4c1-t8 r1c2-t8">OID SSL port; if not specified, default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t8" headers="r1c1-t8"><code>dn</code></td>
<td align="left" headers="r5c1-t8 r1c2-t8">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t8" headers="r1c1-t8"><code>pwd</code></td>
<td align="left" headers="r6c1-t8 r1c2-t8">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t8" headers="r1c1-t8"><code>mode</code></td>
<td align="left" headers="r7c1-t8 r1c2-t8">Mode of the OIDCA; set to <code>CREATECTX</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t8" headers="r1c1-t8"><code>contextdn</code></td>
<td align="left" headers="r8c1-t8 r1c2-t8">DN under which <code>OracleContext</code> must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>contextdn</code> must exist for this operation to be successful.</p>
</li>
<li>
<p>This valid DN should not exist in OID: <code>"cn=oraclecontext,dc=acme, dc=com"</code>.</p>
</li>
<li>
<p>This valid DN must exist in OID: <code>"dc=acme,dc=com"</code>.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed as a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref63" name="sthref63"></a>Functionality</p>
<ol>
<li>
<p>The OIDCA verifies that <code>contextdn</code> has a valid DN syntax and that the entry exists in Oracle Internet Directory. Note that the OIDCA cannot create a root <code>OracleContext</code> explicitly. If there is no root Oracle Context, then OIDCA exits with an error.</p>
</li>
<li>
<p>If DN exists, then OIDCA verifies that the Oracle Context already exists.</p>
<ul>
<li>
<p>If the Oracle Context already exists and is up-to-date, then OIDCA exits with the message <code>Oracle Context already exists and is up to date</code>.</p>
</li>
<li>
<p>If the Oracle Context already exists, but it is an older version, then OIDCA exits with the message <code>Oracle Context already exists and is of an older version</code>.</p>
</li>
<li>
<p>If the Oracle Context does not exist, then OIDCA creates the Oracle Context under this DN.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref64" name="sthref64"></a>
<h4 class="sect3"><span class="secnum">1.15.3</span> Upgrading an Oracle Context</h4>
<p>To upgrade an <code>OracleContext</code> instance, use the following syntax; the parameters are listed in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span> 
      sslport=<span class="italic">SSL Port</span> 
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=UPGRADECTX
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="24%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t9">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t9" headers="r1c1-t9"><code>oidhost</code></td>
<td align="left" headers="r2c1-t9 r1c2-t9">OID server host; if not specified, default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t9" headers="r1c1-t9"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t9 r1c2-t9">OID server port; if not specified, default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t9" headers="r1c1-t9"><code>sslport</code></td>
<td align="left" headers="r4c1-t9 r1c2-t9">OID SSL port; if not specified, default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t9" headers="r1c1-t9"><code>dn</code></td>
<td align="left" headers="r5c1-t9 r1c2-t9">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t9" headers="r1c1-t9"><code>pwd</code></td>
<td align="left" headers="r6c1-t9 r1c2-t9">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t9" headers="r1c1-t9"><code>mode</code></td>
<td align="left" headers="r7c1-t9 r1c2-t9">Mode of the OIDCA; always set to <code>UPGRADECTX</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t9" headers="r1c1-t9"><code>contextdn</code></td>
<td align="left" headers="r8c1-t9 r1c2-t9">DN under which <code>OracleContext</code> must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>contextdn</code> must contain an <code>OracleContext</code> for this operation to be successful.</p>
</li>
<li>
<p>The DNs <code>"cn=oraclecontext</code>,<code>dc=acme,dc=com"</code> and <code>"dc=acme,dc=com"</code> are both valid.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed as a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using a non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref65" name="sthref65"></a>Functionality</p>
<ol>
<li>
<p>OIDCA verifies that the <code>contextdn</code> has valid DN syntax and that <code>OracleContext</code> exists in Oracle Internet Directory. OIDCA cannot upgrade a root <code>OracleContext</code> explicitly. If there is no root <code>OracleContext</code>, then OIDCA sends an error message.</p>
</li>
<li>
<p>If <code>OracleContext</code> exists under <code>contextdn</code>,</p>
<ul>
<li>
<p>The OIDCA checks if the <code>OracleContext</code> belongs to a realm, in which case it exits with the appropriate message. Note that <code>OracleContext</code> instances that belong to a realm cannot be upgraded.</p>
</li>
<li>
<p>The OIDCA verifies that the <code>OracleContext</code> is up-to-date, then exits with the message <code>Oracle Context already exists and is up to date</code>.</p>
</li>
<li>
<p>If the <code>OracleContext</code> is not up-to-date, then the OIDCA upgrades the <code>OracleContext</code> under this DN.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref66" name="sthref66"></a>
<h4 class="sect3"><span class="secnum">1.15.4</span> Deleting an Oracle Context</h4>
<p>To delete an <code>OracleContext</code>, use the following syntax; the parameters are listed in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=<span class="italic">SSL Port</span>
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=DELETECTX
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="22%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t10">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t10" headers="r1c1-t10"><code>oidhost</code></td>
<td align="left" headers="r2c1-t10 r1c2-t10">OID server host; if not specified, default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t10" headers="r1c1-t10"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t10 r1c2-t10">OID server port; if not specified, default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t10" headers="r1c1-t10"><code>sslport</code></td>
<td align="left" headers="r4c1-t10 r1c2-t10">OID SSL port; if not specified, default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t10" headers="r1c1-t10"><code>dn</code></td>
<td align="left" headers="r5c1-t10 r1c2-t10">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t10" headers="r1c1-t10"><code>pwd</code></td>
<td align="left" headers="r6c1-t10 r1c2-t10">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t10" headers="r1c1-t10"><code>mode</code></td>
<td align="left" headers="r7c1-t10 r1c2-t10">Mode of the OIDCA; always set to <code>DELETECTX</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t10" headers="r1c1-t10"><code>contextdn</code></td>
<td align="left" headers="r8c1-t10 r1c2-t10">DN under which OracleContext must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>contextdn</code> must contain an <code>OracleContext</code> for this operation to be successful.</p>
</li>
<li>
<p>The DNs <code>"cn=oraclecontext,</code> <code>dc=acme,dc=com"</code> and <code>"dc=acme,dc=com"</code> are both valid.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed as a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using a non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref67" name="sthref67"></a>Functionality</p>
<ol>
<li>
<p>OIDCA verifies that the <code>contextdn</code> has valid DN syntax and that <code>OracleContext</code> exists in Oracle Internet Directory.</p>
</li>
<li>
<p>If <code>OracleContext</code> exists under <code>contextdn</code>,</p>
<ul>
<li>
<p>The OIDCA checks if the <code>OracleContext</code> belongs to a realm, in which case it exits with the appropriate message. Note that <code>OracleContext</code> instances that belong to a realm cannot be deleted.</p>
</li>
<li>
<p>If <code>OracleContext</code> does not belong to a realm, then OIDCA deletes it.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref68" name="sthref68"></a>
<h4 class="sect3"><span class="secnum">1.15.5</span> Configuring the File ldap.ora</h4>
<p>To configure the file <code>ldap.ora</code>, use the following syntax; the parameters are listed in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=<span class="italic">SSL Port</span>
      adminctx=<span class="italic">Administrative context</span>
      mode=LDAPORA  
      dirtype=OID<span class="italic"> or </span>AD
      -update
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="26%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t11">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t11" headers="r1c1-t11"><code>oidhost</code></td>
<td align="left" headers="r2c1-t11 r1c2-t11">OID server host; if not specified, default is <code>localhost</code>.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t11" headers="r1c1-t11"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t11 r1c2-t11">OID server port; determined using discovery APIs.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t11" headers="r1c1-t11"><code>sslport</code></td>
<td align="left" headers="r4c1-t11 r1c2-t11">OID SSL port; determined using discovery APIs.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t11" headers="r1c1-t11"><code>mode</code></td>
<td align="left" headers="r5c1-t11 r1c2-t11">Mode of the OIDCA; always set to <code>LDAPORA</code>.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t11" headers="r1c1-t11"><code>dirtype</code></td>
<td align="left" headers="r6c1-t11 r1c2-t11">Directory type; possible values are <code>OID</code> and <code>AD</code>; mandatory attribute.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t11" headers="r1c1-t11"><code>adminctx</code></td>
<td align="left" headers="r7c1-t11 r1c2-t11">Default administrative context, such as <code>dc=acme,dc=com</code>. If not specified, then determined using discovery.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t11" headers="r1c1-t11"><code>-update</code></td>
<td align="left" headers="r8c1-t11 r1c2-t11">If this flag is specified, then overwrite existing <code>ldap.ora</code>; if not, then create <code>ldap.ora</code> only if it does not already exist.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>Either the non-SSL or the SSL port must be specified. The other port is discovered.</p>
</li>
<li>
<p>The parameters <code>mode</code>, <code>dirtype</code>, and <code>adminctx</code> can also be passed in within a properties file.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref69" name="sthref69"></a>Functionality</p>
<ol>
<li>
<p>Using the Discovery API, the OIDCA determines all the parameters not specified on the command line.</p>
</li>
<li>
<p>The OIDCA checks for the <code>ldap.ora</code> location using Discovery APIs.</p>
<ul>
<li>
<p>If <code>ldap.ora</code> exists and the <code>-update</code> parameter is not specified, then exit with message <code>ldap.ora exists</code>.</p>
</li>
<li>
<p>If <code>ldap.ora</code> exists and the <code>-update</code> parameter is not specified, then update the existing <code>ldap.ora</code> using Discovery API.</p>
</li>
<li>
<p>If <code>ldap.ora</code> does not exist, then create a new <code>ldap.ora</code> file in a location in the following order:</p>
<pre xml:space="preserve" class="oac_no_warn">LDAP_ADMIN
<span class="italic">ORACLE_HOME</span>/ldap/admin
</pre></li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref70" name="sthref70"></a>
<h4 class="sect3"><span class="secnum">1.15.6</span> Converting an Oracle Context to an Identity Management Realm</h4>
<p>Oracle Database 10<span class="italic">g</span> entries must be stored in Oracle Internet Directory release 9.0.4 server. An Identity Management Realm release 9.0.4 is also required for Enterprise User Security, a feature of the Oracle Database 10<span class="italic">g</span>.</p>
<p>To convert an existing <code>OracleContext</code> to an Identity Management Realm, use the following syntax. The parameters are listed in the subsequent table. Note that the root of the <code>OracleContext</code> object is not converted.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=<span class="italic">SSL Port</span>
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=CTXTOIMR
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="26%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t12">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t12" headers="r1c1-t12"><code>oidhost</code></td>
<td align="left" headers="r2c1-t12 r1c2-t12">OID server host; default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t12" headers="r1c1-t12"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t12 r1c2-t12">OID server port; default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t12" headers="r1c1-t12"><code>sslport</code></td>
<td align="left" headers="r4c1-t12 r1c2-t12">OID SSL port; default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t12" headers="r1c1-t12"><code>dn</code></td>
<td align="left" headers="r5c1-t12 r1c2-t12">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t12" headers="r1c1-t12"><code>pwd</code></td>
<td align="left" headers="r6c1-t12 r1c2-t12">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t12" headers="r1c1-t12"><code>mode</code></td>
<td align="left" headers="r7c1-t12 r1c2-t12">Mode of the OIDCA; always set to <code>CTXTOIMR</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t12" headers="r1c1-t12"><code>contextdn</code></td>
<td align="left" headers="r8c1-t12 r1c2-t12">DN under which <code>OracleContext</code> must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>OracleContext</code> must exist under the specified <code>contextdn</code>.</p>
</li>
<li>
<p>The DNs <code>"cn=oraclecontext</code>, <code>dc=acme,dc=com"</code> and <code>"dc=acme, dc=com"</code> are both valid.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed in a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using a non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref71" name="sthref71"></a>Functionality</p>
<ol>
<li>
<p>The OIDCA checks if <code>contextdn</code> has valid DN syntax, and if it contains a valid <code>OracleContext</code>.</p>
</li>
<li>
<p>If <code>OracleContext</code> exists under <code>contextdn,</code></p>
<ul>
<li>
<p>The OIDCA checks if the <code>OracleContext</code> belongs to a realm. If it does, then it exits with an appropriate error message.</p>
</li>
<li>
<p>If <code>OracleContext</code> does not belong to a realm, then OIDCA upgrades it to the latest version, and converts it to a realm.</p>
</li>
</ul>
</li>
</ol>
<p>Note also:</p>
<ul>
<li>
<p>If the nickname attribute is not <code>cn</code>, then configure it as a user configuration attribute using the Oracle Internet Directory Self-Service Console.</p>
</li>
<li>
<p>If you want to use the Oracle Internet Directory Self-Service Console to manage the users and groups in the converted realm, then you must set up the administrative privileges appropriately. For details, refer to the <span class="italic"><a class="olink OIDAG" href="http://www.oracle.com/pls/db112/lookup?id=OIDAG">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</a></span>.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDBFFBF" name="CHDBFFBF"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.16</span> Oracle Multimedia</h3>
<p>The name Oracle <span class="italic">inter</span>Media was changed to Oracle Multimedia in Oracle Database 11<span class="italic">g</span> Release 1 (11.1). The feature remains the same, only the name has changed. References to Oracle <span class="italic">inter</span>Media were replaced with Oracle Multimedia, however some references to Oracle <span class="italic">inter</span>Media or <span class="italic">inter</span>Media may still appear in graphical user interfaces, code examples, and related documents in the Oracle Database documentation library for 11<span class="italic">g</span> Release 2 (11.2).</p>
<p>With Oracle Database 11<span class="italic">g</span> Release 2 (11.2), the Oracle Multimedia DICOM feature has been made available in Oracle Database Standard Edition. It was previously only available in Oracle Database Enterprise Edition.</p>
<p>For additional information, refer to the Oracle Multimedia Readme file located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/ord/im/admin/README.txt
</pre></div>
<!-- class="sect2" -->
<a id="CHDGBGHG" name="CHDGBGHG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.17</span> Oracle Net Services</h3>
<p>Oracle Database provides limited support for Internet Protocol Version 6 (IPv6) addressing and connectivity. For details, see <span class="italic"><a class="olink NETAG500" href="http://www.oracle.com/pls/db112/lookup?id=NETAG500">Oracle Database Net Services Administrator's Guide</a></span>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJJIJH" name="CHDJJIJH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.18</span> Oracle Real Application Clusters</h3>
<p>Note the following items when working with Oracle RAC.</p>
<div class="sect3"><a id="sthref72" name="sthref72"></a>
<h4 class="sect3"><span class="secnum">1.18.1</span> Moving ORADISM to Local Nodes from NFS on an Oracle Home</h4>
<p>If you install an Oracle RAC database into a shared Oracle home on an NFS device, then you must copy the ORADISM binary (<code>oradism</code>) into a local directory on each node (reference Bug 6522385 and 6525377).</p>
<p>It is possible to install Oracle Clusterware and Oracle RAC on NFS without encountering this problem. Refer to the <span class="italic"><a class="olink CWLIN" href="../../install.112/e17212/toc.htm">Oracle Grid Infrastructure Installation Guide for Linux</a></span> for more information.</p>
<p>To move <code>oradism</code>, take the following steps:</p>
<ol>
<li>
<p>Copy the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/bin/oradism</code> binary to an identical directory path on all cluster nodes. The path (for example, <code>/u01/local/bin</code> in the example in Step 2) must be local and not NFS. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">cp -a <span class="italic">ORACLE_HOME</span>/bin/oradism/u01/local/bin
</pre></li>
<li>
<p>Run the following commands, as the root user, to set ownership and permissions of the <code>oradism</code> executable:</p>
<pre xml:space="preserve" class="oac_no_warn">$ chown root /u01/local/bin/oradism
$ chmod 4750 /u01/local/bin/oradism
</pre></li>
<li>
<p>Create a symbolic link from the NFS shared home to the local <code>oradism</code> directory path. This needs to be done from one node only. Each node can then reference its own <code>oradism</code> using the <code>symlink</code> from the shared Oracle home. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">$ cd /nfs/app/oracle/product/11.2.0/db_1/bin
$ rm -f oradism
$ ln -s /u01/local/bin/oradism oradism
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref73" name="sthref73"></a>
<h4 class="sect3"><span class="secnum">1.18.2</span> Creating Server Pools</h4>
<p>Create an initial, user-defined server pool immediately after the Oracle Grid Infrastructure for a cluster installation if you plan to use a policy-managed Oracle RAC database. As the Grid software owner, use the following SRVCTL command located in the path <code><span class="codeinlineitalic">Grid_home</span></code><code>/bin</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl add srvpool -g <span class="italic">srvpool_name</span> -u <span class="italic">max</span>
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref74" name="sthref74"></a>
<h4 class="sect3"><span class="secnum">1.18.3</span> Adding a Node in a Cluster</h4>
<p>When adding a node in a cluster running a policy-managed database, Oracle Clusterware tries to start the new instance before the cloning procedure completes. The following steps should be used to add the node:</p>
<ol>
<li>
<p>Run <code>addNode</code> for the Oracle Grid Infrastructure for a cluster to add the new node. Do not run the root scripts when prompted; you will run them later.</p>
</li>
<li>
<p>Install the Oracle RAC database software using a software-only installation. Ensure Oracle is linked with the Oracle RAC option.</p>
</li>
<li>
<p>Complete the root script actions for the Database home.</p>
</li>
<li>
<p>Complete the root scripts action for the Oracle Clusterware home and then finish the installation.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFIJJB" name="CHDFIJJB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.19</span> Oracle Grid Infrastructure for a Cluster</h3>
<p>Note the following items when working with Oracle Clusterware and Oracle Automatic Storage Management (ASM), which are installed with an Oracle Grid Infrastructure for a cluster installation.</p>
<a id="BABCFICA" name="BABCFICA"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.19.1</span> Configure and Use SSL Certificates to Setup Authentication</h4>
<div class="infoboxnote">
<p class="notep1">Note:</p>
This affects the security in the connection between the Oracle Clusterware and the mid-tier or JDBC client.</div>
<p>JDBC or Oracle Universal Connection Pool's (UCP) Oracle RAC features like Fast Connection Failover (FCF) subscribe to notifications from the Oracle Notification Service (ONS) running on the Oracle RAC nodes. The connections between the ONS server in the database tier and the notification client in the mid-tier are usually not authenticated. It is possible to configure and use SSL certificates to setup the authentication but the steps are not clearly documented.</p>
<p>The workaround is as follows:</p>
<ol>
<li>
<p>Create an Oracle Wallet to store the SSL certificate using the <code>orapki</code> interface:</p>
<ol>
<li>
<p><code>cd $ORA_CRS_HOME/opmn/conf</code></p>
</li>
<li>
<p><code>mkdir sslwallet</code></p>
</li>
<li>
<p><code>orapki wallet create -wallet sslwallet -auto_login</code></p>
<p>When prompted, provide <code>ONS_Wallet</code> as the password.</p>
</li>
<li>
<p><code>orapki wallet add -wallet sslwallet -dn "CN=ons_test,C=US" -keysize 1024 -self_signed -validity 9999 -pwd ONS_Wallet</code></p>
</li>
<li>
<p><code>orapki wallet export -wallet sslwallet -dn "CN=ons_test,C=US" -cert sslwallet/cert.txt -pwd ONS_Wallet</code></p>
</li>
</ol>
</li>
<li>
<p>Update the ONS configuration file on all nodes in the database tier to specify the location of the wallet created in Step 1:</p>
<ol>
<li>
<p>Open the file <code><span class="codeinlineitalic">ORA_CRS_HOME</span></code><code>/opmn/conf/ons.config</code></p>
</li>
<li>
<p>Add the <code>walletfile</code> parameter to the <code>ons.config</code> file:</p>
<p><code>walletfile=</code><code><span class="codeinlineitalic">ORA_CRS_HOME</span></code><code>/opmn/conf/sslwallet</code></p>
</li>
<li>
<p>Restart the ONS servers with the <code>srvctl</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl stop nodeapps
srvctl start nodeapps
</pre></li>
</ol>
</li>
<li>
<p>If you are running a client-side ONS daemon on the mid-tier, there are two possible configurations:</p>
<ul>
<li>
<p>ONS started from OPMN (like in OracleAS 10.1.3.<span class="italic">x</span>) which uses <code>opmn.xml</code> for its configuration.</p>
</li>
<li>
<p>ONS started standalone (like using <code>onsctl</code>), which uses <code>ons.config</code> for its configuration.</p>
</li>
</ul>
<p>For case (1), refer to the <span class="italic">OPMN Administrator's Guide</span> for the Oracle Application Server release. This involves modifying the <code>opmn.xml</code> file to specify the wallet location.</p>
<p>For case (2), refer to the section titled <span class="italic">Configuration of ONS</span> in <span class="italic">Appendix B</span> of the <span class="italic"><a class="olink JJDBC" href="http://www.oracle.com/pls/db112/lookup?id=JJDBC">Oracle Database JDBC Developer's Guide</a></span> to modify the ons.config file to specify the wallet location created in Step 1.</p>
</li>
<li>
<p>If you are running remote ONS configuration without a client-side ONS daemon, refer to the "Remote ONS Subscription" subsection of the "Configuring ONS for Fast Connection Failover" subsection of the "Using Fast Connection Failover" section of the "Fast Connection Failover" chapter in the <span class="italic"><a class="olink JJDBC" href="http://www.oracle.com/pls/db112/lookup?id=JJDBC">Oracle Database JDBC Developer's Guide</a></span>.</p>
<p>Alternatively, you can specify the following string as the <code>setONSConfiguration</code> argument:</p>
<pre xml:space="preserve" class="oac_no_warn">propertiesfile=<span class="italic">location_of_a_Java_properties_file</span>
</pre>
<p>The Java properties file should contain one or more of the ONS Java properties listed below, but at least the <code>oracle.ons.nodes</code> property. The values for these Java properties would be similar to those specified in the "Remote ONS Subscription" subsection previously noted in this step:</p>
<pre xml:space="preserve" class="oac_no_warn">oracle.ons.nodes
oracle.ons.walletfile
oracle.ons.walletpassword
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref75" name="sthref75"></a>
<h4 class="sect3"><span class="secnum">1.19.2</span> Changing Host Names</h4>
<p>Avoid changing host names after you complete the Oracle Grid Infrastructure for a cluster installation. Nodes with changed host names must be deleted from the cluster and added back with the new name.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref76" name="sthref76"></a>
<h4 class="sect3"><span class="secnum">1.19.3</span> Changing NLS_LANG to Use a Different Character Set</h4>
<p>The <code>NLS_LANG</code> parameter is now read from the environment and not from the Oracle Cluster Registry (OCR) (reference Bug 8258489). The following steps describe how to change <code>NLS_LANG</code>:</p>
<ol>
<li>
<p>Run the following command on all nodes:</p>
<pre xml:space="preserve" class="oac_no_warn">crsctl stop crs
</pre></li>
<li>
<p>Edit <code><span class="codeinlineitalic">Grid_home</span></code><code>/crs/install/s_crsconfig_</code><code><span class="codeinlineitalic">hostname</span></code><code>_env.txt</code> on all nodes and set the <code>LANGUAGE_ID</code> parameter to the appropriate value. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">LANGUAGE_ID='JAPANESE_JAPAN.JA16EUC'
</pre></li>
<li>
<p>Run the following command on all nodes:</p>
<pre xml:space="preserve" class="oac_no_warn">crsctl start crs
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref77" name="sthref77"></a>
<h4 class="sect3"><span class="secnum">1.19.4</span> Requirements for Rolling Upgrade of Oracle Clusterware</h4>
<p>When upgrading Cluster Ready Services (CRS) from release 10.2.0.1 or 10.2.0.2 to release 11.2, a rolling upgrade of CRS requires additional steps (reference Bug 5198903). Complete the following to successfully complete the rolling upgrade:</p>
<ol>
<li>
<p>Upgrade Cluster Ready Services (that is, the CRS home) to release 10.2.0.3, or 10.2.0.2 with CRS Bundle Patch #2 (reference Bug 5256865).</p>
</li>
<li>
<p>Upgrade CRS from release 10.2.0.3 to release 11.2.</p>
</li>
</ol>
<p>Note that each of the CRS upgrades in Steps 1 and 2 are rolling upgrades. Therefore, a cluster outage is not required for these upgrades. Also note that it is not possible to do an in-place upgrade to Oracle Clusterware 11<span class="italic">g</span> Release 2.</p>
<p>There is a similar requirement for the rolling upgrade of 10.1.0.2 to 11.2 (reference Bug 5860479). To successfully perform a rolling upgrade of CRS from 10.1.0.2, complete the following:</p>
<ol>
<li>
<p>Upgrade CRS (that is, the CRS home) to release 10.1.0.5.</p>
</li>
<li>
<p>Upgrade CRS from release 10.1.0.5 to release 11.2.</p>
</li>
</ol>
<p>The CRS upgrades in Steps 1 and 2 are rolling upgrades, therefore no cluster outage is required. This is a problem for Oracle RAC only.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref78" name="sthref78"></a>
<h4 class="sect3"><span class="secnum">1.19.5</span> Unavailable OCR Location Error</h4>
<p>The following command does not work if one or more of the Oracle Cluster Registry (OCR) locations has been marked as <code>unavailable</code> (reference Bug 8608734):</p>
<pre xml:space="preserve" class="oac_no_warn">ocrconfig -add <span class="italic">new_ocr_location</span>
</pre>
<p>The workaround is to remove the location marked as <code>unavailable</code> using the following command before adding the new OCR location:</p>
<pre xml:space="preserve" class="oac_no_warn">ocrconfig -delete <span class="italic">unavailable_ocr_location</span>
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref79" name="sthref79"></a>
<h4 class="sect3"><span class="secnum">1.19.6</span> Incorrect Status of the Remote Node Given</h4>
<p>In some cases, CRSCTL commands with the <code>-n nodename ora -all</code> do not give the correct status of the remote node (reference Bug 8655571). Instead, you receive a message that the nodes are <code>unknown</code>. You can log into the node to run the command. The problem clears after a node reboot.</p>
</div>
<!-- class="sect3" -->
<a id="BABFCCDC" name="BABFCCDC"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.19.7</span> Oracle ACFS and Oracle Clusterware Stack Shut Down</h4>
<p>When attempting to shut down Oracle Clusterware, the Oracle Clusterware stack may report that it did not successfully stop on selected nodes (reference Bug 8703150 and Bug 8651848). If the database home is on Oracle ACFS, then you may receive the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">CRS-5014: Agent orarootagent.bin timed out starting process acfsmount for action
</pre>
<p>This error can be ignored.</p>
<p>Alternatively, the Oracle Clusterware stack may report that it did not successfully stop on selected nodes due to the inability to shut down the Oracle ACFS resources. If this occurs, take the following steps:</p>
<ul>
<li>
<p>Ensure that all file system activity to Oracle ACFS mount points is quiesced by shutting down programs or processes and retry the shutdown.</p>
</li>
<li>
<p>If your Oracle ACFS resources report a state of <code>UNKNOWN</code>, remove files named <code>*_check</code> from the system <code>temp</code> directory and retry the stack shutdown.</p>
</li>
<li>
<p>If the <code>ora.registry.acfs</code> resource check function times out, or the resource exhibits a state of <code>UNKNOWN</code> or <code>INTERMEDIATE</code>, then this may indicate an inability to access the Oracle Cluster Registry (OCR). The most common cause of this is a network failure. The commands <code>acfsutil registry</code> and <code>ocrcheck</code> may give you a better indicator of the specific error. Clear this error and attempt to stop Oracle Clusterware again.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref80" name="sthref80"></a>
<h4 class="sect3"><span class="secnum">1.19.8</span> sudo Commands and Cluster Administration with Oracle Enterprise Manager DB Control</h4>
<p>If you want to add or delete nodes from the cluster using Oracle Enterprise Manager DB Control then, to do so without being prompted to run separate scripts, you must set up passwordless <code>sudo</code> access for the Oracle Grid Infrastructure for a cluster installation software owner account (reference Bug 8489482).</p>
<p>If you do not want to set up passwordless <code>sudo</code>, then the Oracle Enterprise Manager DB Control deployment procedure provides instructions for you to log onto a terminal as <code>root</code> and run the commands that require root privileges. After you run these commands, you can continue running the deployment procedure in Oracle Enterprise Manager DB Control.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref81" name="sthref81"></a>
<h4 class="sect3"><span class="secnum">1.19.9</span> Cluster Ready Service May Fail When Accessing OCR</h4>
<p>The Cluster Ready Service may fail in accessing the OCR if the underlying storage becomes corrupted (reference Bug 8704534).</p>
<p>This problem can only happen if the OCR is configured in only one location. This problem will not occur if there are two or more OCR locations configured.</p>
<p>If the OCR is configured in a normal or high redundancy disk group, you can recover from the corruption by taking either of the following steps:</p>
<ul>
<li>
<p>Execute the <code>ALTER DISK GROUP CHECK</code> statement if the disk group is already mounted, or</p>
</li>
<li>
<p>Remount the disk group with the <code>FORCE</code> option, which also takes the disk offline when it detects the disk header corruption.</p>
</li>
</ul>
<p>If you are using an external redundancy disk group or third-party storage, then you must restore the OCR from backup to recover from a corruption.</p>
<p>The workaround is to configure an additional OCR location on a different storage location using the <code>ocrconfig -add</code> command.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDHFGBJ" name="CHDHFGBJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.20</span> Oracle Real Application Testing</h3>
<p>The following sections describe Oracle Real Application Testing issues.</p>
<div class="sect3"><a id="sthref82" name="sthref82"></a>
<h4 class="sect3"><span class="secnum">1.20.1</span> Reading SQL Trace Files to Construct a SQL Tuning Set</h4>
<p>Oracle Database supports the added functionality to read SQL trace files from Oracle Database 9<span class="italic">i</span> to construct a SQL tuning set that can be used as an input source for SQL Performance Analyzer. After being constructed, you can use SQL Performance Analyzer to execute the SQL tuning set on Oracle Database 10<span class="italic">g</span> Release 2 remotely over a database link. This functionality is provided so that you can use the Oracle Real Application Testing option to test the effect on SQL response time of a database upgrade from Oracle Database 9<span class="italic">i</span> to Oracle Database 10<span class="italic">g</span> Release 2. For details, refer to the <span class="italic"><a class="olink RATAD" href="http://www.oracle.com/pls/db112/lookup?id=RATAD">Oracle Database Real Application Testing Addendum</a></span>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDGFCC" name="CHDDGFCC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.21</span> Oracle ODBC Driver</h3>
<p>The Oracle ODBC Driver Readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/odbc/html/ODBCRelnotesUS.htm 
</pre></div>
<!-- class="sect2" -->
<a id="CHDIDEHJ" name="CHDIDEHJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.22</span> Oracle OLAP</h3>
<p>Consider the following when working with Oracle OLAP:</p>
<ol>
<li>
<p>If you are upgrading from a 32-bit version to 64-bit version, and you are using the OLAP option, see Note 352306.1 on My Oracle Support (formerly Oracle<span class="italic">MetaLink</span> at <code><a href="https://metalink.oracle.com/">https://metalink.oracle.com/</a></code>) for additional steps (reference Bug 4966492).</p>
</li>
<li>
<p>SQL Aggregation Management is a group of PL/SQL subprograms in <code>DBMS_CUBE</code> that support the rapid deployment of cube materialized views from existing relational materialized views. Cube materialized views are cubes that have been enhanced to use the automatic refresh and query rewrite features of Oracle Database. A single cube materialized view can replace many of the relational materialized views of summaries on a fact table, providing uniform response time to all summary data.</p>
<p>In the process of creating the cube materialized views, <code>DBMS_CUBE</code> also creates a fully functional analytic workspace including a cube and the cube dimensions. The cube stores the data for a cube materialized view, instead of the table that stores the data for a relational materialized view. A cube can also support a wide range of analytic functions that enhance the database with information-rich content.</p>
</li>
<li>
<p>Enhanced logging capabilities are provided through the new PL/SQL package <code>DBMS_CUBE_LOG</code> that offers four different logs. Both Analytic Workspace Manager users and database administrators can view the progress of an analytic workspace build in <code>CUBE_BUILD_LOG</code>, find load errors in <code>CUBE_REJECTED_RECORDS</code>, check the validity of dimension hierarchies in <code>CUBE_DIMENSION_COMPILE</code>, and follow OLAP engine events in <code>CUBE_OPERATIONS_LOG</code>.</p>
</li>
<li>
<p>The OLAP Option, as an embedded feature of the database, is automatically installed with the Oracle Enterprise Edition Database. When installing the database with the OLAP Option, choose the Data Warehouse configuration type for the most appropriate default initialization parameters.</p>
</li>
<li>
<p>Analytic Workspace Manager 11.2.0 should be used when running Oracle Database 11<span class="italic">g</span> Release 2 in either Oracle Database 10<span class="italic">g</span> or Oracle Database 11<span class="italic">g</span> compatibility modes. An Oracle Database 10<span class="italic">g</span> format analytic workspace may be created by choosing the Oracle Database 10<span class="italic">g</span> cube type when creating a new analytic workspace.</p>
</li>
<li>
<p>OLAP 10<span class="italic">g</span> clients connecting to 10<span class="italic">g</span> style analytic workspaces in an Oracle Database 11<span class="italic">g</span> Release 2 database instance should upgrade their Java to version 1.5, as well as upgrade their OLAP API version to 11.2.0.</p>
</li>
<li>
<p>Oracle Business Intelligence Beans 10<span class="italic">g</span> and Oracle Discoverer for OLAP 10<span class="italic">g</span> can be used with 10<span class="italic">g</span> format analytic workspaces in Oracle Database 11<span class="italic">g</span>. They cannot be used with 11<span class="italic">g</span> format analytic workspaces. To upgrade the OLAP API client JARs, include these new JARs in the Java class search list before the Intelligence Beans or Discoverer JAR files or both.</p>
</li>
<li>
<p>The OLAPSYS schema and the CWM metadata contained within the schema are deprecated in Oracle Database 11<span class="italic">g</span> Release 2. The OLAP API can still query relational tables (ROLAP mode) using data dictionary metadata. For more information, refer to My Oracle Support Tech Note 445311.1.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDBDGDJ" name="CHDBDGDJ"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.23</span> Oracle Spatial</h3>
<p>The Oracle Spatial readme file supplements the information in the following manuals: <span class="italic"><a class="olink SPATL" href="http://www.oracle.com/pls/db112/lookup?id=SPATL">Oracle Spatial Developer's Guide</a></span>, <span class="italic"><a class="olink TOPOL" href="http://www.oracle.com/pls/db112/lookup?id=TOPOL">Oracle Spatial Topology and Network Data Models Developer's Guide</a></span>, and <span class="italic"><a class="olink GEORS" href="http://www.oracle.com/pls/db112/lookup?id=GEORS">Oracle Spatial GeoRaster Developer's Guide</a></span>. The Oracle Spatial readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/md/doc/README.txt
</pre></div>
<!-- class="sect2" -->
<a id="CHDGBCBD" name="CHDGBCBD"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.24</span> Oracle SQL Developer</h3>
<p>The Oracle SQL Developer readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/sqldeveloper/readme.html
</pre></div>
<!-- class="sect2" -->
<a id="CHDCDDHH" name="CHDCDDHH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.25</span> Oracle Text</h3>
<p>Note the following items when working with Oracle Text. You should also check entries for the <span class="italic"><a class="olink CCAPP" href="http://www.oracle.com/pls/db112/lookup?id=CCAPP">Oracle Text Application Developer's Guide</a></span> in the Documentation Addendum.</p>
<div class="sect3"><a id="sthref83" name="sthref83"></a>
<h4 class="sect3"><span class="secnum">1.25.1</span> Query Compatible Syntax Values</h4>
<p>Chapter 6, titled "CTX_CLS Package", in the <span class="italic"><a class="olink CCREF" href="http://www.oracle.com/pls/db112/lookup?id=CCREF">Oracle Text Reference</a></span> states under the section titled "Query Compatible Syntax" that the doc_id column is a <code>NUMBER</code>. This is correct; however, the values stored in this column must be in the range <code>0-4294967295</code>. The values must be stored in an unsigned 32-bit value. This range also pertains to <code>catid</code>, <code>catdocid</code>, and <code>rescatid</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref84" name="sthref84"></a>
<h4 class="sect3"><span class="secnum">1.25.2</span> Oracle Text Supplied Knowledge Bases</h4>
<p>An Oracle Text knowledge base is a hierarchical tree of concepts used for theme indexing, <code>ABOUT</code> queries, and deriving themes for document services. The following Oracle Text services require that a knowledge base be installed:</p>
<ul>
<li>
<p>Index creation using a <code>BASIC_LEXER</code> preference where <code>INDEX_THEMES=YES</code></p>
</li>
<li>
<p><code>SYNC</code>ing of an index where <code>INDEX_THEMES=YES</code></p>
</li>
<li>
<p><code>CTX_DOC.THEME</code>s</p>
</li>
<li>
<p><code>CTX_DOC.POLICY_THEME</code>s</p>
</li>
<li>
<p><code>CTX_DOC.GIST</code></p>
</li>
<li>
<p><code>CTX_DOC.POLICY_GIST</code></p>
</li>
<li>
<p><code>CTX_QUERY.HFEEDBACK</code></p>
</li>
<li>
<p><code>CTX_QUERY.EXPLAIN</code>, if using <code>ABOUT</code> or <code>THEMES</code> with <code>TRANSFORM</code></p>
</li>
<li>
<p><code>CTX_DOC.SNIPPET</code> (if using the <code>ABOUT</code> operator)</p>
</li>
<li>
<p><code>CTX_DOC.POLICY_SNIPPET</code> (if using the <code>ABOUT</code> operator)</p>
</li>
<li>
<p><code>CONTAINS</code> queries that use <code>ABOUT</code> or <code>THEMES</code> with <code>TRANSFORM</code></p>
</li>
<li>
<p>The Knowledge Base Extension Compiler, <code>ctxkbtc</code></p>
</li>
<li>
<p>Clustering and classification services, if themes are specified</p>
</li>
</ul>
<p>If you plan to use any of these Oracle Text features, then you should install the supplied knowledge bases, English and French, from the Oracle Database Examples media, available for download on OTN.</p>
<p>Note that you can extend the supplied knowledge bases, or create your own knowledge bases, possibly in languages other than English and French. For more information about creating and extending knowledge bases, refer to the <span class="italic"><a class="olink CCREF" href="http://www.oracle.com/pls/db112/lookup?id=CCREF">Oracle Text Reference</a></span>.</p>
<p>For information about how to install products from the Oracle Database Examples media, refer to the <span class="italic"><a class="olink EXMPL" href="http://www.oracle.com/pls/db112/lookup?id=EXMPL">Oracle Database Examples Installation Guide</a></span> that is specific to your platform.</p>
<p class="subhead2"><a id="sthref85" name="sthref85"></a>Supplied Knowledge Bases and Upgrades</p>
<p>Because the supplied knowledge bases are contained on the Oracle Database Examples media, they are not immediately available after an upgrade to Oracle Database 11<span class="italic">g</span> Release 1 (11.1). Oracle Text features that depend on the supplied knowledge bases available before the upgrade will not function after the upgrade, so you must install the supplied knowledge bases from the Oracle Database Examples media.</p>
<p>After an upgrade, you must regenerate all user extensions to the supplied knowledge bases. These changes affect all databases installed in the given <code><span class="codeinlineitalic">ORACLE_HOME</span></code>.</p>
<p>For more information on upgrading Oracle Text and supplied knowledge bases, refer to the <span class="italic"><a class="olink UPGRD" href="http://www.oracle.com/pls/db112/lookup?id=UPGRD">Oracle Database Upgrade Guide</a></span>, Chapter 4, "After Upgrading a Database", section "Upgrading Oracle Text". The <span class="italic"><a class="olink CCAPP" href="http://www.oracle.com/pls/db112/lookup?id=CCAPP">Oracle Text Application Developer's Guide</a></span> contains both general instructions for upgrading from previous releases of Oracle Text and information on supplied knowledge bases.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref86" name="sthref86"></a>
<h4 class="sect3"><span class="secnum">1.25.3</span> Document Filtering Support</h4>
<p>Starting with version 11.1.0.7, Oracle Text uses Oracle Outside In HTML Export for document filtering instead of filtering technology licensed from Autonomy, Inc. With the migration to Oracle Outside In HTML Export, several document formats are no longer supported. Refer to Appendix B of the <a class="olink CCREF" href="http://www.oracle.com/pls/db112/lookup?id=CCREF"><span class="italic">Oracle Text Reference</span></a> for a complete list of filter-supported document formats as well as for a list of formats that are no longer supported in 11.1.0.7.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref87" name="sthref87"></a>
<h4 class="sect3"><span class="secnum">1.25.4</span> URL Datastore and File Datastore</h4>
<p>With the default behavior change for <code>FILE_ACCESS_ROLE</code> (see <a href="#BABFBCJC">Section 1.4.3, "FILE_ACCESS_ROLE Default Behavior Change"</a>), indexing operations on new or existing Oracle Text index using <code>FILE</code> or <code>URL</code> datastore fail if <code>FILE_ACCESS_ROLE</code> parameter is set to <code>NULL</code> (reference Bug 8360111).</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDIFGDA" name="CHDIFGDA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.26</span> Oracle Ultra Search</h3>
<p>Oracle Ultra Search has been de-supported. No new features are implemented in Ultra Search, and Ultra Search will no longer be included as part of future Oracle product sets. In March of 2006, Oracle launched Oracle Secure Enterprise Search (SES). Oracle SES is a faster and more secure product built on the technologies originally developed for Ultra Search. Customers using Ultra Search are strongly recommended to migrate to Oracle SES.</p>
<div class="infoboxnote">
<p class="notep1">See Also:</p>
The Oracle Secure Enterprise Search page on the Oracle Technology Network at:
<p><code><a href="http://www.oracle.com/technology/products/oses/index.html">http://www.oracle.com/technology/products/oses/index.html</a></code></p>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDFDDCB" name="CHDFDDCB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.27</span> Oracle Warehouse Builder</h3>
<p>For additional information about Oracle Warehouse Builder (OWB) in Oracle Database 11<span class="italic">g</span> Release 2 (11.2), refer to the <span class="italic"><a class="olink WBREL" href="../../relnotes.112/e10585/toc.htm">Oracle Warehouse Builder Release Notes</a>.</span></p>
<div class="sect3"><a id="sthref88" name="sthref88"></a>
<h4 class="sect3"><span class="secnum">1.27.1</span> Upgrading Existing Warehouse Builder ETL Designs for Use With OWB 11.2</h4>
<p><span class="italic"><a class="olink WBINS" href="../../owb.112/e17130/toc.htm">Oracle Warehouse Builder Installation and Administration Guide for Windows and Linux</a></span>, Chapter 6, "Migrating Oracle Warehouse Builder from Earlier Releases," states that "To upgrade from versions of Oracle Warehouse Builder earlier than 10<span class="italic">g</span> Release 2, you must first upgrade to Oracle Warehouse Builder 10<span class="italic">g</span> Release 2 or Oracle Warehouse Builder 11<span class="italic">g</span> Release 1. You may then upgrade your repository to Oracle Warehouse Builder 11<span class="italic">g</span> Release 2."</p>
<p>Note, however, that the complete repository upgrade process is only needed to preserve runtime metadata, such as when ETL mappings and process flows were deployed and execution results.</p>
<p>If the goal is to move an OWB design from a previous release to OWB 11<span class="italic">g</span>R2 and the deployment and execution history from the previous repository is not needed, then it is not necessary to upgrade the entire repository. Specifically, when upgrading from OWB 10.1 or earlier, it is simpler to migrate only the design-time metadata.</p>
<p>You can migrate an existing design to OWB 11<span class="italic">g</span>R2 using the following steps:</p>
<ol>
<li>
<p>Export each project from previous releases as MDL.</p>
</li>
<li>
<p>Import the MDL into an OWB 11<span class="italic">g</span>R2 workspace.</p>
</li>
<li>
<p>Upgrade locations to match the new environment.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDGBHHC" name="CHDGBHHC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.28</span> Oracle Workflow</h3>
<p>Oracle Workflow is not shipping with Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
</div>
<!-- class="sect2" -->
<a id="CHDIAFGI" name="CHDIAFGI"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.29</span> Oracle XML DB</h3>
<p>Consider the following when working with Oracle XML DB:</p>
<ul>
<li>
<p>Compression is not supported with Oracle XML DB.</p>
</li>
<li>
<p>The transportable tablespace feature is not supported on hierarchy-enabled XMLType tables.</p>
</li>
</ul>
<a id="BABIBIIC" name="BABIBIIC"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.29.1</span> Change in Semantics of xdb:defaultTable Annotation</h4>
<p>There is a change in behavior in the semantics of <code>xdb:defaultTable</code> annotation while registering XML DB schemas in 11.2 as compared to 11.1 (reference Bug 7646934). If you specify <code>xdb:defaultTable="MY_TAB"</code> without specifying <code>xdb:sqlInline="false"</code>, XML DB creates the table as requested and implicitly marks it as an out-of-line table. This behavior is different from 11.1 where the <code>defaultTable</code> annotation was ignored when the <code>sqlInline</code> setting was missing.</p>
</div>
<!-- class="sect3" -->
<a id="BABGHDDI" name="BABGHDDI"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.29.2</span> VARRAY Storage Default Change</h4>
<p>In Oracle Database 11<span class="italic">g</span> Release 1 (11.1), the default value for <code>xdb:storeVarrayAsTable</code> changed from <code>FALSE</code> to <code>TRUE</code> for XMLType object-relational storage. This default applied to the default table, but not when creating XMLType object-relational tables and columns after the schema registration (reference Bug 6858659). In Oracle Database 11<span class="italic">g</span> Release 2 (11.2), all <code>VARRAY</code> data elements are created as tables by default. This provides a significant performance increase at query time. In addition, note the following:</p>
<ul>
<li>
<p>Tables created prior to 11.2 are not affected by this. The upgrade process retains storage parameters. This only affects tables created in 11.2 or later.</p>
</li>
<li>
<p>You can retain the pre-11.2 default of <code>VARRAY</code> storage as LOBs if you have small <code>VARRAY</code> data elements and you read and or write the full <code>VARRAY</code> all at once. You have two options to revert to the pre-11.2 behavior:</p>
<ul>
<li>
<p>Re-register the schema with <code>xdb:storeVarrayAsTable=FALSE</code>. This affects the default and non-default tables.</p>
</li>
<li>
<p>Or, when creating the table (for non default tables), you can use the <code>STORE ALL VARRAYS AS LOBS</code> clause to override the default for all <code>VARRAY</code> data elements in the XMLType. This clause can only be used during table creation. It will return an error if used in the <code>table_props</code> at schema registration time.</p>
</li>
</ul>
</li>
<li>
<p>For schemas registered prior to 11.2 (when the default storage for <code>VARRAY</code> data elements was <code>LOB</code>), you can use <code>STORE ALL VARRAYS AS TABLES</code> clause to override the default for all <code>VARRAY</code> data elements in the XMLType.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFJACH" name="CHDFJACH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.30</span> PL/SQL</h3>
<p>Note the following when working with PL/SQL.</p>
<a id="BABCDDHF" name="BABCDDHF"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.30.1</span> Secure Database By Default Changes</h4>
<p>The <code>PUBLIC EXECUTE</code> privilege for the <code>DBMS_RANDOM</code> PL/SQL package will be deprecated in future Oracle Database releases (reference Bug 7591837). Users who need to run this PL/SQL package should be given explicit <code>EXECUTE</code> privileges.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref89" name="sthref89"></a>
<h4 class="sect3"><span class="secnum">1.30.2</span> Stale Native Code Files Are Being Cached</h4>
<p>Natively compiled PL/SQL and native code generated by the JIT compiler for Oracle JVM, may be cached in operating system files. The <code>SHUTDOWN ABORT</code> and <code>SHUTDOWN IMMEDIATE</code> commands do not clean these cached native code files (reference Bug 8527383).</p>
<p>To avoid problems caused by stale files in the cache, clean the files before restarting the database instance. The stale files that belong to the instance can be identified by name. The name patterns are as follows where <code><span class="codeinlineitalic">sid_name</span></code> is the system identifier name:</p>
<pre xml:space="preserve" class="oac_no_warn">JOXSHM_EXT_*_<span class="italic">sid_name</span>_*
PESHM_EXT_*_<span class="italic">sid_name</span>_*
PESLD_<span class="italic">sid_name</span>_*
</pre>
<p>It is advisable to remove stale files as part of a startup script. For example, to clean stale files for the instance passed to the startup csh script by name on Linux, add the following three lines to the startup script:</p>
<pre xml:space="preserve" class="oac_no_warn">rm JOXSHM_EXT_*_$1_*
rm PESHM_EXT_*_$1_*
rm PESLD_$1_*
</pre>
<p>The location of the native cache depends on the platform. It is defined by the location of files created by the operating system to implement <code>shm_open</code> requests on that platform. For example, Solaris stores shared memory segments in <code>/var/tmp/.SHMD</code> and <code>/tmp/.SHMD</code>. Linux stores them in <code>/dev/shm</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref90" name="sthref90"></a>
<h4 class="sect3"><span class="secnum">1.30.3</span> DBMS_SCHEDULER PL/SQL Package</h4>
<p>Consider the following when working with the <code>DBMS_SCHEDULER</code> PL/SQL package.</p>
<div class="sect4"><a id="sthref91" name="sthref91"></a>
<h5 class="sect4"><span class="secnum">1.30.3.1</span> Event-Based Jobs</h5>
<p>The Oracle Scheduler supports event-based jobs. These are jobs that are started when a message is enqueued into a database queue. When the database queue used for this purpose is a secure queue, the <code>QUEUE_SPEC</code> attribute of event-based jobs and schedules is a pair of the form <code><span class="codeinlineitalic">queue_name, agent_name</span></code>. The reason an agent has to be specified is to help the scheduler determine which messages the user can see. In the case of nonsecure queues, if the user has dequeue privileges on a queue, then he or she can dequeue any agent that is subscribed to the queue. This means that he or she can see all of the messages in the queue. In the case of secure queues, the user has to be granted privileges to not only the queue but to agents as well.</p>
<p>In addition to granting dequeue privileges, the queue owner has to make a call to <code>dbms_aqadm.enable_db_access()</code> to enable the user to dequeue as a specific agent. The agent could be subscribed to the queue using a rule that filters messages that the user should not see.</p>
<p>The scheduler always subscribes to every queue (secure or otherwise) using its own agent <code>SCHEDULER$_EVENT_AGENT</code>. Because the scheduler runs as user <code>SYS</code>, it can see all the messages in the queue. In the case of secure queues, however, this should not be done because the purpose of secure queues is to enable the queue owner to provide some type of limited access to the queue by users. Therefore, the scheduler requires an agent name in the <code>QUEUE_SPEC</code> attribute. This agent name is used solely for the purpose of determining which messages the user can see. The scheduler does not dequeue messages as this agent. When the scheduler receives a notification that a message has arrived in a secure queue, it performs the following checks for each event-based job that depends on the queue.</p>
<ol>
<li>
<p>It checks to determine if the job owner has dequeue privileges on the queue.</p>
</li>
<li>
<p>It checks to see if the agent name provided in the queue spec can be used by the job owner.</p>
</li>
<li>
<p>It checks to see if the agent is currently subscribed to the queue.</p>
</li>
<li>
<p>It checks if the incoming message is visible to the agent.</p>
</li>
</ol>
<p>If all of these checks succeed, then the scheduler launches the event-based job. Regardless of whether the checks pass, the message is dequeued using the agent <code>SCHEDULER$_EVENT_AGENT</code>.</p>
<p>When providing an agent for the <code>QUEUE_SPEC</code> attribute, the user can provide an existing agent name or have a new one created for this purpose. In either case, it is the user's or queue owner's responsibility to ensure that the agent dequeues its messages.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref92" name="sthref92"></a>
<h5 class="sect4"><span class="secnum">1.30.3.2</span> Remote Jobs</h5>
<p>The Oracle Scheduler supports running jobs on remote hosts and transferring files to or from remote hosts. To achieve this goal, it is first necessary to go through the setup described in the "Enabling and Disabling Remote External Jobs" section of Chapter 28 of the <span class="italic"><a class="olink ADMIN" href="http://www.oracle.com/pls/db112/lookup?id=ADMIN">Oracle Database Administrator's Guide</a></span>. This feature also requires that Oracle XML DB HTTP Server be enabled on the database.</p>
<p>To check whether Oracle XML DB HTTP Server is enabled, you can use the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; SELECT DBMS_XDB.GETHTTPPORT() FROM DUAL;
</pre>
<p>If this statement returns <code>0</code>, then you need to enable Oracle XML DB HTTP Server on a non-zero port by logging in as <code>SYS</code> and issuing the following commands:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; EXEC DBMS_XDB.SETHTTPPORT (<span class="italic">port</span>);
SQL&gt; COMMIT;
</pre>
<p>Substitute <code><span class="codeinlineitalic">port</span></code> with Oracle XML DB HTTP Server port you wish to use.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref93" name="sthref93"></a>
<h4 class="sect3"><span class="secnum">1.30.4</span> UTL_TCP, UTL_HTTP, UTL_SMTP, UTL_MAIL, and UTL_INADDR PL/SQL Packages</h4>
<p>A new security measure is introduced in this release for the following network-related PL/SQL packages: <code>UTL_TCP</code>, <code>UTL_HTTP</code>, <code>UTL_SMTP</code>, <code>UTL_MAIL</code>, and <code>UTL_INADDR</code>. The invoker of those packages needs additional privileges to connect to an external host or to resolve the name or the IP address of a host. The packages check the invoker for the necessary privileges only when the calls are made at runtime and raises an exception if the invoker lacks the privileges. This new security measure is implemented by Oracle XML DB access control list (ACL) mechanism and, therefore, requires Oracle XML DB to be installed in order to use those packages.</p>
<p>Each external host that a database user wants to connect to or to resolve the name or IP address for from the database is restricted by an access control list (ACL). To grant a user the privileges for the host, the database administrator should create an ACL, add the privileges to the ACL for the user, assign the ACL to the host, and commit the changes using the <code>DBMS_NETWORK_ACL_ADMIN</code> PL/SQL package. For example, to give the users <code>SCOTT</code> and <code>ADAMS</code> the permission to connect to <code>www.oracle.com</code> via HTTP (namely to connect to TCP/IP port 80), the database administrator should complete the following:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; REM Creates a new ACL and adds SCOTT the privilege to the ACL to make TCP connections
SQL&gt; EXECUTE DBMS_NETWORK_ACL_ADMIN.CREATE_ACL('acl_for_oracle.xml', -
&gt; 'ACL for www.oracle.com', 'SCOTT', TRUE, 'connect')

SQL&gt; REM Adds ADAMS the privilege to the ACL to make TCP connections also
SQL&gt; EXECUTE DBMS_NETWORK_ACL_ADMIN.ADD_PRIVILEGE('acl_for_oracle.xml', -
&gt; 'ADAMS', TRUE, 'connect')

SQL&gt; REM Assigns the new ACL to www.oracle.com for TCP/IP port 80 (HTTP)
SQL&gt; EXECUTE DBMS_NETWORK_ACL_ADMIN.ASSIGN_ACL('acl_for_oracle.xml', -
&gt; 'www.oracle.com', 80)

SQL&gt; REM Commits to make the ACL take effect
SQL&gt; COMMIT
</pre>
<p>The invoker of the <code>UTL_TCP</code>, <code>UTL_HTTP</code>, <code>UTL_SMTP</code>, and <code>UTL_MAIL</code> packages needs the <code>'connect'</code> privilege to make TCP/IP, HTTP, or SMTP connections to the external host. The invoker of the <code>UTL_INADDR</code> package needs the <code>'resolve'</code> privilege to resolve the name or the IP address of the external host. Note that those privileges are not granted through the <code>GRANT</code> SQL statement but through the <code>DBMS_NETWORK_ACL_ADMIN</code> package.</p>
<p>The current ACL assignment to external hosts and the privileges currently defined in the ACLs are shown through the system catalog views <code>DBA_NETWORK_ACLS</code> and <code>DBA_NETWORK_ACL_PRIVILEGES</code>.</p>
<p>The invokers of other database components that use those PL/SQL packages to perform network operations from the database, which are Oracle XML DB HttpUriType, Oracle Multimedia, and Oracle Spatial, are subject to the same network permission check and require the same privileges.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref94" name="sthref94"></a>
<h4 class="sect3"><span class="secnum">1.30.5</span> DBMS_SQL Package</h4>
<p>In Oracle Database 11<span class="italic">g</span> Release 1 (11.1), Oracle introduces a number of enhancements to <code>DBMS_SQL</code> to improve the security of the package:</p>
<ul>
<li>
<p>Prevent guessing of open cursor numbers</p>
<p>A new error, <code>ORA-29471</code>, will be raised when any <code>DBMS_SQL</code> subprogram is called with a cursor number that does not denote an open cursor. When the error is raised, an alert is issued to the alert log and <code>DBMS_SQL</code> becomes inoperable for the life of the session.</p>
<p>If the actual value for the cursor number in a call to <code>IS_OPEN</code> does denote a cursor that is currently open in the session, then the return value is <code>TRUE</code>. If the actual is null, then the return value is <code>FALSE</code>. Otherwise, you get the <code>ORA-29471</code> error.</p>
<p>Note that the <code>DBMS_SQL.OPEN_CURSOR</code> function is the only <code>DBMS_SQL</code> subprogram that has no formal parameter for the cursor number. Rather, it returns a cursor number. Therefore, it is not within the scope of the rules.</p>
</li>
<li>
<p>Prevent inappropriate use of a cursor</p>
<p>Cursors are now better protected from security breaches that subvert known, existing cursors.</p>
<p>Checks are always made when binding and executing. Optionally, checks may be performed for every single <code>DBMS_SQL</code> subprogram call. The check is:</p>
<ul>
<li>
<p><code>current_user</code> is the same on calling the subprogram in question as it was on calling the most recent parse.</p>
</li>
<li>
<p>The enabled roles on calling the subprogram must be a superset of the enabled roles on calling the most recent parse.</p>
</li>
</ul>
<p>As is always the case, for definer's right subprograms, roles are irrelevant.</p>
<p>If either check fails, then <code>ORA-29470</code> is raised.</p>
<p>The mechanism for defining when checks are performed is a new overload for the <code>OPEN_CURSOR</code> subprogram which takes a formal parameter, <code>security_level</code>, with allowed values <code>NULL</code>, <code>1</code> and <code>2</code>.</p>
<p>When <code>security_level = 1</code> (or is <code>NULL</code>), the checks are made only when binding and executing. When <code>security_level = 2</code>, the checks are always made.</p>
<p>This security regime is stricter than in 10.2 and previous releases. As a consequence, users of <code>DBMS_SQL</code> may encounter runtime errors on upgrade. While the regime makes for more secure applications, users may want to relax the security checks temporarily as they migrate to 11.1. If so, consult with Oracle Support Services on steps to relax the security checks.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref95" name="sthref95"></a>
<h4 class="sect3"><span class="secnum">1.30.6</span> UTL_FILE Package</h4>
<p>The <code>UTL_FILE</code> package no longer opens a file if that file is a symbolic link. This new restriction closes a known security hole in the <code>UTL_FILE</code> package.</p>
<p>If this security restriction poses an undue burden during migration, then contact Oracle Support Services for assistance.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref96" name="sthref96"></a>
<h4 class="sect3"><span class="secnum">1.30.7</span> Interoperability Between Releases</h4>
<p>Interoperability between an 11.1 database or Forms client and a 10.1 or 10.2 database requires a minimum patchset level of 10.1.0.5 (for 10.1) or 10.2.0.2 (for 10.2).</p>
<p>An attempt to reference a 10.1 or 10.2 PL/SQL unit or view under the following circumstances fails with a <code>PLS-801[55916]</code> error unless the 10.1 or 10.2 environment has been patched to the correct level:</p>
<ul>
<li>
<p>A PL/SQL unit, anonymous block, trigger, call statement, or SQL statement on an 11.1 database runs a PL/SQL unit on a 10.1 or 10.2 database across a database link.</p>
</li>
<li>
<p>A PL/SQL unit, anonymous block, trigger, or call statement on an 11.1 database references a view on a 10.1 or 10.2 database across a database link and the view directly or indirectly references a PL/SQL function or an object type.</p>
</li>
<li>
<p>An 11.1 Forms client runs a PL/SQL unit in a 10.1 or 10.2 database using RPC.</p>
</li>
</ul>
<p>To avoid the <code>PLS-801[55916]</code> error, a minimum patchset level of 10.1.0.5 (for 10.1) or 10.2.0.2 (for 10.2) is required.</p>
<p>There is no interoperability problem between 10.1 and 10.2 environments.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDIFBBI" name="CHDIFBBI"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.31</span> Pro*C</h3>
<p>The Pro*C readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/precomp/doc/proc2/readme.doc
</pre></div>
<!-- class="sect2" -->
<a id="CHDDIDCC" name="CHDDIDCC"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.32</span> Pro*COBOL</h3>
<p>The Pro*COBOL readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/precomp/doc/procob2/readme.doc
</pre></div>
<!-- class="sect2" -->
<a id="CHDEHHGA" name="CHDEHHGA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.33</span> SQLJ</h3>
<p>SQLJ in Oracle Database 11<span class="italic">g</span> Release 2 (11.2) is supported with JDK 5.0 and JDK 6.0.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEEGAB" name="CHDEEGAB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.34</span> SQL*Plus</h3>
<p>The SQL*Plus readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/sqlplus/doc/README.htm
</pre></div>
<!-- class="sect2" -->
<a id="CHDDJBED" name="CHDDJBED"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.35</span> Summary Management</h3>
<p>Note the following items when working with Summary Management.</p>
<div class="sect3"><a id="sthref97" name="sthref97"></a>
<h4 class="sect3"><span class="secnum">1.35.1</span> Query Rewrite</h4>
<p>The following items apply to Query Rewrite.</p>
<div class="sect4"><a id="sthref98" name="sthref98"></a>
<h5 class="sect4"><span class="secnum">1.35.1.1</span> Fine Grained Auditing (FGA)</h5>
<p>If Fine Grained Auditing (FGA) is enabled on a table in the query, then Query Rewrite will not occur for this query.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref99" name="sthref99"></a>
<h5 class="sect4"><span class="secnum">1.35.1.2</span> Use of PARTITION Clause</h5>
<p>Query rewrite does not occur for queries that use the <code>PARTITION</code> clause in the <code>FROM</code> clause to access table partitions. In order for query rewrite to rewrite such queries, the <code>PARTITION</code> clauses must first be converted into equivalent selection predicates and added to the <code>WHERE</code> clause.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref100" name="sthref100"></a>
<h4 class="sect3"><span class="secnum">1.35.2</span> Feature Availability</h4>
<p>The following are available in Enterprise Edition:</p>
<ul>
<li>
<p>Creation and refresh features of materialized views</p>
</li>
<li>
<p>Query rewrite and materialized view advice from the SQL Access Advisor</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref101" name="sthref101"></a>
<h4 class="sect3"><span class="secnum">1.35.3</span> NLS Parameters</h4>
<p>When using or refreshing certain materialized views, you must ensure that your NLS parameters are the same as when you created the materialized view. Materialized views that fall under this restriction contain the following constructs:</p>
<ol>
<li>
<p><span class="bold">Expressions that may return different values, depending on NLS parameter settings</span></p>
<p>It is recommended to write such expressions in the NLS-independent way. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">(date &gt; DATE '2003-01-02')
</pre>
<p>Or:</p>
<pre xml:space="preserve" class="oac_no_warn">(rate &lt;= 2.150)
</pre></li>
<li>
<p><span class="bold">Equijoins where one side of the join is character data</span></p>
<p>The result of this equijoin depends on collation which can change on a session basis, giving an incorrect result in the case of query rewrite or an inconsistent materialized view after a refresh operation.</p>
</li>
<li>
<p><span class="bold">Expressions that generate internal conversion to character data in the select list of a materialized view, or inside an aggregate of a materialized aggregate view</span></p>
<p>This restriction does not apply to expressions that involve only numeric data; for example, <code>a+b</code> where <code>a</code> and <code>b</code> are numeric values.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFGHAG" name="CHDFGHAG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">1.36</span> Oracle Streams</h3>
<p>Note the following when working with Oracle Streams.</p>
<div class="sect3"><a id="sthref102" name="sthref102"></a>
<h4 class="sect3"><span class="secnum">1.36.1</span> Propagation from Release 9.2 or Release 10.1 to Release 11.2 Returns Error ORA-25334</h4>
<p>Propagation from Oracle9<span class="italic">i</span> Database Release 2 (9.2) or Oracle Database 10<span class="italic">g</span> Release 1 (10.1) to Oracle Database 11<span class="italic">g</span> Release 2 (11.2) results in error <code>ORA-25334</code> unless the patch to Bug 4285404 has been applied to the 9.2 database.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref103" name="sthref103"></a>
<h4 class="sect3"><span class="secnum">1.36.2</span> Oracle Streams Apply Handler Modifications Necessary for Handling New Error Messages That Replace ORA-1403 Errors</h4>
<p>Customized DML and error handlers for Oracle Streams require modification to catch the additional Oracle errors ORA-26786 and ORA-26787 in place of the <code>ORA-01403 No data found</code> message. An ORA-26787 error is raised if the row to be updated or deleted does not exist in the target table. An ORA-26786 error is raised when the row exists in the target table, but the values of some columns do not match those of the LCR.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref104" name="sthref104"></a>
<h4 class="sect3"><span class="secnum">1.36.3</span> Oracle Streams Advanced Queuing</h4>
<p>Subscription names for Advanced Queuing notification will become canonical. Thus, registrations for <code>scott.queue1:sub</code> and <code>SCOTT.QUEUE1:SUB</code> are for the same entity and are represented in canonical form as <code>"SCOTT"."QUEUE1":"SUB"</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref105" name="sthref105"></a>
<h4 class="sect3"><span class="secnum">1.36.4</span> DBMS_RULE_ADM Operation Privileges</h4>
<p>New in Oracle Database 11<span class="italic">g</span> Release 2 (11.2), the <code>DBMS_RULE_ADM</code> package might require that the caller be specifically granted the privilege to perform the <code>DBMS_RULE_ADM</code> operation (reference Bug 5523578).</p>
<p>For the short term, if needed, the previous behavior can be restored by setting event 25476 to any nonzero level. However, usage of this event may be deprecated in a future release, therefore it is recommended that you grant the relevant privileges should <code>DBMS_RULE_ADM</code> return a security-related error.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref106" name="sthref106"></a>
<h4 class="sect3"><span class="secnum">1.36.5</span> UTL_SPADV Load Privileges</h4>
<p>An additional privilege is required to load the <code>UTL_SPADV</code> package into the Oracle Streams administrator schema. The Oracle Streams administrator schema must have <code>EXECUTE</code> privilege on <code>DBMS_LOCK</code> in order to load this package.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDJAGIA" name="CHDJAGIA"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.37</span> Documentation Addendum</h3>
<p>This section contains corrections to the following Oracle Documentation for this release:</p>
<ul>
<li>
<p><a href="#g51767449">Section 1.37.1, "Oracle Database Heterogeneous Connectivity User's Guide"</a></p>
</li>
<li>
<p><a href="#CHDHIEHJ">Section 1.37.2, "Oracle Database PL/SQL Packages and Types Reference"</a></p>
</li>
</ul>
<a id="g51767449" name="g51767449"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.37.1</span> Oracle Database Heterogeneous Connectivity User's Guide</h4>
<p>The following information should be removed from Chapter 4, "Using Heterogeneous Services Agents", section "Determining the Heterogeneous Services Parameters":</p>
<dl>
<dd>The Distributed Access Manager has a refresh capability available through the menu and toolbar that allows users to rerun queries if necessary and update the data. When the data is refreshed, the tool verifies that the set of registered agents remains the same. If it is not, then the global view is updated. See <span class="italic">Oracle Enterprise Manager Administrator's Guide</span> and online help for more information about the Distributed Access Manager.</dd>
</dl>
</div>
<!-- class="sect3" -->
<a id="CHDHIEHJ" name="CHDHIEHJ"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.37.2</span> Oracle Database PL/SQL Packages and Types Reference</h4>
<p>The <code>listno</code> parameter of the <code>DBMS_UTILITY</code> was inadvertently excluded from the <span class="italic"><a class="olink ARPLS" href="http://www.oracle.com/pls/db112/lookup?id=ARPLS">Oracle Database PL/SQL Packages and Types Reference</a></span>. For example, the <code>GET_PARAMETER_VALUE</code> function should read as follows:</p>
<p class="subhead2"><a id="sthref107" name="sthref107"></a>GET_PARAMETER_VALUE Function</p>
<p>This function gets the value of specified initialization parameter.</p>
<p><span class="bold">Syntax</span></p>
<pre xml:space="preserve" class="oac_no_warn">DBMS_UTILITY.GET_PARAMETER_VALUE (
    parnam       IN        VARCHAR2,
    intval       IN OUT    BINARY_INTEGER,
    strval       IN OUT    VARCHAR2,
    listno       IN        BINARY_INTEGER DEFAULT 1)
  RETURN BINARY_INTEGER;
</pre>
<p><span class="bold">Parameters</span></p>
<div class="inftblinformal">
<table class="Informal" title="GET_PARAMETER_VALUE Function" summary="This table describes the values of the GET_PARAMETER_VALUE function." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="42%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t15">Parameter</th>
<th align="left" valign="bottom" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t15" headers="r1c1-t15"><code>parnam</code></td>
<td align="left" headers="r2c1-t15 r1c2-t15">Parameter name.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t15" headers="r1c1-t15"><code>intval</code></td>
<td align="left" headers="r3c1-t15 r1c2-t15">Value of an integer parameter or the value length of a string parameter.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t15" headers="r1c1-t15"><code>strval</code></td>
<td align="left" headers="r4c1-t15 r1c2-t15">Value of a string parameter.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t15" headers="r1c1-t15"><code>listno</code></td>
<td align="left" headers="r5c1-t15 r1c2-t15">List item number. If retrieving parameter values for a parameter that can be specified multiple times to accumulate values, use this parameter to get each individual parameter.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDEHEGG" name="CHDEHEGG"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">1.38</span> Open Bugs</h3>
<p>This section lists known bugs for this release. A supplemental list of bugs may be found as part of the release documentation specific for your platform.</p>
<div class="sect3"><a id="sthref108" name="sthref108"></a>
<h4 class="sect3"><span class="secnum">1.38.1</span> Database Upgrade Assistant (DBUA) Known Bugs</h4>
<p class="subhead2"><a id="sthref109" name="sthref109"></a>Bug 8724757</p>
<p>When upgrading a release 9.2.0.8 database with archived redo logs and the <code>LOG_ARCHIVE_FORMAT</code> initialization parameter is explicitly set to <code>%t_%s.dbf</code>, DBUA shows an error recommending that you change the format to add <code>%r</code> and then continue. But <code>%r</code> is not a supported format in 9.2.</p>
<p><a id="sthref110" name="sthref110"></a><span class="subhead3">Workaround:&nbsp;</span>Remove <code>LOG_ARCHIVE_FORMAT</code> from the initialization parameter file or <code>SPFILE</code> and use the default format. In release 9.2.0.8 the default was <code>%t_%s.dbf</code> and in 11.2 the default is <code>%t_%r_%s.dbf</code>. Therefore, using the default will automatically update the format.</p>
</div>
<!-- class="sect3" -->
<a id="g51773683" name="g51773683"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">1.38.2</span> Deinstallation Tool Known Bugs</h4>
<p class="subhead2"><a id="sthref111" name="sthref111"></a>Bug 8737202</p>
<p>When using a standalone version of the deinstallation tool to deinstall Oracle Grid Infrastructure for a cluster, the deinstallation fails to remove Oracle Clusterware on the remote nodes if the you run the tool and do not have permissions to create the deinstallation home location on the remote nodes.</p>
<p><a id="sthref112" name="sthref112"></a><span class="subhead3">Workaround:&nbsp;</span>If the standalone version of the deinstallation tool is used to remove Oracle Grid Infrastructure for a cluster, you need permissions to create the deinstallation home location on all the Oracle Clusterware nodes.</p>
<p class="subhead2"><a id="sthref113" name="sthref113"></a>Bug 8726637</p>
<p>If the Oracle Clusterware home is created under top level <code>'/'</code> directory, deinstallation fails to remove the Oracle Clusterware software on remote nodes.</p>
<p><a id="sthref114" name="sthref114"></a><span class="subhead3">Workaround: &nbsp;</span>At the end of the deinstallation, run the following command from the local node for each of the remote nodes:</p>
<pre xml:space="preserve" class="oac_no_warn">'ssh <span class="italic">remote_node</span> rm -rf <span class="italic">crs_home</span>/'
</pre>
<p class="subhead2"><a id="sthref115" name="sthref115"></a>Bug 8680498</p>
<p>If you try to deinstall Oracle Restart on a machine where there is a single-instance database Oracle home that is not managed by Oracle Restart, the deinstallation tool removes the <code>/etc/oratab</code> file.</p>
<p><a id="sthref116" name="sthref116"></a><span class="subhead3">Workaround:</span> Make a backup of the <code>/etc/oratab</code> file before running the deinstallation tool to deconfigure Oracle Restart, and then restore the file after you deinstall Oracle Grid Infrastructure for a cluster.</p>
<p class="subhead2"><a id="BABEJCAI" name="BABEJCAI"></a>Bug 8644344</p>
<p>When running the deinstallation tool to deinstall the database, you will be prompted to expand the Oracle home and to select a component. If you select the top level component, <code>Oracle Database Server</code>, and do not select the Oracle home, OUI does not show the message to run the deinstall utility and proceeds with the deinstallation of the database.</p>
<p><a id="sthref117" name="sthref117"></a><span class="subhead3">Workaround:</span> Run the deinstallation tool to deinstall the Oracle home.</p>
<p class="subhead2"><a id="BABCFBGD" name="BABCFBGD"></a>Bug 8635356</p>
<p>If you are running the deinstall tool from <code><span class="codeinlineitalic">ORACLE_HOME</span></code> that is installed on shared NFS storage, then you will see errors related to <code>.nfs</code> files during <code><span class="codeinlineitalic">ORACLE_HOME</span></code> clean up.</p>
<p><a id="sthref118" name="sthref118"></a><span class="subhead3">Workaround:</span> To remove the <code><span class="codeinlineitalic">ORACLE_HOME</span></code>, run the <code>rm -rf</code> <code><span class="codeinlineitalic">ORACLE_HOME</span></code> command after the deinstall tool exits. Alternatively, you can use the standalone <code>deinstall.zip</code> and specify the location of the <code><span class="codeinlineitalic">ORACLE_HOME</span></code>.</p>
<p class="subhead2"><a id="sthref119" name="sthref119"></a>Bug 8403941</p>
<p>Oracle Grid Infrastructure for a cluster deinstallation will fail when the Deinstall tool is run from a read-only location.</p>
<p><a id="sthref120" name="sthref120"></a><span class="subhead3">Workaround:</span> If a standalone version of Deinstall tool is used to remove Oracle Grid Infrastructure for a cluster, the Deinstall tool should be downloaded and run from the location that is writable to the user running the tool. The user should also have permissions to create the deinstallation home location on all of the Oracle Clusterware nodes.</p>
<p class="subhead2"><a id="BABBEFIG" name="BABBEFIG"></a>Bug 8666509</p>
<p>A deinstallation of Oracle Clusterware should ask you to detach any pre-11.2 Oracle RAC homes from the Oracle inventory.</p>
<p><a id="sthref121" name="sthref121"></a><span class="subhead3">Workaround:</span> After you deconfigure and deinstall an upgraded 11.2 Oracle RAC home and want to continue with deconfiguration and deinstallation of the Oracle Grid Infrastructure for a cluster home, first detach any pre-11.2 Oracle RAC software homes from the central Inventory.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref122" name="sthref122"></a>
<h4 class="sect3"><span class="secnum">1.38.3</span> Oracle Application Express Known Bugs</h4>
<p>Refer to "Open Bugs and Known Issues" in <span class="italic"><a class="olink HTMRN" href="../../relnotes.112/e11944/toc.htm">Oracle Application Express Release Notes</a></span>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref123" name="sthref123"></a>
<h4 class="sect3"><span class="secnum">1.38.4</span> Automatic Storage Management Known Bugs</h4>
<p class="subhead2"><a id="sthref124" name="sthref124"></a>Bug 9327020</p>
<p>The ASMCMD <code>md_restore</code> command requires the value for the <code>COMPATIBLE.RDBMS</code> attribute to be set to 11.2.0.0.0.</p>
<p><a id="sthref125" name="sthref125"></a><span class="subhead3">Workaround:&nbsp;</span>None.</p>
<p class="subhead2"><a id="BABHGEIA" name="BABHGEIA"></a>Bug 9316406</p>
<p>In 11.2, operating system users other than the Oracle Grid Infrastructure for a cluster home owner cannot execute ASMCMD binary due to Perl binary and library permission being 700.</p>
<p><a id="sthref126" name="sthref126"></a><span class="subhead3">Workaround:&nbsp;</span>Fix the permissions of the Perl executable and Perl libraries.</p>
<p class="subhead2"><a id="sthref127" name="sthref127"></a>Bug 8936616</p>
<p>The <code>ASM_DISKSTRING</code> specified in Oracle ASM initialization parameters does not take effect when trying to create a disk group.</p>
<p><a id="sthref128" name="sthref128"></a><span class="subhead3">Workaround:&nbsp;</span>Go to the <span class="bold">Create Disk Group</span> dialog and specify <span class="bold">Disk Discovery Path</span> in the <span class="bold">Change Disk Discovery Path</span> dialog. ASMCA will list all the matching disks.</p>
<p class="subhead2"><a id="sthref129" name="sthref129"></a>Bug 8783301</p>
<p>When the data files of a tablespace, created on a diskgroup, are dropped, a dependency between the database and diskgroup is not updated. This can prevent the Oracle RAC instance from starting after the diskgroup is removed.</p>
<p><a id="sthref130" name="sthref130"></a><span class="subhead3">Workaround:&nbsp;</span>Execute the following command with the <code>-a</code> option that specifies a list of current diskgroups after a tablespace is created or dropped:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl modify database -d orcl -a DG1,DG2
</pre>
<p class="subhead2"><a id="sthref131" name="sthref131"></a>Bug 8722063</p>
<p>The ASMCMD <code>lsdg</code> command does not show the correct voting disk locations in an Oracle ASM disk group.</p>
<p><a id="sthref132" name="sthref132"></a><span class="subhead3">Workaround:</span> Use the <code>VOTING_FILE</code> field of the <code>V$ASM_DISK</code> view to find out if the voting file is located on that disk or not. Use the following SQL command:</p>
<pre xml:space="preserve" class="oac_no_warn">SELECT VOTING_FILE FROM V$ASM_DISK
</pre>
<p class="subhead2"><a id="sthref133" name="sthref133"></a>Bug 8721918</p>
<p>Oracle Automatic Storage Management Cluster File System (Oracle ACFS) error numbers span from <code>501</code>-<code>12000</code>. Errors ranging from <code>501</code>-<code>9999</code> are reported with the format of <code>ACFS-00501</code>-<code>ACFS-09999</code>. The <code>oerr</code> tool does not recognize Oracle ACFS error messages in this form due to the extra zeros (0) that are prepended to the error number to create a five-digit number. For example, if <code>ACFS</code>-<code>00501</code> is returned, then running the command <code>oerr ACFS 00501</code> will not return data.</p>
<p><a id="sthref134" name="sthref134"></a><span class="subhead3">Workaround:</span> When you run <code>oerr</code>, remove any preceding zeros from the error number that is returned in the error message. For example, if <code>ACFS</code>-<code>00501</code> is returned in an error, then run <code>oerr</code> as follows:</p>
<pre xml:space="preserve" class="oac_no_warn">$ oerr ACFS 501 
</pre>
<p class="subhead2"><a id="sthref135" name="sthref135"></a>Bug 8623938</p>
<p>Querying a <code>GV$</code> view while an Oracle ASM cluster is in a rolling migration state might cause the process that issued the query to fail and return an error similar to the following:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-0600: internal error code, arguments: [ksxpcini:rm], [3], [218103808]
</pre>
<p><a id="sthref136" name="sthref136"></a><span class="subhead3">Workaround:</span> Do not query <code>GV$</code> views while an Oracle ASM cluster is in a rolling migration state.</p>
<p>When Automatic Storage Management Configuration Assistant (ASMCA) performs a rolling upgrade of an Oracle ASM cluster, it queries <code>GV$</code> views before putting the cluster in rolling migration state. If ASMCA fails before completing the rolling migration, stop the rolling migration before relaunching ASMCA. Otherwise, ASMCA will fail when it performs its <code>GV$</code> query. The SQL command to stop the rolling migration is:</p>
<pre xml:space="preserve" class="oac_no_warn">ALTER SYSTEM STOP ROLLING MIGRATION;
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref137" name="sthref137"></a>
<h4 class="sect3"><span class="secnum">1.38.5</span> Oracle Clusterware Known Bugs</h4>
<p class="subhead2"><a id="sthref138" name="sthref138"></a>Bug 9061246</p>
<p>If the Global Services Daemon (GSD) is enabled, it may fail to start on all nodes of the cluster when the Oracle Clusterware is started or when the nodes are rebooted. The GSD state can be verified by running the command <code>srvctl status nodeapps</code>.</p>
<p><a id="sthref139" name="sthref139"></a><span class="subhead3">Workaround: &nbsp;</span>On any one of the node in Oracle Clusterware, issue the following command to start GSD on all nodes:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl start nodeapps
</pre>
<p class="subhead2"><a id="BABCEIDA" name="BABCEIDA"></a>Bug 8974576</p>
<p><code>REMOTE_LISTENER</code> parameter was not changed after a <code>SRVCTL ADD SCAN_LISTENER</code> or <code>SRVCTL REMOVE SCAN_LISTENER</code> command.</p>
<p>In a future release, Oracle Clusterware may start managing <code>REMOTE_LISTENER</code> as part of a project to support multiple public networks each with their own <code>SCAN</code>. But in release 11.2, because of the need to include node VIPs in the <code>REMOTE_LISTENER</code> parameter of pre-11.2 databases that are upgraded, Oracle Clusterware does not have all the data needed to keep <code>REMOTE_LISTENER</code> properly updated. This is, instead, implemented by DBCA and DBUA, or by manual means.</p>
<p><a id="sthref140" name="sthref140"></a><span class="subhead3">Workaround:</span> To manually change the REMOTE_LISTENER parameter, execute the following:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; ALTER SYSTEM SET REMOTE_LISTENER='t2000-cluster0-scan.t2000-18.oraclecorp.com' sid='*' scope=memory; 

System altered. 
 
SQL&gt; ALTER SYSTEM REGISTER;
 
SQL&gt; SHOW PARAMETER LISTENER;
 
NAME                                 TYPE        VALUE 
------------------------------------ ----------- ------------------------------ 
remote_listener                      string      t2000-cluster0-scan.t2000-18.o 
</pre>
<p class="subhead2"><a id="sthref141" name="sthref141"></a>Bug 8791771</p>
<p>Executing the <code>srvctl modify database -d</code> <code><span class="codeinlineitalic">db_unique_name</span></code> <code>-y manual</code> command does not prevent Oracle Clusterware from automatically restarting the Oracle RAC database after rebooting the system. The Oracle RAC database is restarted automatically.</p>
<p><a id="sthref142" name="sthref142"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref143" name="sthref143"></a>Bug 8786770</p>
<p>Silent Cluster Ready Services (CRS) installation fails when Oracle RAC release 9.2 is present.</p>
<p><a id="sthref144" name="sthref144"></a><span class="subhead3">Workaround:</span> Pass <code>oracle_install_crs_AdvancedInstall=true</code> from the command line. For example, a command similar to the following:</p>
<pre xml:space="preserve" class="oac_no_warn">./runInstaller -responseFile /scratch/rsmith/grid.rsp -silent oracle_install_crs_AdvancedInstall=true
</pre>
<p class="subhead2"><a id="sthref145" name="sthref145"></a>Bug 8760631</p>
<p>When an application resource is created using <code>crsctl add resource</code>, it returns <code>CRS-2518</code>.</p>
<p><a id="sthref146" name="sthref146"></a><span class="subhead3">Workaround:</span> Execute the CRSCTL command after an action script is created in the local file system on all nodes in a cluster or shared file system or Oracle ACFS.</p>
<p class="subhead2"><a id="sthref147" name="sthref147"></a>Bug 8739811</p>
<p>When you install Oracle Clusterware with a shared <code>ORA_CRS_HOME</code>, you may get the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">Failed to rmtcopy "/tmp/fileM3zR7m" to "<span class="italic">ORA_CRS_HOME</span>/gpnp/manifest.txt" for nodes {<span class="italic">node1,node2</span>}, rc=256
</pre>
<p><a id="sthref148" name="sthref148"></a><span class="subhead3">Workaround:</span> You can ignore this error.</p>
<p class="subhead2"><a id="sthref149" name="sthref149"></a>Bug 8737732</p>
<p>If you upgrade Oracle Clusterware from release 11.1.0.6 to release 11.2 and you had stored the 11.1.0.6 OCR and voting disks on raw devices, then <code>cluvfy</code> will fail.</p>
<p><a id="sthref150" name="sthref150"></a><span class="subhead3">Workaround:</span> You can ignore the <code>cluvfy</code> failure.</p>
<p class="subhead2"><a id="sthref151" name="sthref151"></a>Bug 8736093</p>
<p>The Cluster Ready Service may fail trying to perform an OCR operation after customers have completed the upgrade to Oracle Clusterware 11.2.0.1.0. This problem occurs during the following circumstances:</p>
<ul>
<li>
<p>After a successful upgrade to Oracle Clusterware 11.2.0.1.0, and not on new installations.</p>
</li>
<li>
<p>On clusters that have more than 2 nodes.</p>
</li>
<li>
<p>The master Cluster Ready Service fails after completing the upgrade and the non-master Cluster Ready Service on other nodes started with the cluster active version that was less than 11.2.0.1.0. If the non-master Cluster Ready Service has been recycled between this time, this problem will not occur.</p>
</li>
</ul>
<p><a id="sthref152" name="sthref152"></a><span class="subhead3">Workaround:</span> Stop the Cluster Ready Service on all nodes using <code>crsctl stop res ora.crsd -init</code>, and restart it using <code>crsctl start res ora.crsd -init</code>.</p>
<p class="subhead2"><a id="BABEDJBF" name="BABEDJBF"></a>Bug 8733944</p>
<p>Due to a problem in Oracle Clusterware starting with release 11.1.0.7, with the patches required for Exadata support or 11.1.0.7 CRS bundle Patch 1, in some cases the CSS daemon may fail when the clusterware is brought down on another node, either due to a shutdown command or a failure.</p>
<p>The symptom is an <code>ASSERT</code> in the CSSD log indicating that a maximum value has been exceeded. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">Group ID of xxxx exceeds max value for global groups
</pre>
<p><a id="sthref153" name="sthref153"></a><span class="subhead3">Workaround:</span> Oracle recommends that customers running with the Exadata support patches or 11.1.0.7 CRS Bundle Patch 1 apply the patch for this bug to avoid this problem.</p>
<p>This problem may also be seen during an upgrade from 11.1.0.7 with patches as indicated above. To eliminate the potential of an 11.1.0.7 node failing during upgrade, the patch for this bug may be applied to the 11.1.0.7 nodes prior to upgrade.</p>
<p>When upgrading, it is recommended that the upgrade be completed on all nodes without restarting any non-upgraded nodes during the upgrade. If an 11.1.0.7 node does fail while performing the upgrade, it should be upgraded as opposed to restarted.</p>
<p class="subhead2"><a id="sthref154" name="sthref154"></a>Bug 8727190</p>
<p>For logical corruption of a voting disk, CSSD reopens the voting disk and automatically sets it to <code>ONLINE</code> to avoid all node reboot, if it is possible. However, CSSD cannot recognize the corrupted voting disk and sets it to <code>OFFLINE</code> when Oracle Clusterware is started the next time.</p>
<p><a id="sthref155" name="sthref155"></a><span class="subhead3">Workaround:</span> Re-create the corrupted voting disk.</p>
<p class="subhead2"><a id="sthref156" name="sthref156"></a>Bug 8726128</p>
<p>The following command fails for RHEL4/OEL4 system:</p>
<pre xml:space="preserve" class="oac_no_warn">cluvfy stage -post crsinst
</pre>
<p>This happens because the validation of Udev attributes fails on the local node. This also results in the failure of the Cluster Verification Configuration Assistant near the end of the Oracle Grid Infrastructure for a cluster installation session. The detail installation log shows <code>ERROR:PRVF-9802</code>.</p>
<p><a id="sthref157" name="sthref157"></a><span class="subhead3">Workaround:</span> Ignore the failure in checking Udev attributes on RHEL4/OEL4. If Udev attribute validation is the only reported problem, then the installation should be considered successful.</p>
<p class="subhead2"><a id="sthref158" name="sthref158"></a>Bug 8725983</p>
<p>When the Oracle ASM instance crashes or terminates abnormally, Oracle Clusterware may fail to restart database services.</p>
<p><a id="sthref159" name="sthref159"></a><span class="subhead3">Workaround:</span> Start the service resources manually with SRVCTL.</p>
<p class="subhead2"><a id="sthref160" name="sthref160"></a>Bug 8721204</p>
<p>The "Check sudo permission" step will fail in the DB Control deployment procedure due to a sudo setting.</p>
<p><a id="sthref161" name="sthref161"></a><span class="subhead3">Workaround:</span> If the <code>grep requiretty /etc/sudoers</code> command returns <code>Defaults requiretty</code>, then you need to comment out the following line in <code>/etc/sudoers</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">#Defaults requiretty
</pre>
<p class="subhead2"><a id="sthref162" name="sthref162"></a>Bug 8716580</p>
<p>Listener resource fails to start because <code>TNS_ADMIN</code> environment variable is set in the Oracle Clusterware daemon processes and the value is not suitable for the listener resource.</p>
<p class="subhead2"><a id="sthref163" name="sthref163"></a>Workaround:</p>
<p>Restart Oracle Clusterware in a session that does not have the <code>TNS_ADMIN</code> environment variable set.</p>
<p>Retry the "Check sudo permission" step.</p>
<p class="subhead2"><a id="sthref164" name="sthref164"></a>Bug 8715968</p>
<p>The prerequisite check for the Oracle Grid Infrastructure for a cluster installation does not report a problem if the Network Time Protocol (NTP) configuration file is missing but the NTP daemon is running on a cluster node. This causes Cluster Time Synchronization Service to enter into observer mode, as shown in the cluster <code>alert</code>.<code>log</code> file.</p>
<p><a id="sthref165" name="sthref165"></a><span class="subhead3">Workaround:</span> Use Cluster Time Synchronization Service (<code>ctss</code>) instead of Network Time Protocol (NTP) to provide time synchronization services. To do this, deconfigure and deinstall NTP. To deactivate the NTP service, stop the existing <code>ntpd</code> service, disable it from the initialization sequences, and remove the <code>ntp</code>.<code>conf</code> file. For details on how to do this, refer to "Network Time Protocol Setting" in <span class="italic"><a class="olink CWLIN" href="../../install.112/e17212/toc.htm">Oracle Grid Infrastructure Installation Guide for Linux</a></span>.</p>
<p class="subhead2"><a id="sthref166" name="sthref166"></a>Bug 8711200</p>
<p>When running the installer, if you choose "Fix and Run Again" after the prerequisite check, the Cluster Verification Utility script sometimes fails because <code>runfixup.sh</code> does not exist.</p>
<p><a id="sthref167" name="sthref167"></a><span class="subhead3">Workaround:</span> Remove <code>/tmp/CVU_11.2.0.1.0_</code><code><span class="codeinlineitalic">userID</span></code> from all of the cluster nodes and run the installer again.</p>
<p class="subhead2"><a id="sthref168" name="sthref168"></a>Bug 8702731</p>
<p>When stopping Oracle Clusterware, shutting down the database may time out when the <code>SHUTDOWN IMMEDIATE</code> command is used.</p>
<p><a id="sthref169" name="sthref169"></a><span class="subhead3">Workaround:</span> Before stopping Oracle Clusterware, shut down the database using the <code>SHUTDOWN ABORT</code> command.</p>
<p class="subhead2"><a id="sthref170" name="sthref170"></a>Bug 8692998</p>
<p>The required nodes on an <code>Extend Cluster</code> or <code>Delete Node</code> may not be displayed correctly. The problem occurs if the host collection has not occurred.</p>
<p><a id="sthref171" name="sthref171"></a><span class="subhead3">Workaround:</span> Trigger a <code>Refresh Host Configuration</code> and then retry the <code>Extend Cluster</code> or <code>Delete Node</code> deployment procedure. Take the following steps:</p>
<ol>
<li>
<p>Cancel out of the interview.</p>
</li>
<li>
<p>Click on the <span class="bold">Database</span> tab.</p>
</li>
<li>
<p>Click on the <span class="bold">Deployments</span> link under the <span class="bold">Related Links</span> section.</p>
</li>
<li>
<p>Select all hosts and then click the <span class="bold">Refresh hosts</span> button.</p>
</li>
</ol>
<p>After the job execution is complete, go back to the Software and Support subtab under the Database tab to launch the <code>Extend Cluster</code> or <code>Delete Node</code> deployment procedure.</p>
<p class="subhead2"><a id="sthref172" name="sthref172"></a>Bug 8683759</p>
<p>When the CRS home is upgraded to version 11.2 and if Oracle RAC databases of earlier versions (10<span class="italic">g</span> or 11.1) are present, the cluster events pertaining to the 10<span class="italic">g</span> or 11.1 Oracle RAC databases and services are not posted to ONS clients.</p>
<p><a id="sthref173" name="sthref173"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref174" name="sthref174"></a>Bug 8683517</p>
<p>After upgrading Oracle Clusterware and Oracle ASM to release 11.2, if the database is not upgraded, Oracle Clusterware will not enforce a proper shutdown order when you attempt to stop the Oracle Clusterware stack. This is because Oracle Database releases prior to release 11.2 do not share a dependency with release 11.2 Oracle ASM disk groups. If Oracle Clusterware attempts to stop a disk group resource before its dependent database shuts down, the disk group may fail to stop because it is still in use, thereby preventing the Oracle Clusterware stack from stopping.</p>
<p><a id="sthref175" name="sthref175"></a><span class="subhead3">Workaround:</span> To stop the Oracle Clusterware stack, use the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">crsctl stop crs -f
</pre>
<p class="subhead2"><a id="BABDAHGF" name="BABDAHGF"></a>Bug 8681149</p>
<p>Oracle resources for 10.1 Oracle RAC Databases may not operate properly after upgrading Oracle Clusterware to 11.2.</p>
<p>the patches should be applied to DB home.</p>
<p><a id="sthref176" name="sthref176"></a><span class="subhead3">Workaround:</span> Fixes of the following bugs are needed in a release 10.1 database home after Oracle Clusterware 11g Release 2 (11.2) is installed:</p>
<ul>
<li>
<p>8373758&#x2014;TB-CMP: 11107 SERVICE CAN'T BE BROUGHT UP BY 11107 SRVCTL WHEN WITH 11.2 CRS</p>
</li>
<li>
<p>3841387&#x2014;RACGIMON DOESN'T DUMP TRACE</p>
</li>
</ul>
<p class="subhead2"><a id="sthref177" name="sthref177"></a>Bug 8674080</p>
<p>During a rolling upgrade from Oracle Clusterware version 11.1 to 11.2, cluster events are not posted to Oracle Notification Service (ONS) clients for events occurring on the nodes whose software version is not 11.2. In addition, the events are not received by ONS clients running on the pre-11.2 nodes for the events occurring on the 11.2 nodes.</p>
<p><a id="sthref178" name="sthref178"></a><span class="subhead3">Workaround:</span> Complete the upgrade of all the nodes in the cluster to 11.2. The events are received when the Active Version of the cluster is release 11.2.0.1.</p>
<p class="subhead2"><a id="BABHIAAB" name="BABHIAAB"></a>Bug 8668083</p>
<p>In Oracle Restart environments, the following commands cannot perform a verification and return an error message if the user equivalence does not exist for the local node:</p>
<pre xml:space="preserve" class="oac_no_warn">cluvfy stage -pre hacfg
cluvfy stage [-pre | -post] cfs
cluvfy stage [-pre | -post] acfscfg
cluvfy comp admprv
cluvfy stage -pre dbcfg
cluvfy stage -pre dbinst
</pre>
<p><a id="sthref179" name="sthref179"></a><span class="subhead3">Workaround:</span> Configure SSH in Oracle Restart.</p>
<p>Contact Oracle Support Services to obtain the patches for these bugs and apply the patches to the Oracle Database home.</p>
<p class="subhead2"><a id="sthref180" name="sthref180"></a>Bug 8667622</p>
<p>When SCAN listeners are running on different nodes, stopping and restarting <code>nodeapps</code> with the <code>force</code> option may result in the SCAN listeners being started on the same node.</p>
<p><a id="sthref181" name="sthref181"></a><span class="subhead3">Workaround:</span> Relocate the SCAN VIPs and their associated listeners to different nodes with the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl relocate scan -i <span class="italic">ordinal_number</span> -n <span class="italic">node_name</span>
</pre>
<p class="subhead2"><a id="sthref182" name="sthref182"></a>Bug 8667127</p>
<p>When the public interface is disabled or fails to function, Oracle Clusterware may end up stopping service resources and not restarting them on another server.</p>
<p><a id="sthref183" name="sthref183"></a><span class="subhead3">Workaround:</span> Start the service resources manually with SRVCTL.</p>
<p class="subhead2"><a id="sthref184" name="sthref184"></a>Bug 8666501</p>
<p>The length of time between Oracle Clusterware agent log file rotations is short. The log file can be overwritten in a few days.</p>
<p><a id="sthref185" name="sthref185"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref186" name="sthref186"></a>Bug 8666150</p>
<p>The command <code>cluvfy</code> <code>stage</code> <code>-pre</code> <code>nodeadd</code> fails at the shared resources check when the Oracle Grid Infrastructure for a cluster home does not exist or is not shared.</p>
<p><a id="sthref187" name="sthref187"></a><span class="subhead3">Workaround:</span> Manually create the Oracle Grid Infrastructure for a cluster home before executing the <code>cluvfy</code> command.</p>
<p class="subhead2"><a id="sthref188" name="sthref188"></a>Bug 8659440</p>
<p>The command <code>srvctl modify scan_listener -p</code> <code><span class="codeinlineitalic">new_endpoints</span></code> only accepts a TCP port number as the <code><span class="codeinlineitalic">new_endpoints</span></code> argument.</p>
<p><a id="sthref189" name="sthref189"></a><span class="subhead3">Workaround:</span> If it is necessary to update SCAN listeners to use endpoints that are not TCP port numbers, then run <code>srvctl</code> <code>stop</code> <code>listener</code> <code>-f</code> and <code>srvctl</code> <code>remove</code> <code>scan_listener</code> <code>-f</code> to stop and remove all SCAN listeners. Then, run <code>srvctl add scan_listener -p</code> <code><span class="codeinlineitalic">new_endpoints</span></code> to add SCAN listeners using the desired new endpoints, where <code><span class="codeinlineitalic">new_endpoints</span></code> has the following format:</p>
<pre xml:space="preserve" class="oac_no_warn">[TCP:]<span class="italic">port</span>[/IPC:<span class="italic">key</span>][/NMP:<span class="italic">pipe_name</span>][/TCPS:<span class="italic">s_port</span>]
</pre>
<p class="subhead2"><a id="BABFEDDJ" name="BABFEDDJ"></a>Bug 8657184</p>
<p>If two network interfaces are configured as public network interfaces in the cluster, the failure of one public interface on a node does not result in automatic VIP failover to the other public interface.</p>
<p><a id="sthref190" name="sthref190"></a><span class="subhead3">Workaround:</span> If multiple public networks interfaces are present, then use interface bonding for high availability. At the Oracle Clusterware installer "Specify Network Interface Usage" screen, choose only one (bonded) interface as public. When configuring public networks with <code>srvctl</code> <code>add</code> <code>nodeapps</code> or <code>srvctl</code> <code>add</code> <code>vip</code>, specify only a single network interface name in the <code>-A</code> or <code>-S</code> argument.</p>
<p class="subhead2"><a id="sthref191" name="sthref191"></a>Bug 8652158</p>
<p>After a VIP on a non-default network (created with command <code>srvctl add vip -k 2</code> ...) fails over to another node in the cluster due to a public network failure, it does not fall back automatically to its original node when the network is restored back to an operational state.</p>
<p><a id="sthref192" name="sthref192"></a><span class="subhead3">Workaround:</span> Manually stop the concerned VIP and restart it using the following commands:</p>
<ul>
<li>
<p>srvctl stop vip -i <span class="italic">vipname</span></p>
</li>
<li>
<p>srvctl start vip -i <span class="italic">vipname</span></p>
</li>
</ul>
<p>This <code>start</code> command automatically starts the VIP on the correct node.</p>
<p class="subhead2"><a id="sthref193" name="sthref193"></a>Bug 8648234</p>
<p>Executing the following commands may fail the check for membership in the OSDBA group if you use a different operating system user for each software installation and the Oracle Grid Infrastructure for a cluster installation user is not a member of the OSDBA group.</p>
<pre xml:space="preserve" class="oac_no_warn">cluvfy comp sys -p crs
cluvfy comp sys -p ha
</pre>
<p><a id="sthref194" name="sthref194"></a><span class="subhead3">Workaround:</span> You can ignore this failure if the installation user owns only Oracle Grid Infrastructure for a cluster. That is, if you use Job Role Separation, then the Oracle Grid Infrastructure for a cluster owner need not be a member of the OSDBA group. However, membership in the OSDBA group is a requirement for an Oracle Database owner.</p>
<p class="subhead2"><a id="BABHGGIB" name="BABHGGIB"></a>Bug 8644639</p>
<p>When creating an Oracle ACFS mount point and adding it to the registry, the mount point is not mounted automatically if the following conditions are met:</p>
<ol>
<li>
<p>The mount point directory was previously registered with the Oracle ACFS Registry.</p>
</li>
<li>
<p>The mount point directory had been previously mounted.</p>
</li>
<li>
<p>The mount point had then been unmounted and removed from the Oracle ACFS Registry.</p>
</li>
<li>
<p>The <code>ora.registry.acfs</code> resource has not been restarted since the mount point was deleted from the registry.</p>
</li>
</ol>
<p><a id="sthref195" name="sthref195"></a><span class="subhead3">Workaround:</span> Remove the mount point directory from the file <code><span class="codeinlineitalic">/tmp/</span></code><code>.usm_state_file</code>.</p>
<p class="subhead2"><a id="BABHHICI" name="BABHHICI"></a>Bug 8641798</p>
<p>Oracle resources for pre-11.2 Oracle RAC databases may not operate properly after upgrading Oracle Clusterware to 11.2.</p>
<p><a id="sthref196" name="sthref196"></a><span class="subhead3">Workaround:</span> After installing Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2), contact Oracle Support Services to obtain the patches for the following bugs:</p>
<ul>
<li>
<p>8373758 - TB-CMP: 11107 SERVICE CAN'T BE BROUGHT UP BY 11107 SRVCTL WHEN WITH 11.2 CRS</p>
</li>
<li>
<p>8441769 - TB_UD: INCORRECT SERVICE INFO REGISTER TO DB, UPGRADE CRS_HOME 11.1.0.7 -&gt; 11.2</p>
</li>
<li>
<p>8406545 - TB-CMP: RESTART OF 11.2 HAS STACK FAILED TO BRING UP 11.1 RAC INSTANCE</p>
</li>
<li>
<p>8262786 - TB-CMP: FAIL TO START 11106 DB INSTANCE WITH 11.2 CRS</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
You should apply the patches to the Oracle Database home.</div>
</li>
</ul>
<p class="subhead2"><a id="sthref197" name="sthref197"></a>Bug 8635825</p>
<p>If two network interfaces are configured as public network interfaces in the cluster, failure of one public interface on a node does not result in automatic virtual internet protocol address (VIP) failover to the other public interface.</p>
<p><a id="sthref198" name="sthref198"></a><span class="subhead3">Workaround:</span> If multiple public networks interfaces are present, use interface bonding for high availability. At the Oracle Clusterware Installer's "Specify Network Interface Usage" screen, choose only one (bonded) interface as public. When configuring public networks with <code>srvctl add nodeapps</code> or <code>srvctl add vip</code>, specify only a single network interface name in the <code>-A</code> or <code>-S</code> argument.</p>
<p class="subhead2"><a id="sthref199" name="sthref199"></a>Bug 8632280</p>
<p>After you complete an Oracle Clusterware upgrade to release 11.2, running the <code>oifcfg getif</code> command displays the error <code>PRIF-30: Network information in OCR profile needs to be synced with GPnPprofile</code>.</p>
<p><a id="sthref200" name="sthref200"></a><span class="subhead3">Workaround:</span> Run the following command from the Oracle Clusterware home <code>bin</code> directory as the <code>root</code> user where <code><span class="codeinlineitalic">interface_name</span></code> is the name of the interface and <code><span class="codeinlineitalic">subnet</span></code> is the name of the subnet:</p>
<pre xml:space="preserve" class="oac_no_warn">oifcfg setif -global <span class="codeinlineitalic">interface_name</span>/<span class="codeinlineitalic">subnet</span> public 
</pre>
<p class="subhead2"><a id="sthref201" name="sthref201"></a>Bug 8612566</p>
<p>Some public network failures result in OCI FAN clients no longer receiving any notifications, and hanging for the duration of their TCP timeout.</p>
<p><a id="sthref202" name="sthref202"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref203" name="sthref203"></a>Bug 8607080</p>
<p>Oracle Clusterware ignores the value of <code>NLS_LANG</code> that is set in the environment. This means that the setting put into Oracle Clusterware at installation time must be used by all cluster administrators.</p>
<p>Commands such as <code>crsctl</code> and <code>srvctl</code> are affected by this because CRSD and OHASD error messages are translated into the default value before being passed back to the CLI.</p>
<p><a id="sthref204" name="sthref204"></a><span class="subhead3">Workaround:</span> If the language ID has been incorrectly set at installation time and you want to change the <code>NLS_LANG</code> value, execute the following commands on all nodes:</p>
<ol>
<li>
<p><code>crsctl stop crs</code></p>
</li>
<li>
<p><code>edit s_crsconfig_</code><code><span class="codeinlineitalic">hostname</span></code><code>_env.txt</code></p>
</li>
<li>
<p><code>crsctl start crs</code></p>
</li>
</ol>
<p>This workaround is to be used to change the value of <code>NLS_LANG</code> after Oracle Clusterware has been installed. To ensure that proper <code>NLS_LANG</code> is used during installation of Oracle Clusterware, execute the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">edit <span class="italic">grid_home</span>/crs/install/crsconfig_params
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn">SILENT=false
ORACLE_OWNER=grid
ORA_DBA_GROUP=oinstall
ORA_ASM_GROUP=asmadmin
LANGUAGE_ID='JAPANESE_JAPAN.JA16EUC
</pre>
<p class="subhead2"><a id="sthref205" name="sthref205"></a>Bug 8600842</p>
<p>When performing a rolling upgrade of Oracle Clusterware to release 11.2, some or all of the resources (such as Oracle RAC database instances, listener processes, and database services) may not be automatically started on the last node (upgrade is usually done on a node-at-a-time basis).</p>
<p><a id="sthref206" name="sthref206"></a><span class="subhead3">Workaround:</span> Resources should be manually automatically started using normal management interfaces (for example, SRVCTL for Oracle database instances and services).</p>
<p class="subhead2"><a id="sthref207" name="sthref207"></a>Bug 8568386</p>
<p>When adding a voting disk to a shared file system, its group permission is automatically set to the root user. However, the group permission should be set to the Oracle Grid Infrastructure for a cluster installation user.</p>
<p><a id="sthref208" name="sthref208"></a><span class="subhead3">Workaround:</span> Manually change the group permission of the voting disk by using the <code>chown</code> command.</p>
<p class="subhead2"><a id="sthref209" name="sthref209"></a>Bug 8520511</p>
<p>If you install Oracle Database release 10.2 or release 11.1 with data files on Oracle ASM on a release 11.2 Oracle Clusterware with OCR voting disk on Oracle ASM, the DBCA installation fails with the error <code>ORA-00119</code>.</p>
<p><a id="sthref210" name="sthref210"></a><span class="subhead3">Workaround:</span> Apply the one-off patches that are mentioned in Bug 8288940 or create a symbolic link using the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">Symlink <span class="italic">Pre-11.2_Oracle_Database_home</span>/network/admin/listener.ora --&gt; <span class="italic">11.2_Oracle_Clusterware_home</span>/network/admin/endpoints_listener.ora
</pre>
<p>Where <code><span class="codeinlineitalic">Pre-11.2_Oracle_Database_home</span></code> is the Oracle Database release 10.2 or release 11.1 database home.</p>
<p class="subhead2"><a id="sthref211" name="sthref211"></a>Bug 8493252</p>
<p>In rare cases, Oracle Clusterware installation may fail during the <code>AttachHome</code> operation when the remote node closes the SSH connection.</p>
<p><a id="sthref212" name="sthref212"></a><span class="subhead3">Workaround:</span> Set the <code>LoginGraceTime</code> parameter to 0 in the SSH daemon configuration file <code>/etc/ssh/sshd_config</code> on all cluster nodes.</p>
<p class="subhead2"><a id="sthref213" name="sthref213"></a>Bug 8448079</p>
<p>When Oracle Clusterware is stopped and restarted, Oracle ASM disk groups do not retain their pre-CRS shutdown states. Release 11.2 database resources will have a start dependency on the Oracle ASM disk group. In this case, Oracle Clusterware will start the Oracle ASM disk group before starting the database resource. However, Oracle Database releases prior to release 11.2 do not have a dependency on the Oracle ASM disk group and will fail to start.</p>
<p><a id="sthref214" name="sthref214"></a><span class="subhead3">Workaround:</span> Prevent the Oracle ASM parameter <code>ASM_DISKGROUPS</code> from being set to <code>NULL</code> when stopping Oracle Clusterware by disabling Oracle ASM disk group resources and manually setting the Oracle ASM parameter <code>ASM_DISKGROUPS</code>. The following example is disabling the disk group resources for disk groups <code>data</code> and <code>fra</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl disable diskgroup -g data 
srvctl disable diskgroup -g fra
sqlplus / as sysasm 
SQL&gt; ALTER SYSTEM SET asm_diskgroups=data,fra scope=both;
</pre>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If you are upgrading the database to release 11.2 using Database Upgrade Assistant, ensure that the disk groups used by the database are enabled. Otherwise, Database Upgrade Assistant may fail during the upgrade process. When Database Upgrade Assistant attempts to start a database resource after an upgrade, it first tries to start the disk group resources on which the database datafiles reside. If the disk group resources are disabled, then these disk groups will fail to start. To enable disk group resources, run the following commands before using Database Upgrade Assistant:
<pre xml:space="preserve" class="oac_no_warn">srvctl enable diskgroup -g data
srvctl enable diskgroup -g fra
</pre></div>
<p class="subhead2"><a id="sthref215" name="sthref215"></a>Bug 8434421</p>
<p>The first Cluster Synchronization Services Daemon (CSSD) log file (<code>ocssd</code>.<code>log</code>) is not overwritten by log rotation because it is owned by the root user.</p>
<p><a id="sthref216" name="sthref216"></a><span class="subhead3">Workaround:</span> Either remove <code>ocssd</code>.<code>log</code> or change its ownership.</p>
<p class="subhead2"><a id="sthref217" name="sthref217"></a>Bug 8309620</p>
<p>After 11.2 Oracle Clusterware is installed and configured on a cluster with OCR and voting disk on a file system rather than Oracle ASM, and later a pre-11.2 Oracle Database is installed, the pre-11.2 DBCA will attempt to bring up 11.2 Oracle ASM as a single-instance Oracle ASM rather than a cluster Oracle ASM instance.</p>
<p><a id="sthref218" name="sthref218"></a><span class="subhead3">Workaround:</span> Execute the following commands after the 11.2 Oracle Clusterware configuration is complete, but before installing a pre-11.2 Oracle Database, to start and then stop Oracle ASM on any node:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl start asm -n node
srvctl stop asm -n node
</pre>
<p class="subhead2"><a id="sthref219" name="sthref219"></a>Bug 8276914</p>
<p>If <code>ORACLE_BASE</code> is set in the environment of the root user before starting Oracle Clusterware, then the location of the Oracle Clusterware log directory of user-defined listeners and SCAN listeners changes from <code>ORACLE_BASE/diag/tnslsnr</code> to <code><span class="codeinlineitalic">Grid_home</span></code><code>/log/diag/tnslsnr</code> after the node is rebooted.</p>
<p><a id="sthref220" name="sthref220"></a><span class="subhead3">Workaround:</span> Do not set <code>ORACLE_BASE</code> in the root user's environment before starting Oracle Clusterware.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref221" name="sthref221"></a>
<h4 class="sect3"><span class="secnum">1.38.6</span> Oracle Configuration Manager Known Bugs</h4>
<p class="subhead2"><a id="sthref222" name="sthref222"></a>Bug 8709678</p>
<p>The error <code>[: -eq unary operator expected :failed</code> is returned when configuring the Oracle Configuration Manager either using <code>setupCCR</code> or <code>configCCR</code>.</p>
<p><a id="sthref223" name="sthref223"></a><span class="subhead3">Workaround:&nbsp;</span>Disable the creation of a <code>crontab</code> entry by defining the environmental variable <code>CCR_DISABLE_CRON_ENTRY</code> to <code>true</code> and rerun the Oracle Configuration Manager command to configure the OCM instance.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref224" name="sthref224"></a>
<h4 class="sect3"><span class="secnum">1.38.7</span> Oracle Data Guard Known Bugs</h4>
<p class="subhead2"><a id="sthref225" name="sthref225"></a>Bug 8716064</p>
<p>The <code>ANALYZE TABLE VALIDATE</code> statement on an Oracle Active Data Guard standby database may lead to <code>ORA-600 [4555]/ORA-600[25027]</code>.</p>
<p><a id="sthref226" name="sthref226"></a><span class="subhead3">Workaround:&nbsp;</span>Issue the command on the primary database.</p>
<p class="subhead2"><a id="sthref227" name="sthref227"></a>Bug 8428523</p>
<p>The <code>ALTER TABLE RENAME</code> statement on the primary database may lead to incorrect results on the Active Data Guard standby database after the <code>RENAME</code> DDL redo has been applied.</p>
<p><a id="sthref228" name="sthref228"></a><span class="subhead3">Workaround:&nbsp;</span>Flush the shared pool on the Active Data Guard standby database after the <code>RENAME</code> DDL redo has been applied.</p>
<p class="subhead2"><a id="sthref229" name="sthref229"></a>Bug 8363109</p>
<p>Flashback queries of a recent SCN on an Active Data Guard standby database may return <code>ORA-8181</code>. One example is that queries using asynchronous XMLIndex may get <code>ORA-8181</code> when executed on an Active Data Guard standby database. Another example is that queries using XMLType stored in Object Relational may get <code>ORA-8181</code> when executed on an Active Data Guard standby database.</p>
<p><a id="sthref230" name="sthref230"></a><span class="subhead3">Workaround:&nbsp;</span>Issue the queries on the primary database.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref231" name="sthref231"></a>
<h4 class="sect3"><span class="secnum">1.38.8</span> Oracle Database Enterprise Edition Known Bugs</h4>
<p class="subhead2"><a id="BABJBFDD" name="BABJBFDD"></a>Bug 9181675</p>
<p>The <code>asmgidwrap</code> script needs to be called if you are creating a database manually on Oracle ASM to avoid a permission error.</p>
<p><a id="sthref232" name="sthref232"></a><span class="subhead3">Workaround:&nbsp;</span>For a role-separated installation (that is, there is a different user and group for grid and RDBMS), use DBCA to create the database that automatically calls <code>asmgidwrap</code> script while creating a database on Oracle ASM. If you choose to create a database manually, the script needs to be called explicitly so the proper group can be set to avoid a permission error.</p>
<p class="subhead2"><a id="sthref233" name="sthref233"></a>Bug 8867819</p>
<p>The execution plan may change in release 11.2 since the default behavior for optimizer feedback is now on. Therefore, when no change is made, two SPA trials may report regression depending on the query.</p>
<p><a id="sthref234" name="sthref234"></a><span class="subhead3">Workaround:&nbsp;</span>For SPA to be consistent, turn off optimizer feedback. Use <code>_optimizer_use_feedback=false</code>.</p>
<p class="subhead2"><a id="sthref235" name="sthref235"></a>Bug 8747281</p>
<p>In 11.2, OCR has been replaced by the Grid Plug and Play profile as a source for cluster interconnects for Oracle RAC database instances. However, the fixed view <code>V$CLUSTER_INTERCONNECTS</code>, still displays the <code>SOURCE</code> of these interconnects as <code>OCR</code>, rather than <code>Profile</code>.</p>
<p><a id="sthref236" name="sthref236"></a><span class="subhead3">Workaround:&nbsp;</span>None.</p>
<p class="subhead2"><a id="BABDAACG" name="BABDAACG"></a>Bug 8729627</p>
<p>When using 11.1 DBCA to remove a database on a cluster running 11.2 Oracle Clusterware, a <code>PRKP-1061/CRS-2524</code> error may be displayed because the database resource is locked.</p>
<p><a id="sthref237" name="sthref237"></a><span class="subhead3">Workaround:&nbsp;</span>You can ignore the message. Click <span class="bold">OK</span> to continue.</p>
<p class="subhead2"><a id="sthref238" name="sthref238"></a>Bug 8722270</p>
<p>When the database is configured to run on a subset of cluster nodes, and Oracle Clusterware is started on a node where the database had not previously run, the database may not start properly.</p>
<p><a id="sthref239" name="sthref239"></a><span class="subhead3">Workaround:&nbsp;</span>Start the database on the affected node using the <code>srvctl start instance</code> command.</p>
<p class="subhead2"><a id="sthref240" name="sthref240"></a>Bug 8714383</p>
<p>Oracle Call Interface (OCI) FAN clients do not receive <code>DATABASE</code> <code>DOWN</code> events when the last instance of an Oracle RAC database fails or is shut down.</p>
<p><a id="sthref241" name="sthref241"></a><span class="subhead3">Workaround:&nbsp;</span>None.</p>
<p class="subhead2"><a id="sthref242" name="sthref242"></a>Bug 8682141</p>
<p>Creating the encrypted tablespace using the <code>CREATE LIKE</code> option results in an internal error.</p>
<p><a id="sthref243" name="sthref243"></a><span class="subhead3">Workaround:&nbsp;</span>create the encrypted tablespace using the <code>CREATE</code> option instead of the <code>CREATE LIKE</code> option.</p>
<p class="subhead2"><a id="BABBIHGI" name="BABBIHGI"></a>Bug 8679182</p>
<p>When configuring a database on a cluster that has multiple public subnets defined for its VIPs (for example, using a command similar to <code>srvctl add vip -k 2 -A ...</code>), the database agent automatically sets <code>LOCAL_LISTENER</code> to the listener on the default network. This may duplicate a listener set in <code>LISTENER_NETWORKS</code>.</p>
<p><a id="sthref244" name="sthref244"></a><span class="subhead3">Workaround:&nbsp;</span>Do not specify listeners in <code>LISTENER_NETWORKS</code> that are on the default public subnet.</p>
<p class="subhead2"><a id="BABGHJHF" name="BABGHJHF"></a>Bug 8671032</p>
<p>In Oracle Enterprise Manager, the "TIP" obtained from the "Run Analysis" on the Automatic Undo Management page is not correct. For example, the Recommended Undo Tablespace Size should be three times the Minimum Size, to allow for workload fluctuations, but Oracle Enterprise Manager shows different values.</p>
<p><a id="sthref245" name="sthref245"></a><span class="subhead3">Workaround:&nbsp;</span>The "TIP" should read as follows:</p>
<pre xml:space="preserve" class="oac_no_warn">Oracle advises that you configure the undo tablespace to be three times the Recommended Undo Tablespace Size to allow for workload fluctuations
</pre>
<p class="subhead2"><a id="sthref246" name="sthref246"></a>Bug 8660571</p>
<p>Issuing a DML statement against a partitioned table with the parallel option enabled and at least one XMLIndex index in asynchronous (deferred) maintenance mode may fail.</p>
<p><a id="sthref247" name="sthref247"></a><span class="subhead3">Workaround:</span> Disable the parallel option for the affected table as shown in the following example:</p>
<pre xml:space="preserve" class="oac_no_warn">ALTER TABLE <span class="italic">partitioned_table</span> NOPARALLEL;
</pre>
<p class="subhead2"><a id="sthref248" name="sthref248"></a>Bug 8658472</p>
<p>When a database is created using DBCA on a cluster, <code>SPFILE</code> is used by default and the location is stored in Oracle Cluster Registry (OCR). But, the <code>SPFILE</code> location can not be cleared to use <code>PFILE</code>.</p>
<p><a id="sthref249" name="sthref249"></a><span class="subhead3">Workaround:</span> If <code>PFILE</code> is used after database creation, then the database resource needs to be re-created by running the following commands without the <code>-p</code> option:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl remove database -d <span class="italic">db_unique_name</span>
srvctl add database -d <span class="italic">db_unique_name</span> -o <span class="italic">ORACLE_HOME</span> -a <span class="italic">diskgroup</span>
</pre>
<p class="subhead2"><a id="sthref250" name="sthref250"></a>Bug 8639114</p>
<p>Continuous Query Notification (CQN) may not properly support tables that are OLTP compressed. The errors that you may see include <code>ORA-7445</code> or <code>ORA-600</code>.</p>
<p><a id="sthref251" name="sthref251"></a><span class="subhead3">Workaround:</span> Do not use CQN + table compression together.</p>
<p class="subhead2"><a id="sthref252" name="sthref252"></a>Bug 8601114</p>
<p>The Database Control operation "Import from Export Files" or "Import from Database" is erroneously reported as failed if the "Action to Take if Table Exists" is either Skip, Append, or Truncate.</p>
<p><a id="sthref253" name="sthref253"></a><span class="subhead3">Workaround:</span> None. The operation succeeds.</p>
<p class="subhead2"><a id="sthref254" name="sthref254"></a>Bug 8595729</p>
<p>A large number of audit files may be created in the <code>$GRID_HOME/rdbms/audit/</code> directory by the Oracle Clusterware monitoring of Oracle ASM disk group resources.</p>
<p><a id="sthref255" name="sthref255"></a><span class="subhead3">Workaround:</span> Periodically remove the audit files with the prefix <code>+asm</code> stored in the <code>$GRID_HOME/rdbms/audit/</code> directory.</p>
<p class="subhead2"><a id="sthref256" name="sthref256"></a>Bug 8595653</p>
<p>The <code>endpoints_listener.ora</code> file is used to get endpoints of the default listener when data files of Oracle Database 11<span class="italic">g</span> Release 1 or Oracle Database 10<span class="italic">g</span> Release 2 are created on a release 11.2 Oracle ASM disk group. However, when the listener is modified (such as changing a port number using Network Configuration Assistant), the <code>endpoints_listener.ora</code> file is not updated.</p>
<p><a id="sthref257" name="sthref257"></a><span class="subhead3">Workaround:</span> If a default listener is modified, edit the <code>endpoints_listener.ora</code> file manually. The file is stored in the <code>$GRID_HOME/network/admin/</code> directory.</p>
<p class="subhead2"><a id="BABIGEAG" name="BABIGEAG"></a>Bug 8304261</p>
<p>If compression attributes are specified at the table level and in the sub-partition template, newly created interval partitions do not use the compression attributes defined in the sub-partition template, but use the table level compression instead.</p>
<p><a id="sthref258" name="sthref258"></a><span class="subhead3">Workaround:</span> Redefine compression attributes in sub-partitions.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref259" name="sthref259"></a>
<h4 class="sect3"><span class="secnum">1.38.9</span> Oracle Database Vault Known Bugs</h4>
<p class="subhead2"><a id="sthref260" name="sthref260"></a>Bug 8728716</p>
<p><code>DVSYS.DBMS_MACADM.UPDATE_RULE_SET</code> procedure may not update some attributes of the target rule set correctly.</p>
<p><a id="sthref261" name="sthref261"></a><span class="subhead3">Workaround:&nbsp;</span>Delete the rule set and re-create a new rule set with desired attributes.</p>
<p class="subhead2"><a id="sthref262" name="sthref262"></a>Bug 8706788</p>
<p>Oracle Enterprise Manager may generate a realm configuration alert.</p>
<p><a id="sthref263" name="sthref263"></a><span class="subhead3">Workaround:&nbsp;</span>Remove the participant membership of <code>WKSYS</code> and <code>WKUSER</code> from <code>Oracle Data Dictionary</code> realm.</p>
<p class="subhead2"><a id="sthref264" name="sthref264"></a>Bug 8686258</p>
<p>Database Vault policy cannot be managed in Oracle Enterprise Manager DB Control because the following message is displayed in Database Vault Administration page:</p>
<pre xml:space="preserve" class="oac_no_warn">"OPERATOR TARGET" privilege does not exist.
"You must have OPERATOR TARGET privilege to perform this operation."
</pre>
<p><a id="sthref265" name="sthref265"></a><span class="subhead3">Workaround:</span> To manage Database Vault policy using Oracle Enterprise Manager, the Database Vault administrator must have the EM Administrator privilege. If you do not want to grant the EM Administrator privilege to the Database Vault administrator, then use the Database Vault Administrator page directly. For additional information, see <span class="italic"><a class="olink DVADM70290" href="http://www.oracle.com/pls/db112/lookup?id=DVADM70290">Oracle Database Vault Administrator's Guide</a></span>.</p>
<p class="subhead2"><a id="sthref266" name="sthref266"></a>Bug 8474817</p>
<p>If a user is granted Database Vault scheduler job authorization by <code>DBMS_MACADM.AUTHORIZE_SCHEDULER_USER</code> API, dropping this user does not remove the user from the list of authorized users.</p>
<p><a id="sthref267" name="sthref267"></a><span class="subhead3">Workaround:</span> Invoke the <code>DBMS_MACADM.UNAUTHORIZE_SCHEDULER_USER</code> API call to remove the user's authorization manually.</p>
<p class="subhead2"><a id="sthref268" name="sthref268"></a>Bug 8341283</p>
<p>The <code>ACTION_NAME</code> entry in the <code>DVSYS.AUDIT_TRAIL$</code> table displays <code>Realm Authorization Audit</code> for a failed realm enforcement if the audit option is set to audit on success and failure. The <code>RETURNCODE</code> will show the correct error code that was triggered.</p>
<p><a id="sthref269" name="sthref269"></a><span class="subhead3">Workaround:</span> Use the <code>RETURNCODE</code> value to determine whether a violation has occurred and the <code>ACTION_NAME</code> column to identify whether the audit was generated by a realm enforcement or command rule enforcement.</p>
<p class="subhead2"><a id="sthref270" name="sthref270"></a>Bug 8247647</p>
<p>Dropping a user does not automatically remove the user from the list of authorized users for Oracle Data Pump.</p>
<p><a id="sthref271" name="sthref271"></a><span class="subhead3">Workaround:</span> Invoke the <code>DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER</code> API call to manually remove the user's authorization for Oracle Data Pump.</p>
<p class="subhead2"><a id="sthref272" name="sthref272"></a>Bug 7033772</p>
<p>Database Vault Administrator (DVA) does not work after an Enterprise Manager DBControl upgrade.</p>
<p><a id="sthref273" name="sthref273"></a><span class="subhead3">Workaround:</span> Manually redeploy DVA after DBControl has been upgraded. You can follow the steps described in Appendix C, Section "Deploying Database Vault Administrator to the Database Console OC4J Container" of the <span class="italic"><a class="olink DVADM71067" href="http://www.oracle.com/pls/db112/lookup?id=DVADM71067">Oracle Database Vault Administrator's Guide</a></span>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref274" name="sthref274"></a>
<h4 class="sect3"><span class="secnum">1.38.10</span> Oracle Enterprise Manager DB Control Known Bugs</h4>
<p class="subhead2"><a id="sthref275" name="sthref275"></a>Bug 8702939</p>
<p>If you attempt to add a new node, then "Grid Infrastructure User Permission Checks" and or the "Checks if Staging Area Path is writable" may fail.</p>
<p><a id="sthref276" name="sthref276"></a><span class="subhead3">Workaround: &nbsp;</span>Manually create the directory for the Oracle RAC database home as <code>Home/EMStage/PAF</code> with 775 permissions and retry the failed step.</p>
<p class="subhead2"><a id="sthref277" name="sthref277"></a>Bug 8757994</p>
<p>If you explicitly set a value in any of the following text boxes in the <span class="bold">Placement</span> section of the <span class="bold">Add Resource</span> dialog box and then change focus to any other text box, you will not be able to set a value in the text box to which you changed your focus and the page appears frozen for several seconds:</p>
<ul>
<li>
<p>Favor the placement to some Server Pools and or Servers:</p>
<ul>
<li>
<p>Server Pools text box</p>
</li>
<li>
<p>Servers text box</p>
</li>
</ul>
</li>
<li>
<p>Restrict the placement to some Server Pools or Servers:</p>
<ul>
<li>
<p>Server Pools text box</p>
</li>
<li>
<p>Servers text box</p>
</li>
</ul>
</li>
</ul>
<p><a id="sthref278" name="sthref278"></a><span class="subhead3">Workaround: &nbsp;</span>When the page appears frozen, wait 5 to 10 seconds and try again. Or, set the value of the Server Pools or Servers text box by selecting from the List of Values instead of explicitly setting the values in the text box.</p>
<p class="subhead2"><a id="sthref279" name="sthref279"></a>Bug 8724077</p>
<p>Due to a mass cluster file transfer problem in large clusters, typically in clusters with more than eight nodes, DBCA may intermittently report a failure when configuring Database Control and display the error message <code>NULL</code>. DBCA then and asks you to run the EMCA command line tool to configure DB Control.</p>
<p><a id="sthref280" name="sthref280"></a><span class="subhead3">Workaround:&nbsp;</span>Run the command <code>emca -config dbcontrol db -repos recreate -cluster</code> after the database creation process completes.</p>
<p class="subhead2"><a id="sthref281" name="sthref281"></a>Bug 8716161</p>
<p>The following error is returned when attempting to stop DBConsole:</p>
<pre xml:space="preserve" class="oac_no_warn">$ emctl stop dbconsole
Environment variable ORACLE_UNQNAME not defined. Please set ORACLE_UNQNAME to
database unique name.
</pre>
<p><a id="sthref282" name="sthref282"></a><span class="subhead3">Workaround:</span> Set <code>ORACLE_UNQNAME</code> environment variable to match the <code>db_unique_name</code> initialization parameter.</p>
<p class="subhead2"><a id="sthref283" name="sthref283"></a>Bug 8692858</p>
<p>Oracle RAC Add Node with Oracle ASM storage fails intermittently due to updates in the <code>chartCache</code> files in Oracle Enterprise Manager DB Control.</p>
<p><a id="sthref284" name="sthref284"></a><span class="subhead3">Workaround:</span> Before you use Oracle Enterprise Manager DB Control to extend the cluster, or before you run the <code>addNode.sh</code> script, add the following directory to <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/rdbms/install/install.excl</code>, where <code><span class="codeinlineitalic">ORACLE_HOME</span></code> is the Oracle RAC home:</p>
<pre xml:space="preserve" class="oac_no_warn">oc4j/j2ee/oc4j_applications/applications/em/em/images/chartCache/*
</pre>
<p class="subhead2"><a id="sthref285" name="sthref285"></a>Bug 8741598</p>
<p>When adding nodes with DB Control, the <code>cluvfy stage -pre nodeadd</code> command fails without providing an error.</p>
<p class="subhead2"><a id="sthref286" name="sthref286"></a>Workaround:</p>
<p>If the <code>cluvfy</code> <code>pre</code> or <code>cluvfy</code> <code>post add node</code> checks fail, then you can ignore the step and run the following commands to verify the validity of the new nodes and proceed with the rest of the deployment steps. Use the following syntax where <code><span class="codeinlineitalic">grid_infrastructure_ORACLE_HOME</span></code> is the name of the home of the Oracle Grid Infrastructure for a cluster installation home and <code><span class="codeinlineitalic">comma_separated_list_of_new_nodes</span></code> is the list of new nodes:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">grid_infrastructure_ORACLE_HOME</span>/bin/cluvfy -pre nodeadd -n <span class="italic">comma_separated_list_of_new_nodes</span> -verbose -fixup
<span class="italic">grid_infrastructure_ORACLE_HOME</span>/bin/cluvfy -post nodeadd -n <span class="italic">comma_separated_list_of_new_nodes</span> -verbose 
</pre>
<p class="subhead2"><a id="BABIDFBI" name="BABIDFBI"></a>Bug 8674920</p>
<p>If the installation owners for the Oracle Grid Infrastructure for a cluster and Oracle Database are different, then the owners of Oracle ASM binaries and Oracle Enterprise Manager Agent binaries are also different. When you start Support Workbench, the error message <code>Error Operation failed - Operation failed</code> might appear, because the Oracle Enterprise Manager Agent is running as a different user, and Support Workbench does not have permissions for the Oracle ASM target.</p>
<p><a id="sthref287" name="sthref287"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref288" name="sthref288"></a>Bug 8655988</p>
<p>On the "Hang Analysis" page of Oracle Enterprise Manager DB Control for Cluster Database, the text in the "Wait" graph is shown as garbled characters when you use the Japanese locale.</p>
<p><a id="sthref289" name="sthref289"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref290" name="sthref290"></a>Bug 8444875</p>
<p>You cannot create an application VIP from Oracle Enterprise Manager DB Control.</p>
<p><a id="sthref291" name="sthref291"></a><span class="subhead3">Workaround:</span> Use the following command as root with the appropriate name for the VIP and the appropriate operating system user ID:</p>
<pre xml:space="preserve" class="oac_no_warn">appvipcfg create -network=1 -ip=10.185.148.111 -vipname=appsvip -user=oracle
</pre>
<p class="subhead2"><a id="BABJCCAJ" name="BABJCCAJ"></a>Bug 8350597</p>
<p>If DB Control is running in an IPv6 environment, then you cannot use it to monitor Exadata cells and you should not add Exadata cells as targets.</p>
<p><a id="sthref292" name="sthref292"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref293" name="sthref293"></a>Bug 8638267</p>
<p>If you select the "Desktop Class" style database configuration in the Installer, and after completing the installation you attempt to create a database using DBCA or any DB Control setup using Oracle Enterprise Manager Configuration Assistant (EMCA), then you must set the <code>ORACLE_HOSTNAME</code> environment variable to <code>'localhost'</code>. If you do not set <code>ORACLE_HOSTNAME</code>, then DBCA fails while configuring Oracle Enterprise Manager with the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">Listener is not up or database service is not registered with it. Start the Listener and register database service and run EM Configuration Assistant again.
</pre>
<p><a id="sthref294" name="sthref294"></a><span class="subhead3">Workaround:</span> Set the <code>ORACLE_HOSTNAME</code> environment variable to <code>'localhost'</code> and retry creating the database.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref295" name="sthref295"></a>
<h4 class="sect3"><span class="secnum">1.38.11</span> Oracle Grid Control Known Bugs</h4>
<p class="subhead2"><a id="sthref296" name="sthref296"></a>Bug 8609658</p>
<p>In release 11.2, only the SYSASM user has the privilege to start up or shut down Oracle ASM. Preferred credentials stored in Oracle ASM from prior releases using the SYSDBA role can no longer be used due to Oracle ASM File Access Control.</p>
<p><a id="sthref297" name="sthref297"></a><span class="subhead3">Workaround:&nbsp;</span>Specify startup and shutdown credentials for Oracle ASM using the SYSASM role.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref298" name="sthref298"></a>
<h4 class="sect3"><span class="secnum">1.38.12</span> Oracle Grid Infrastructure for a Cluster Known Bugs</h4>
<p class="subhead2"><a id="sthref299" name="sthref299"></a>Bug 8741415</p>
<p>In the "One Click Extend Cluster Database" deployment procedure, the "Checks for sudo permission" step fails because there is no <code>/usr/local/bin/perl</code>.</p>
<p><a id="sthref300" name="sthref300"></a><span class="subhead3">Workaround:&nbsp;</span>You can ignore this step.</p>
<p class="subhead2"><a id="sthref301" name="sthref301"></a>Bug 8739647</p>
<p>When installing the Oracle Grid Infrastructure for a cluster home as a separate user (someone other than the user who owns the database <code><span class="codeinlineitalic">ORACLE_HOME</span></code>), if <code>/opt/oracle</code> already exists on the host system, the installation will not change the group ownership of the directory if it is wrong. If the user does not have the appropriate group ownership set, one or more of the following errors would be seen in the alert log or the DBCA log:</p>
<br />
ORA-15081<br />
ORA-15025<br />
ORA-15186
<p><a id="sthref302" name="sthref302"></a><span class="subhead3">Workaround:&nbsp;</span>Before installing the Oracle Grid Infrastructure for a cluster home, change the group ownership of <code>/opt/oracle</code> to the group that owns the Oracle installation inventory&#x2014;which typically is <code>oinstall</code>&#x2014;as shown in the following example:</p>
<pre xml:space="preserve" class="oac_no_warn">chgrp oinstall /opt/oracle
</pre>
<div class="infoboxnote">
<p class="notep1">Note:</p>
You need to run this command as the root user.</div>
<p class="subhead2"><a id="sthref303" name="sthref303"></a>Bug 8679335</p>
<p>If you install Oracle Grid Infrastructure for a cluster and Oracle RAC as different users, you may get an error due to insufficient permissions on the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/EMStage</code> directory, where <code><span class="codeinlineitalic">ORACLE_HOME</span></code> is the Oracle RAC home.</p>
<p><a id="sthref304" name="sthref304"></a><span class="subhead3">Workaround:</span> Manually create the directory <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/EMStage/PAF</code> with 775 permissions and retry the failed step.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref305" name="sthref305"></a>
<h4 class="sect3"><span class="secnum">1.38.13</span> Oracle Multimedia Known Bugs</h4>
<p class="subhead2"><a id="sthref306" name="sthref306"></a>Bug 8725198</p>
<p>The File interface of the <code>DicomLocatorService</code> and <code>DicomTagService</code> classes in the Oracle Multimedia Mid-Tier Java API may raise the <code>java.io.IOException: "Too many open files"</code> exception if executed on large numbers of files.</p>
<p><a id="sthref307" name="sthref307"></a><span class="subhead3">Workaround:&nbsp;</span>Create an <code>InputStream</code> from a File and call the <code>InputStream</code> interface of the <code>DicomLocatorService</code> and <code>DicomTagService</code> classes of the Oracle Multimedia Mid-Tier Java API instead of the File interface.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref308" name="sthref308"></a>
<h4 class="sect3"><span class="secnum">1.38.14</span> Oracle OLAP Known Bugs</h4>
<p class="subhead2"><a id="sthref309" name="sthref309"></a>Bug 8474636</p>
<p>An error occurs when building a partitioned cube under the following circumstances:</p>
<ul>
<li>
<p><code>NLS_DATE_LANGUAGE</code> is set to a non-English language.</p>
</li>
<li>
<p>The cube is partitioned by a Time dimension.</p>
</li>
<li>
<p>The column that maps to the Time dimension has a Date data type.</p>
</li>
</ul>
<p><a id="sthref310" name="sthref310"></a><span class="subhead3">Workaround:&nbsp;</span>Set <code>NLS_DATE_LANGUAGE</code> to <code>ENGLISH</code>. You can set <code>NLS_LANGUAGE</code> to whatever language your applications support.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref311" name="sthref311"></a>
<h4 class="sect3"><span class="secnum">1.38.15</span> Oracle Net Services Known Bugs</h4>
<p class="subhead2"><a id="sthref312" name="sthref312"></a>Bug 8682102</p>
<p>Once a wallet is created and a master key generated, the wallet must not be deleted. The database needs to be able to locate this master key to perform some encryption-related operations.</p>
<p><a id="sthref313" name="sthref313"></a><span class="subhead3">Workaround:&nbsp;</span>If you deleted the wallet and if a backup copy of the wallet exists, you may be able to restore the backup copy to the wallet location specified in the <code>sqlnet.ora</code> file.</p>
<p class="subhead2"><a id="sthref314" name="sthref314"></a>Bug 7602834</p>
<p>On the "Network Administration" home page, if you select "Directory Naming" and provide Oracle Internet Directory credentials, you will get an internal server error.</p>
<p><a id="sthref315" name="sthref315"></a><span class="subhead3">Workaround 1:&nbsp;</span>Use Oracle Net Manager instead.</p>
<p><a id="sthref316" name="sthref316"></a><span class="subhead3">Workaround 2:&nbsp;</span>Run the following commands:</p>
<pre xml:space="preserve" class="oac_no_warn">cp <span class="italic">ORACLE_HOME</span>/network/lib/libnldapj11.so <span class="italic">ORACLE_HOME</span>/lib/.
cd <span class="italic">ORACLE_HOME</span>/bin
./emctl stop dbconsole
./emctl start dbconsole
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref317" name="sthref317"></a>
<h4 class="sect3"><span class="secnum">1.38.16</span> Oracle Real Application Clusters Known Bugs</h4>
<p class="subhead2"><a id="sthref318" name="sthref318"></a>Bug 8716518</p>
<p>If using a separate user to install Oracle Restart, before DBCA, add the user <code>grid</code> to the group <code>dba</code>. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"># usermod -a -G dba grid 
</pre>
<p><a id="sthref319" name="sthref319"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref320" name="sthref320"></a>Bug 8581327</p>
<p>If standalone listeners are running from the Oracle RAC <code><span class="codeinlineitalic">ORACLE_HOME</span></code> that is being patched, then the procedures "Patch Oracle RAC - Rolling" and "Patch Oracle RAC - All Nodes" fail at the step <code>CheckActiveFilesAndExecutables</code> because the file <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/bin/tnslsnr</code> is active.</p>
<p><a id="sthref321" name="sthref321"></a><span class="subhead3">Workaround:</span> Stop the standalone listeners that are running from the Oracle RAC <code><span class="codeinlineitalic">ORACLE_HOME</span></code> that is being patched and retry the procedure that failed.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref322" name="sthref322"></a>
<h4 class="sect3"><span class="secnum">1.38.17</span> Oracle Streams Known Bugs</h4>
<p class="subhead2"><a id="sthref323" name="sthref323"></a>Bug 8739024</p>
<p>In statement DML handlers, binding <code>NCLOB</code> columns or <code>CLOB</code> columns with varying width character sets using an LCR field expression such as <code>:new.nclob_column</code>, can result in an incorrect NCLOB or CLOB in the destination table.</p>
<p><a id="sthref324" name="sthref324"></a><span class="subhead3">Workaround:&nbsp;</span> Use procedure DML handlers for customizing the apply for tables with these columns.</p>
<p class="subhead2"><a id="sthref325" name="sthref325"></a>Bug 8735201</p>
<p>The Streams Apply process may abort with an <code>ORA-26786</code> error when applying changes from OLTP compressed tables. An <code>ORA-26786</code> error typically indicates that a data conflict has occurred while applying the source row.</p>
<p><a id="sthref326" name="sthref326"></a><span class="subhead3">Workaround:&nbsp;</span> On the source database, check if the table involved in the error has OLTP compression enabled. Substitute the appropriate table name for <code><span class="codeinlineitalic">tablename</span></code> in the appropriate query below. For a non-partitioned table, use the following query:</p>
<pre xml:space="preserve" class="oac_no_warn">SELECT table_name, compression, compress_for FROM user_tables WHERE 
table_name = '<span class="italic">tablename</span>';
</pre>
<p>For a partitioned table, use the following query:</p>
<pre xml:space="preserve" class="oac_no_warn">SELECT table_name, partition_name, tablespace_name, compression, compress_for 
 FROM user_tab_partitions WHERE table_name = '<span class="italic">tablename</span>'; 
</pre>
<p>If a conflict error occurs, use either a Streams conflict handler or error handler to allow the DML to be executed. To ensure that the apply process continues processing following an occurrence of the <code>ORA-26786</code> error, set the <code>disable_on_error</code> apply parameter to <code>'N'</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">exec DBMS_APPLY_ADM.SET_PARAMETER('<span class="italic">apply_name</span>', 'disable_on_error', 'N');
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref327" name="sthref327"></a>
<h4 class="sect3"><span class="secnum">1.38.18</span> Oracle Universal Installer Known Bugs</h4>
<p class="subhead2"><a id="sthref328" name="sthref328"></a>Bug 9593297</p>
<p>During an upgrade of 10.2.0.5 Cluster Ready Services to 11.2.0.1 Oracle Clusterware, Oracle Universal Installer (OUI) hangs at the first screen.</p>
<p><a id="sthref329" name="sthref329"></a><span class="subhead3">Workaround:&nbsp;</span>Before starting 11.2.0.1 Oracle Clusterware upgrade, shutdown Oracle Clusterware using the following command. The upgrade needs to be performed in non-rolling approach.</p>
<p class="subhead2"><a id="sthref330" name="sthref330"></a>Bug 8979500</p>
<p>There is an error when installing the Oracle Grid Infrastructure for a cluster with the Grid Naming Service (GNS) and the Oracle Cluster Registry (OCR) and voting disks stored on Oracle ASM.</p>
<p>When installing the Oracle Grid Infrastructure for a cluster for Oracle Database 11<span class="italic">g</span> Release 2 with GNS and the OCR and voting disks on Oracle ASM, <code>root.sh</code> may fail with error <code>PROT-1: Failed to initialize ocrconfig</code>. The failing command is <code>ocrconfig -upgrade oracle dba</code>, and <code>TNS-12560</code> can be found in the SQL*Net log file.</p>
<p><a id="sthref331" name="sthref331"></a><span class="subhead3">Workaround: &nbsp;</span>Check the <code>/etc/group</code> entry for the group being used by OCR, temporarily reduce the number of users listed for this group, and restart the installation.</p>
<p class="subhead2"><a id="sthref332" name="sthref332"></a>Bug 8947155</p>
<p>When installing a single-instance Oracle Database with the Desktop class option, and if the domain name in the global database name exceeds 128 characters, Oracle Universal Installer does not display a warning. The installation fails during the Database Configuration Assistant phase with the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">ERROR at line 1: 
ORA-02086: database (link) name is too long
</pre>
<p><a id="sthref333" name="sthref333"></a><span class="subhead3">Workaround:</span> Ensure that the domain portion of the Global Database Name does not exceed 128 characters including punctuation.</p>
<p class="subhead2"><a id="sthref334" name="sthref334"></a>Bug 8756488</p>
<p>The <span class="bold">Installer Summary</span> dialog displays a size requirement that does <span class="italic">not</span> include log and other configuration data sizes.</p>
<p><a id="sthref335" name="sthref335"></a><span class="subhead3">Workaround:</span> Refer to your respective installation guide for information about the correct amount of free disk space that is required for a successful installation.</p>
<p class="subhead2"><a id="sthref336" name="sthref336"></a>Bug 8752235</p>
<p>If you select Oracle Automatic Storage Management (ASM) as the installation location for Oracle Cluster Registry (OCR) and then move to the next Oracle Universal Installer (OUI) screen and change the installation location for OCR to <code>File System</code>, OUI executes <code>root.sh</code> before starting the Automatic Storage Management Configuration Assistant (ASMCA), and ASMCA fails.</p>
<p><a id="sthref337" name="sthref337"></a><span class="subhead3">Workaround:</span> Either do not execute ASMCA or ignore its failure and finish the installation.</p>
<p class="subhead2"><a id="sthref338" name="sthref338"></a>Bug 8744509</p>
<p>During silent installation, Oracle Universal Installer does not accept a fully qualified host name for the <code>responseFile</code> property <code>oracle.crs.config.clusterNodes. responseFile</code>.</p>
<p><a id="sthref339" name="sthref339"></a><span class="subhead3">Workaround:</span> In the response file to be used for silent installation, specify the host name without the domain. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">oracle.install.crs.config.clusterNodes=node1,node2
</pre>
<p>Not this:</p>
<pre xml:space="preserve" class="oac_no_warn">oracle.install.crs.config.clusterNodes=node1.mydomain.com,node2.mydomain.com
</pre>
<p class="subhead2"><a id="BABFHJJD" name="BABFHJJD"></a>Bug 8729326</p>
<p>When upgrading to 11.2 Clusterware, the Installer invokes ASMCA in silent mode to upgrade Oracle ASM into Oracle Grid Infrastructure for a cluster home. Oracle ASM upgrade is handled in rolling fashion when upgrading from 11.1.0.7. Prior versions of Oracle ASM instances are upgraded in non-rolling fashion and Oracle ASM-based databases are bounced without any prior warning.</p>
<p><a id="sthref340" name="sthref340"></a><span class="subhead3">Workaround:</span> You can plan your database outage to be the point where you acknowledge the Installer prompt after executing <code>root.sh</code> on all nodes. At this point, CRS is upgraded in rolling fashion and the Installer will be calling ASMCA to upgrade Oracle ASM, which will bounce databases as part of Oracle ASM upgrade.</p>
<p class="subhead2"><a id="sthref341" name="sthref341"></a>Bug 8714456</p>
<p>Choose the "Upgrade Grid Infrastructure" option to upgrade older versions of Automatic Storage Management to Oracle Database 11g Release 2 (11.2).</p>
<p><a id="sthref342" name="sthref342"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref343" name="sthref343"></a>Bug 8675426</p>
<p>The Enterprise user security utility, UMU (User Migration Utility), fails with the following error when migrating database users to the directory:</p>
<pre xml:space="preserve" class="oac_no_warn">Exception in thread "main" java.lang.NoClassDefFoundError:
oracle/security/pki/OraclePKIProvider
       at java.lang.Class.forName0(Native Method)
       at java.lang.Class.forName(Class.java:242)
</pre>
<p><a id="sthref344" name="sthref344"></a><span class="subhead3">Workaround:</span> The <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/umu</code> script expects a jar under the ORACLE_HOME<code>/ldap/jlib</code> directory. However, the jar is located under ORACLE_HOME<code>/jlib</code> instead. Create a symbolic link for ORACLE_HOME<code>/jlib</code> under ORACLE_HOME<code>/ldap/jlib</code>. For example, on a Linux, use the following command in the ORACLE_HOME<code>/ldap</code> directory:</p>
<pre xml:space="preserve" class="oac_no_warn">ln -s <span class="italic">ORACLE_HOME</span>/jlib jlib
</pre>
<p class="subhead2"><a id="sthref345" name="sthref345"></a>Bug 8670579</p>
<p>When running the Linux 32-bit operating system on 64-bit Advanced Micro Devices (AMD) Athlon hardware, there is a bug in third party code where the CPU type is not correctly identified. This may result in an application crash when using DBCA or NETCA startup.</p>
<p><a id="sthref346" name="sthref346"></a><span class="subhead3">Workaround:</span> Apply the patch for this bug to avoid this problem.</p>
<p class="subhead2"><a id="BABJGGID" name="BABJGGID"></a>Bug 8666656</p>
<p>The Oracle Universal Installer (OUI) <code>runInstaller</code> script that resides in the Oracle home (<code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/oui/bin/runInstaller</code>) cannot be used to install the 11.2.0.1 releases of Oracle Database, Oracle Grid Infrastructure for a cluster, and Oracle Database Client.</p>
<p><a id="sthref347" name="sthref347"></a><span class="subhead3">Workaround:</span> Use Oracle Universal Installer on the respective 11.2.0.1.0 product media to install each product.</p>
<p class="subhead2"><a id="BABJJCJB" name="BABJJCJB"></a>Bug 8638708</p>
<p>If you select the database configuration Desktop Class in Oracle Universal Installer (OUI), listener and database control are configured with <code>'localhost'</code> as the host name. The Oracle Enterprise Manager DB Control <code>start</code> and <code>stop</code> operations using <code>emctl</code> may fail.</p>
<p><a id="sthref348" name="sthref348"></a><span class="subhead3">Workaround:</span> For DB Control start and stop operations that use <code>emctl</code> in that home, set the <code>ORACLE_HOSTNAME</code> environment variable to <code>'localhost'</code>.</p>
<p class="subhead2"><a id="BABFHBAB" name="BABFHBAB"></a>Bug 8407818</p>
<p>After adding a new node to a shared Oracle database home using <code>addNode.sh</code>, the <code>/etc/oratab</code> on the newly added node gets an entry of the source database name that exists on the source node from where <code>addNode.sh</code> was run. The <code>/etc/oratab</code> file on the new node is supposed to get the database entry after the database instance is added for the new node using DBCA.</p>
<p><a id="sthref349" name="sthref349"></a><span class="subhead3">Workaround:</span> Before invoking DBCA from the source node to add a new database instance for the new node, open the <code>/etc/oratab</code> file on the new node using an editor and remove the entry made for the source database name.</p>
<p class="subhead2"><a id="sthref350" name="sthref350"></a>Bug 7388999</p>
<p>The <code>addNode.sh</code> script is not supported in GUI mode.</p>
<p><a id="sthref351" name="sthref351"></a><span class="subhead3">Workaround:</span> Only use <code>addNode.sh</code> in silent mode with the required parameters.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref352" name="sthref352"></a>
<h4 class="sect3"><span class="secnum">1.38.19</span> DB Control Patching Known Bugs</h4>
<p class="subhead2"><a id="sthref353" name="sthref353"></a>Bug 6489313</p>
<p>The deployment procedures for patching Oracle Standalone Databases and Oracle RAC Databases do not run SQL scripts if operating system authentication is disabled for those database installations. The procedures fail after applying the patch.</p>
<p class="subhead2"><a id="sthref354" name="sthref354"></a>Workaround:</p>
<p>As described by the instructions in the README of the patch, run the SQL scripts on the database instances that are running out of the patched Oracle homes.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref355" name="sthref355"></a>
<h4 class="sect3"><span class="secnum">1.38.20</span> Oracle Warehouse Builder Known Bugs</h4>
<p>Refer to "Open Bugs and Known Issues" in <span class="italic"><a class="olink WBREL" href="../../relnotes.112/e10585/toc.htm">Oracle Warehouse Builder Release Notes</a></span>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref356" name="sthref356"></a>
<h4 class="sect3"><span class="secnum">1.38.21</span> RMAN Known Bugs</h4>
<p class="subhead2"><a id="sthref357" name="sthref357"></a>Bug 8652023</p>
<p>When <code>CATALOG</code> <code>BACKUPPIECE</code> is used near the end of the month, the completion date for the backup piece might have an invalid date.</p>
<p><a id="sthref358" name="sthref358"></a><span class="subhead3">Workaround:&nbsp;</span>Do not use <code>CATALOG</code> <code>BACKUPPIECE</code> near the end of the month.</p>
<p class="subhead2"><a id="sthref359" name="sthref359"></a>Bug 8631293</p>
<p>The Recovery Manager (RMAN) command <code>DUPLICATE</code> might fail with <code>RMAN-06551</code> if the parameters <code>DB_RECOVERY_FILE_DEST</code> and <code>DB_RECOVERY_FILE_DEST_SIZE</code> are set in the <code>init</code>.<code>ora</code> file of the new database in which the <code>DUPLICATE</code> command is executing.</p>
<p><a id="sthref360" name="sthref360"></a><span class="subhead3">Workaround:&nbsp;</span>Do not set the parameters <code>DB_RECOVERY_FILE_DEST</code> and <code>DB_RECOVERY_FILE_DEST_SIZE</code> in the <code>init</code>.<code>ora</code> file of the new database until the <code>DUPLICATE</code> command has finished executing.</p>
<p class="subhead2"><a id="sthref361" name="sthref361"></a>Bug 8572507</p>
<p>When you run the RMAN <code>list</code> <code>backupset</code> command on a backup set that contains data file information about dropped files, an error is returned.</p>
<p><a id="sthref362" name="sthref362"></a><span class="subhead3">Workaround:&nbsp;</span>Use the RMAN <code>list</code> <code>backup</code> command instead of <code>list</code> <code>backupset</code>.</p>
<p class="subhead2"><a id="sthref363" name="sthref363"></a>Bug 8559328</p>
<p>Attempting a Recovery Manager (RMAN) Tablespace Point-in-Time Recovery (TSPITR) on a tablespace that has objects that depend on user-defined object types causes the Data Pump Import utility (<code>impdp</code>) to fail with <code>ORA-31684</code>.</p>
<p><a id="sthref364" name="sthref364"></a><span class="subhead3">Workaround:&nbsp;</span>Ignore the failure and alter the tablespace state to <code>READ</code> <code>WRITE</code>. Although the tablespace state appears to be <code>READ</code> <code>ONLY</code> (instead of <code>OFFLINE</code>, as expected), when you alter the tablespace state to <code>READ</code> <code>WRITE</code>, all recovered objects are available.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDIEHCH" name="CHDIEHCH"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2</span> Readme Information for Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2)</h2>
<div class="infoboxnote">
<p class="notep1">Note:</p>
<span class="bold">If you are on Oracle Database 11</span><span class="bolditalic">g</span> <span class="bold">Release 2 (11.2.0.2), this is the Readme section that you need to read.</span></div>
<p>This section of the Readme contains the following sub-sections:</p>
<p><a href="#CACBJAHD">Section 2.1, "Nomenclature Changes"</a></p>
<p><a href="#CHDJAGFI">Section 2.2, "Compatibility, Upgrading, Downgrading, and Installation"</a></p>
<p><a href="#BABGIGDC">Section 2.3, "Features Not Available or Restricted in 11.2.0.2"</a></p>
<p><a href="#CHDJFIFH">Section 2.4, "Default Behavior Changes"</a></p>
<p><a href="#CIABFECA">Section 2.5, "Automatic Storage Management"</a></p>
<p><a href="#BABDCGJB">Section 2.7, "Oracle Enterprise Manager Database Control"</a></p>
<p><a href="#CHDCHFGG">Section 2.8, "Database Security"</a></p>
<p><a href="#BABBFFGD">Section 2.9, "Encryption and Integrity"</a></p>
<p><a href="#CHDCCIEF">Section 2.10, "Java and Web Services"</a></p>
<p><a href="#CHDFBBED">Section 2.11, "Media Management Software"</a></p>
<p><a href="#CACEJDCB">Section 2.12, "Oracle Application Express"</a></p>
<p><a href="#CACFHBGH">Section 2.13, "Oracle Client Applications"</a></p>
<p><a href="#BABEDIIJ">Section 2.14, "Oracle Configuration Manager"</a></p>
<p><a href="#CHDBEDHF">Section 2.15, "Oracle Data Mining"</a></p>
<p><a href="#CHDBDACH">Section 2.16, "Oracle Internet Directory"</a></p>
<p><a href="#CHDCFBIH">Section 2.17, "Oracle Multimedia"</a></p>
<p><a href="#CIACBBDJ">Section 2.18, "Oracle Net Services"</a></p>
<p><a href="#BABEGECC">Section 2.19, "Oracle Real Application Clusters"</a></p>
<p><a href="#CACCIEID">Section 2.20, "Oracle Grid Infrastructure for a Cluster"</a></p>
<p><a href="#CIAHHGFJ">Section 2.21, "Oracle Real Application Testing"</a></p>
<p><a href="#BABJJCHA">Section 2.22, "Oracle ODBC Driver"</a></p>
<p><a href="#CIAEEFAF">Section 2.23, "Oracle OLAP"</a></p>
<p><a href="#BABDAHAC">Section 2.24, "Oracle Spatial"</a></p>
<p><a href="#BABDDCCJ">Section 2.25, "Oracle SQL Developer"</a></p>
<p><a href="#CACIBCIJ">Section 2.26, "Oracle Text"</a></p>
<p><a href="#BABBFCCH">Section 2.27, "Oracle Ultra Search"</a></p>
<p><a href="#BABGFAAE">Section 2.28, "Oracle Warehouse Builder"</a></p>
<p><a href="#BABDAIED">Section 2.29, "Oracle Workflow"</a></p>
<p><a href="#BABIHIJB">Section 2.30, "Oracle XML DB"</a></p>
<p><a href="#BABBCFHJ">Section 2.31, "PL/SQL"</a></p>
<p><a href="#CHDIHGCH">Section 2.32, "Pro*C"</a></p>
<p><a href="#CHDDDAGJ">Section 2.33, "Pro*COBOL"</a></p>
<p><a href="#BABGICBC">Section 2.34, "SQLJ"</a></p>
<p><a href="#BABIJDJI">Section 2.35, "SQL*Plus"</a></p>
<p><a href="#CHDHFEEI">Section 2.36, "Summary Management"</a></p>
<p><a href="#BABCCCIJ">Section 2.37, "Oracle Streams"</a></p>
<p><a href="#CHDJICDC">Section 2.38, "Documentation Addendum"</a></p>
<p><a href="#CHDDJCFH">Section 2.39, "Open Bugs"</a></p>
<a id="CACBJAHD" name="CACBJAHD"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1</span> Nomenclature Changes</h3>
<p>Note the following nomenclature changes:</p>
<ul>
<li>
<p>Flash Recovery Area has been renamed to Fast Recovery Area.</p>
</li>
<li>
<p>The name Oracle <span class="italic">inter</span>Media was changed to Oracle Multimedia in Oracle Database 11<span class="italic">g</span> Release 1 (11.1). The feature remains the same, only the name has changed.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDJAGFI" name="CHDJAGFI"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.2</span> Compatibility, Upgrading, Downgrading, and Installation</h3>
<p>For late-breaking updates and best practices about preupgrade, post-upgrade, compatibility, and interoperability discussions, see Note 785351.1 on My Oracle Support (formerly Oracle<span class="italic">MetaLink</span> at <code><a href="https://metalink.oracle.com/">https://metalink.oracle.com/</a></code>) that links to the "Upgrade Companion" web site for Oracle Database 11<span class="italic">g</span> Release 2.</p>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
After installation is complete, do not manually remove or run <code>cron</code> jobs that remove <code>/tmp/.oracle or /var/tmp/.oracle</code> directories or their files while Oracle software is running. If you remove these files, then Oracle software can encounter intermittent hangs. Oracle Grid Infrastructure for a cluster and Oracle Restart installations fail with the following error:
<pre xml:space="preserve" class="oac_no_warn">CRS-0184: Cannot communicate with the CRS daemon.
</pre></div>
<div class="sect3"><a id="sthref365" name="sthref365"></a>
<h4 class="sect3"><span class="secnum">2.2.1</span> Multiple Interconnects and Oracle ACFS</h4>
<p>If you have Oracle ACFS file systems on Oracle Grid Infrastructure for a cluster 11<span class="italic">g</span> release 2 (11.2.0.1), you upgrade Oracle Grid Infrastructure for a cluster to 11<span class="italic">g</span> release 2 (11.2.0.2), and you take advantage of Redundant Interconnect Usage and add one or more additional private interfaces to the private network, then you must restart the Oracle ASM instance on each upgraded cluster member node (reference Bug 9969133).</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref366" name="sthref366"></a>
<h4 class="sect3"><span class="secnum">2.2.2</span> Deinstallation Restrictions</h4>
<p>The following sections describe deinstallation and deconfiguration restrictions. See <a href="#CIAGDJHI">Section 2.39.2, "Deinstallation Tool Known Bugs"</a> for additional information.</p>
<div class="sect4"><a id="sthref367" name="sthref367"></a>
<h5 class="sect4"><span class="secnum">2.2.2.1</span> Deinstall Upgraded 11.2 Oracle RAC and Oracle Grid Infrastructure for a Cluster Homes</h5>
<p>After you deconfigure and deinstall an upgraded Oracle Database 11<span class="italic">g</span> Release 2 (11.2) Oracle RAC home and to deconfigure and deinstall an 11.2 Oracle Grid Infrastructure for a cluster home, you must detach any pre-11.2 Oracle RAC software homes from the central Inventory (reference Bug 8666509).</p>
<p>Detach the pre-11.2 Oracle RAC homes from the central inventory with the following command:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/oui/bin/runInstaller -detachHome <span class="italic">ORACLE_HOME</span>_NAME=<span class="italic">pre-11.2_ORACLE_HOME_NAME</span> <span class="italic">ORACLE_HOME</span>=<span class="italic">pre-11.2_ORACLE_HOME</span>
</pre></div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref368" name="sthref368"></a>
<h5 class="sect4"><span class="secnum">2.2.2.2</span> Error When Running Deinstallation from an Existing Oracle Home With the -home Option</h5>
<p>If you try to run the <code>deinstall</code> tool from the product home with the <code>-home</code> option, then the deinstallation fails with the following error message:</p>
<pre xml:space="preserve" class="oac_no_warn">$ ./deinstall -home /scratch/user_dir/oracle/product/11.2.0/dbhome_1
Error: invalid argument -home.
Since the tool is run from inside an Oracle Home it will deinstall the home
the tool is installed in. You cannot specify another home.
</pre>
<p>Because the <code>deinstall</code> tool is run from within an Oracle home, the <code>deinstall</code> tool cannot be run with the <code>-home</code> option. The <code>deinstall</code> tool can only be run as <code>./deinstall</code> from within an Oracle home.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref369" name="sthref369"></a>
<h4 class="sect3"><span class="secnum">2.2.3</span> Time Zone File Version</h4>
<p>Oracle Database 11<span class="italic">g</span> Release 2 (11.2) ships with time zone file versions 1 through 14. If your older database is using a time zone file version greater than 14, then you must obtain the corresponding time zone file patch for 11.2 prior to upgrading your database.</p>
<p>You can use <code>SELECT VERSION FROM V$TIMEZONE_FILE</code> to identify the time zone file version when upgrading your Oracle Database 10<span class="italic">g</span> or 11<span class="italic">g</span> databases. The Pre-Upgrade Information Tool (<code>utlu112i.sql</code> and its counterpart used by the Database Upgrade Assistant) provides a warning if the time zone file version is not version 11. The warning recommends running the <code>DBMS_DST</code> package to upgrade the database time zone version to the latest and to update <code>TIMESTAMP WITH TIME ZONE</code> data as well. The Pre-Upgrade Information Tool also populates three new database properties (<code>DST_PRIMARY_TT_VERSION</code>, <code>DST_SECONDARY_TT_VERSION</code>, and <code>DST_UPGRADE_STATE</code>) in <code>sys.database_properties</code> that are pertinent to the time zone version and its upgrade. <code>DST_PRIMARY_TT_VERSION</code> property records the actual time zone version in use. The other two database properties will be used when you upgrade your time zone version using <code>DBMS_DST</code> package.</p>
<p>Note that, in this release, you have the option to retain your current time zone version after migrating to 11.2. For example, whether your application uses any <code>TIMESTAMP WITH TIME ZONE</code> type, you do not need to run the <code>DBMS_DST</code> package to upgrade your time zone version to the latest one available.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref370" name="sthref370"></a>
<h4 class="sect3"><span class="secnum">2.2.4</span> Oracle ASM Rolling Upgrade</h4>
<p>Oracle Automatic Storage Management (Oracle ASM) rolling upgrade check does not allow rolling upgrade to be done from 11.1.0.6 to any later release (reference Bug 6872001). The following message is reported in the alert log:</p>
<pre xml:space="preserve" class="oac_no_warn">Rolling upgrade from 11.1.0.6 (instance <span class="italic">instance-number</span>) to 11.x.x.x is not supported
</pre>
<p><code>ORA-15156</code> is signalled by LMON which will then terminate the instance.</p>
<p>When trying to upgrade Oracle ASM from 11.1.0.6 to a later release of Oracle ASM, apply the patch for this bug to 11.1.0.6 instances before rolling upgrade starts. This patch can be applied to 11.1.0.6 instances in a rolling fashion.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref371" name="sthref371"></a>
<h4 class="sect3"><span class="secnum">2.2.5</span> UTC Time Zone Error When Upgrading From 9.2 to 11.2</h4>
<p>When running upgrade scripts from Oracle9<span class="italic">i</span> Database Release 2 (9.2) to Oracle Database 11<span class="italic">g</span> Release 2 (11.2), you may encounter the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-27465: invalid value UTC for attribute DEFAULT_TIMEZONE
</pre>
<p>This error occurs because the default time zone file for release 9.2 does not have the coordinated universal time (UTC) zone. This message is produced by Oracle Scheduler that, by default, selects the UTC time zone and checks it against the default time zone file of release 9.2. This error message is expected and you can ignore it.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref372" name="sthref372"></a>
<h4 class="sect3"><span class="secnum">2.2.6</span> Tablespace and Fast Recovery Area Sizing</h4>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Fast Recovery was previously known as Flash Recovery.</div>
<p>The Oracle Database 11<span class="italic">g</span> Pre-Upgrade Information Utility (<code>utlu112i.sql</code>) estimates the additional space that is required in the <code>SYSTEM</code> tablespace and in any tablespaces associated with the components that are in the database (for example, <code>SYSAUX</code>, <code>DRSYS</code>). For a manual upgrade, be sure to run this utility on your existing database prior to upgrading.</p>
<p>The tablespace size estimates may be too small, especially if Oracle XML DB is installed in your database. However, to avoid potential space problems during either a manual upgrade or an upgrade using the Database Upgrade Assistant (DBUA), you can set one data file for each tablespace to <code>AUTOEXTEND ON MAXSIZE UNLIMITED</code> for the duration of the upgrade.</p>
<p>If you are using file systems for data file storage, then be sure there is adequate space in the file systems for tablespace growth during the upgrade.</p>
<p>If you are using a Fast Recovery Area, then check that the size available is sufficient for the redo generated during the upgrade. If the size is inadequate, then an <code>ORA-19815</code> error will be written to the alert log, and the upgrade will stop until additional space is made available.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref373" name="sthref373"></a>
<h4 class="sect3"><span class="secnum">2.2.7</span> Memory Target for Oracle Database Instances</h4>
<p>Running Database Configuration Assistant (DBCA) defaults to this Automatic Memory Management option. In the case of upgrade or manual database creation, <code>MEMORY_TARGET</code> can be specified in the initialization parameter file.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref374" name="sthref374"></a>
<h4 class="sect3"><span class="secnum">2.2.8</span> Upgrading a Database With Oracle Data Mining (ODM)</h4>
<p>If you upgrade a database with the Data Mining option from 11.2.0.1 to 11.2.0.2, make sure that the <code>DMSYS</code> schema does not exist in your 11.2.0.1 database (reference Bug 9694190). If it does, you should drop the <code>DMSYS</code> schema and its associated objects from the database as follows:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; CONNECT / AS SYSDBA;
SQL&gt; DROP USER DMSYS CASCASE;
SQL&gt; DELETE FROM SYS.EXPPKGACT$ WHERE SCHEMA = 'DMSYS';
SQL&gt; SELECT COUNT(*) FROM DBA_SYNONYMS WHERE TABLE_OWNER = 'DMSYS';
</pre>
<p>If the above SQL returns non-zero rows, create and run a SQL script as shown in the following example:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; SET HEAD OFF
SQL&gt; SPOOL <span class="italic">dir_path</span>/DROP_DMSYS_SYNONYMS.SQL
SQL&gt; SELECT 'Drop public synonym ' ||'"'||SYNONYM_NAME||'";' FROM DBA_SYNONYMS WHERE TABLE_OWNER = 'DMSYS'; 
SQL&gt; SPOOL OFF
SQL&gt; @<span class="italic">dir_path</span>/DROP_DMSYS_SYNONYMS.SQL
SQL&gt; EXIT;
</pre>
<p>If you upgrade a database from 10<span class="italic">g</span> to 11.2, all Data Mining metadata objects are migrated from <code>DMSYS</code> to <code>SYS</code>. After the upgrade, when you determine that there is no need to perform a downgrade, set the initialization parameter <code>COMPATIBLE</code> to 11.2 and drop the <code>DMSYS</code> schema and its associated objects as described above.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref375" name="sthref375"></a>
<h4 class="sect3"><span class="secnum">2.2.9</span> Compatibility with Oracle9<span class="italic">i</span> Database Release 2</h4>
<p>Connecting the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) client or server to Oracle9<span class="italic">i</span> Database release (9.2.0.4 and above) is supported. Similarly, connecting Oracle9<span class="italic">i</span> client (release 9.2.0.4 and above) to Oracle Database 11<span class="italic">g</span> Release 2 (11.2) is supported.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref376" name="sthref376"></a>
<h4 class="sect3"><span class="secnum">2.2.10</span> Enabling Automated Backups</h4>
<p>While installing Oracle Database, the Specify Backup and Recovery Options screen may appear truncated if your system does not have the required fonts installed. If your system has only fixed-width fonts, then you may not be able to fully specify the required information in the Backup Job Credentials area of the screen. To work around this issue, do not select <span class="bold">Enable Automated Backups</span> on this screen. After the installation is complete, use Oracle Enterprise Manager 11<span class="italic">g</span> Database Control to enable automated backups.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref377" name="sthref377"></a>
<h4 class="sect3"><span class="secnum">2.2.11</span> Upgrading a Database With SQL Access Advisor Tasks</h4>
<p>Due to internal structural changes to the SQL Access Advisor repository, a database upgrade resets all of the existing SQL Access Advisor tasks to their initial state. This action effectively deletes all of the recommendation information for tasks that have been successfully completed prior to the upgrade.</p>
<p>After upgrading, the recommendation information can be restored by reexecuting the existing SQL Access Advisor tasks.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref378" name="sthref378"></a>
<h4 class="sect3"><span class="secnum">2.2.12</span> Downgrade to Release 11.1.0.6</h4>
<p>If you anticipate downgrading back to release 11.1.0.6, then apply the patch for Bug 7634119. This action avoids the following <code>DBMS_XS_DATA_SECURITY_EVENTS</code> error:</p>
<pre xml:space="preserve" class="oac_no_warn">PLS-00306: wrong number or types of arguments in call
to 'INVALIDATE_DSD_CACHE' DBMS_XS_DATA_SECURITY_EVENTS
PL/SQL: Statement ignored
</pre>
<p>Apply this patch prior to running <code>catrelod.sql</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref379" name="sthref379"></a>
<h4 class="sect3"><span class="secnum">2.2.13</span> Rolling Upgrade for Oracle Clusterware</h4>
<p>In Oracle Database 11<span class="italic">g</span> Release 2 (11.2), there is a new prerequisite check during the rolling Oracle Clusterware upgrade cycle. On failure of this prerequisite check, the <span class="italic"><a class="olink UPGRD" href="http://www.oracle.com/pls/db112/lookup?id=UPGRD">Oracle Database Upgrade Guide</a></span> documents the following:</p>
<dl>
<dd>When upgrading Oracle Clusterware from Oracle Clusterware 10<span class="italic">g</span> Release 2 (10.2) to Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2), you must first apply the patchset version 10.2.0.3.0 or later to your existing Oracle Clusterware before it can be upgraded.</dd>
</dl>
<p>Follow the rolling upgrade procedure in Appendix F.5.1 of the <a class="olink CWGEN" href="http://www.oracle.com/pls/db112/lookup?id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a>.</p>
<p>Apart from this proposed solution, there is an alternative. You can upgrade all of the nodes of the cluster simultaneously in a non-rolling manner. Choosing this solution voids the 10.2.0.3.0 patchset requirement.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref380" name="sthref380"></a>
<h4 class="sect3"><span class="secnum">2.2.14</span> Upgrading With Objects in the Recycle Bin</h4>
<p>The recycle bin must be empty during an upgrade to avoid possible <code>ORA-00600</code> deadlock errors, as well as to minimize the time required to perform the upgrade (reference Bug 8632581).</p>
<p>To avoid this deadlock, use the <code>PURGE DBA_RECYCLEBIN</code> statement to remove items and their associated objects from the recycle bin and release their storage space prior to upgrading your database.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref381" name="sthref381"></a>
<h4 class="sect3"><span class="secnum">2.2.15</span> Oracle ACFS Registry May Be in an Inconsistent State After Installing or Upgrading to 11.2.0.2.0 or After An Oracle Clusterware Restart</h4>
<p>The <code>ora.acfs.registry</code> resource may be in an inconsistent state after installing or upgrading to 11.2.0.2.0 or after an Oracle Clusterware restart (reference Bug 9878976, Bug 9876173 and Bug 9864447):</p>
<ul>
<li>
<p>After completing a new 11.2.0.2.0 installation, if the voting disk or the Oracle Cluster Registry (OCR) or both are on Oracle ASM, then <code>ora.registry.acfs</code> will have the following values:</p>
<pre xml:space="preserve" class="oac_no_warn">./crsctl status resource ora.registry.acfs 
 NAME=ora.registry.acfs 
 TYPE=ora.registry.acfs.type 
 TARGET=ONLINE, ONLINE 
 STATE=ONLINE, ONLINE
</pre>
<p>(Note that <code>ora.asm</code> will be in <code>STATE ONLINE</code>, <code>TARGET ONLINE</code>.)</p>
<p>However, if the voting disk or the Oracle Cluster Registry (OCR) or both are not on Oracle ASM, then <code>ora.registry.acfs</code> will have the following values:</p>
<pre xml:space="preserve" class="oac_no_warn">./crsctl status resource ora.registry.acfs 
 NAME=ora.registry.acfs 
 TYPE=ora.registry.acfs.type 
 TARGET=ONLINE , ONLINE 
 STATE=OFFLINE, OFFLINE
</pre>
<p>(Note that <code>ora.asm</code> will be in <code>STATE OFFLINE</code>, <code>TARGET OFFLINE</code>.)</p>
</li>
<li>
<p>After completing an upgrade from 11.2.0.1.0 to 11.2.0.2.0, <code>TARGET</code> and <code>STATE</code> for <code>ora.registry.acfs</code> will be set to the value they were in 11.2.0.1.0, prior to upgrading to 11.2.0.2.0.</p>
</li>
<li>
<p>At any time, if Oracle Clusterware is restarted, <code>ora.registry.acfs</code> will have the following values:</p>
<pre xml:space="preserve" class="oac_no_warn">./crsctl status resource ora.registry.acfs 
 NAME=ora.registry.acfs 
 TYPE=ora.registry.acfs.type 
 TARGET=ONLINE , ONLINE 
 STATE=ONLINE, ONLINE
</pre>
<p>(Note that <code>ora.asm</code> will be in <code>STATE ONLINE</code>, <code>TARGET ONLINE</code>.)</p>
</li>
</ul>
<p>It is not necessary to take any action, however, if desired, to disable Oracle ACFS, enter the command <code>acfsroot unregister</code>, which will remove the <code>ora.registry</code> (and <code>ora.drivers</code>) resources completely.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref382" name="sthref382"></a>
<h4 class="sect3"><span class="secnum">2.2.16</span> Oracle ACFS File Systems Must be Manually Dismounted Prior to Upgrade, Deinstallation, or Direct Shutdown of Oracle Clusterware or Oracle ASM</h4>
<p>Oracle ACFS file systems must be manually dismounted prior to upgrade, deinstallation, or direct shutdown of Oracle Clusterware or Oracle ASM. Also, manually dismount non-Oracle ACFS file systems which are running over ADVM. This is also recommended when rebooting the system (reference Bug 8594128, Bug 9547527 and Bug 9777741).</p>
<p>When doing an upgrade, deinstallation, or direct shutdown of Oracle Clusterware or Oracle ASM, to ensure that Oracle Clusterware (or Oracle ASM) comes down cleanly, you must dismount all Oracle ACFS file systems manually prior to Oracle Cluserware shutdown. Use the <code>lsof</code> and <code>fuser</code> commands (Linux and UNIX) or the <code>handle</code> and <code>wmic</code> commands (Windows) to identify processes which are active on the Oracle ACFS file systems. To ensure that these processes are no longer active, dismount all Oracle ACFS file systems and issue Oracle Clusterware shutdown. Otherwise errors may be issued during Oracle Clusterware shutdown relating to activity on Oracle ACFS file systems which will stop the successful shutdown of Oracle Clusterware.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref383" name="sthref383"></a>
<h4 class="sect3"><span class="secnum">2.2.17</span> Data Pump Export Operations Do Not Work if the DMSYS Schema is Not Removed as Part of the Upgrade to 11.2.0.2</h4>
<p>Data Pump Export operations do not work if the <code>DMSYS</code> schema is not removed as part of the upgrade to 11.2.0.2 (reference Bug 10007411). The reported error is similar to the following:</p>
<pre xml:space="preserve" class="oac_no_warn">Processing object type SCHEMA_EXPORT/TABLE/TABLE_DATA 
ORA-39126: Worker unexpected fatal error in 
KUPW$WORKER.GET_TABLE_DATA_OBJECTS [] 
ORA-31642: the following SQL statement fails: 
BEGIN "DMSYS"."DBMS_DM_MODEL_EXP".SCHEMA_CALLOUT(:1,0,1,'10.01.00.05.00'); 
END; 
ORA-06512: at "SYS.DBMS_SYS_ERROR", line 86 
ORA-06512: at "SYS.DBMS_METADATA", line 1245 
ORA-04063: package body "DMSYS.DBMS_DM_MODEL_EXP" has errors 
ORA-06508: PL/SQL: could not find program unit being called:   
"DMSYS.DBMS_DM_MODEL_EXP"
</pre>
<p>The pre-upgrade checks for 11.2.0.2 report the action that should be taken before the upgrade:</p>
<pre xml:space="preserve" class="oac_no_warn">The DMSYS schema exists in the database. Prior to performing an upgrade Oracle recommends that the DMSYS schema, and its associated objects be removed from the database. Refer to the Oracle Data Mining Administration Guide for the instructions on how to perform this task.
</pre>
<p>Until this step is taken, Data Pump Export will not work.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref384" name="sthref384"></a>
<h4 class="sect3"><span class="secnum">2.2.18</span> catrelod.sql Fails if the Time Zone File Version Used by the Database Does Not Exist in Oracle Home</h4>
<p>The following error is returned when <code>catrelod.sql</code> is run as part of the downgrade process if you previously installed a recent version of the time zone file and used the <code>DBMS_DST</code> PL/SQL package to upgrade <code>TIMESTAMP WITH TIME ZONE</code> data to that version (reference Bug 9803834):</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-00600: internal error code, arguments: [qcisSetPlsqlCtx:tzi init], 
 [], [], [], [], [], [], [], [], [], [], [] 
</pre>
<p>See Step 2 of 'Downgrade the Database' in Chapter 6 of the <span class="italic"><a class="olink UPGRD12556" href="http://www.oracle.com/pls/db112/lookup?id=UPGRD12556">Oracle Database Upgrade Guide</a></span> for more details.</p>
<p>If you previously installed a recent version of the time zone file and used the <code>DBMS_DST</code> PL/SQL package to upgrade <code>TIMESTAMP WITH TIME ZONE</code> data to that version, then you must install the same version of the time zone file in the release to which you are downgrading. For example, the latest time zone files that are supplied with Oracle Database 11<span class="italic">g</span> Release 2 (11.2) are version 14. If, after the database upgrade, you had used <code>DBMS_DST</code> to upgrade the <code>TIMESTAMP WITH TIME ZONE</code> data to version 14, then install the version 14 time zone file in the release to which you are downgrading. This ensures that your <code>TIMESTAMP WITH TIME ZONE</code> data is not logically corrupted during retrieval. To find which version your database is using, query <code>V$TIMEZONE_FILE</code>.</p>
<p>Also see the <span class="italic"><a class="olink NLSPG" href="http://www.oracle.com/pls/db112/lookup?id=NLSPG">Oracle Database Globalization Support Guide</a></span> for more information on installing time zone files.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref385" name="sthref385"></a>
<h4 class="sect3"><span class="secnum">2.2.19</span> Error Downgrading from 11.2.0.2 to 10.2.0.5</h4>
<p>During 10.2.0.5 downgrade from 11.2.0.2, <code>catrelod.sql</code> fails with the following internal error (reference Bug 9975586):</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-00600: internal error code, arguments: [17069]
</pre>
<p>To workaround this problem, add the following to the initialization parameter file:</p>
<pre xml:space="preserve" class="oac_no_warn">event='logon trace name kra_options level 7'
</pre>
<p>If using <code>spfile</code>, issue the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">alter system set event='logon trace name kra_options level 7' scope=spfile;
</pre>
<p>Restart the instance and continue running the downgrade script. After downgrade, remove the event from the initialization parameter file.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABGIGDC" name="BABGIGDC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.3</span> Features Not Available or Restricted in 11.2.0.2</h3>
<p>The following is a list of components that are not available or are restricted in this release of Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2):</p>
<ul>
<li>
<p>Patching from DB Control is deprecated and no longer available.</p>
</li>
<li>
<p>Oracle Database release 11.2.0.1 upgrade to 11.2.0.2 clusterware is not supported if the 11.2.0.1 Oracle Grid Infrastructure for a cluster is installed in a non-shared Oracle home and 11.2.0.2 Oracle Grid Infrastructure for a cluster is installed in a shared Oracle home (reference Bug 10074804). Both 11.2.0.1 and 11.2.0.2 should be installed in either a shared or non-shared Oracle home.</p>
</li>
<li>
<p>All Oracle Grid Infrastructure patch set upgrades must be out-of-place upgrades, in which case you install the patch set into a new Oracle Grid home (reference Bug 10210246). In-place patch set upgrades are not supported.</p>
</li>
<li>
<p>Database Smart Flash Cache is supported on Solaris and Oracle Linux only.</p>
</li>
<li>
<p>Using Internet Protocol Version 6 (IPv6) is not supported with the following:</p>
<ul>
<li>
<p>Oracle RAC and Oracle Clusterware</p>
</li>
<li>
<p>Oracle Fail Safe</p>
</li>
</ul>
</li>
<li>
<p>Oracle Ultra Search has been desupported and is not shipping with Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
</li>
<li>
<p>Downgrading from Oracle Database 11<span class="italic">g</span> Release 2 (11.2) to release 10.2.0.3 or release 10.2.0.4 is not supported with Oracle Database Vault.</p>
</li>
<li>
<p>Oracle Automatic Storage Management Cluster File System (Oracle ACFS) resources are not supported for Oracle Restart configurations on all platforms. Oracle ACFS drivers must be manually unloaded and loaded; Oracle ACFS file systems must be manually unmounted and mounted (after the Oracle ASM instance is running); Oracle ACFS database home file systems can be placed into the Oracle ACFS mount registry to be mounted along with other registered Oracle ACFS file systems.</p>
</li>
<li>
<p>Oracle ACFS Replication is not supported in Oracle Restart.</p>
</li>
<li>
<p>Refer to <a href="#BABDEGBH">Section 2.11.1</a> for globalization restrictions within Oracle Secure Backup.</p>
</li>
<li>
<p>Refer to <a href="#CHDBEDHF">Section 2.15</a> for features that are no longer available in Oracle Data Mining.</p>
</li>
</ul>
<p>The following sections discuss additional restrictions.</p>
<div class="sect3"><a id="sthref386" name="sthref386"></a>
<h4 class="sect3"><span class="secnum">2.3.1</span> Database Object Names</h4>
<p>Oracle does not recommend using quoted identifiers for database object names. These quoted identifiers are accepted by SQL*Plus, but they may not be valid when using other tools that manage database objects.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDJFIFH" name="CHDJFIFH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.4</span> Default Behavior Changes</h3>
<p>This section describes some of the differences in behavior between Oracle Database 11<span class="italic">g</span> Release 2 (11.2) and previous releases. The majority of the information about upgrading and downgrading is already included in the <span class="italic"><a class="olink UPGRD" href="http://www.oracle.com/pls/db112/lookup?id=UPGRD">Oracle Database Upgrade Guide</a></span>.</p>
<div class="sect3"><a id="sthref387" name="sthref387"></a>
<h4 class="sect3"><span class="secnum">2.4.1</span> Direct Insert Behavior Change</h4>
<p>Direct insert requires memory for every partition loaded. The memory usage is even greater if the partitions are compressed. In previous releases, a direct insert would continue to allocate memory as rows were encountered for previously untouched partitions until all of the partitions were loaded or until it ran out of memory. In this case, the insert fails.</p>
<p>Starting in Oracle Database 11<span class="italic">g</span> Release 2 (11.2), direct insert limits the memory that is allocated. If direct insert reaches the limit and it acquires rows for partitions that have not been loaded during the insert, then direct load stores those rows in the temporary tablespace. Once all rows have been passed in, direct load will load the rows it stored in the temporary tablespace.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref388" name="sthref388"></a>
<h4 class="sect3"><span class="secnum">2.4.2</span> Audit Default Behavior Changes</h4>
<p>Default Audit behavior changes include:</p>
<ul>
<li>
<p>Audit filename is now prefixed with the instance name and ends with a sequence number. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">instanceName_ora_pid_seqNumber</span>.aud / <span class="italic">instanceName_ora_pid_seqNumber</span>.xml
</pre></li>
<li>
<p>An existing audit file is never appended to. If an audit file already exists, the sequence number is incremented and written to <code><span class="codeinlineitalic">instanceName_ora_pid_seqNumber+1</span></code><code>.aud</code>.</p>
</li>
<li>
<p>There is a preconfigured threshold for audit file growth. The audit file associated with an active session remains open until one of the following limits is reached:</p>
<ul>
<li>
<p>After the audit record is written, the audit file size becomes 10 megabytes or more.</p>
</li>
<li>
<p>After the audit record is written, the audit file age becomes 5 days or more.</p>
</li>
</ul>
<p>Once one of these thresholds is reached, a new audit file with an incremented sequence number is opened for further audit records.</p>
</li>
<li>
<p>There are no updates to <code>AUD$</code> anymore.</p>
<ul>
<li>
<p>All logoff (action# 101) audit records are written separately.</p>
</li>
<li>
<p>If an event is audited <code>BY SESSION</code>, then every occurrence of the event becomes a new audit record in <code>AUD$</code>.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABHDAJD" name="BABHDAJD"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.4.3</span> FILE_ACCESS_ROLE Default Behavior Change</h4>
<p>The default behavior of the CTX system parameter <code>FILE_ACCESS_ROLE</code> has changed (reference Bug 8360111). Customers with existing Oracle Text indexes that use the file or URL datastore must take action to continue to use the indexes without error. The changes are as follows:</p>
<ul>
<li>
<p>If <code>FILE_ACCESS_ROLE</code> is null (the default), then access is not allowed. By default, users who were previously able to create indexes of this type will not be able to create these indexes after the change.</p>
</li>
<li>
<p><code>FILE_ACCESS_ROLE</code> is now checked for index synchronization and document service operations. By default, users will not be able to synchronize indexes of this type or use document service calls such as <code>ctx_doc.highlight</code> who were allowed to prior to this change.</p>
</li>
<li>
<p>Only SYS will be allowed to modify <code>FILE_ACCESS_ROLE</code>. Calling <code>ctx_adm.set_parameter (FILE_ACESS_ROLE,</code> <code><span class="codeinlineitalic">role_name</span></code><code>)</code> as a user other than SYS will now raise the new error:</p>
<pre xml:space="preserve" class="oac_no_warn">DRG-10764: only SYS can modify FILE_ACCESS_ROLE
</pre></li>
<li>
<p>Users can set <code>FILE_ACCESS_ROLE</code> to <code>PUBLIC</code> to explicitly disable this check (which was the previous default behavior).</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref389" name="sthref389"></a>
<h4 class="sect3"><span class="secnum">2.4.4</span> Support for Raw Devices</h4>
<p>Oracle Universal Installer (OUI) and Database Configuration Assistant (DBCA) do not support raw devices (or block devices on Linux). However, command-line utilities such as SQL*Plus and CRSCTL do support raw or block devices.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref390" name="sthref390"></a>
<h4 class="sect3"><span class="secnum">2.4.5</span> Oracle Clusterware and Oracle ASM Installed Into Oracle Grid Infrastructure for a Cluster Home</h4>
<p>Oracle Clusterware and Automatic Storage Management (Oracle ASM) are installed into a single Oracle home called the <code><span class="codeinlineitalic">Grid_home</span></code>. This installation is referred to as the Oracle Grid Infrastructure for a cluster installation.</p>
<p>When upgrading, you must upgrade both Oracle Clusterware and Oracle ASM at the same time.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref391" name="sthref391"></a>
<h4 class="sect3"><span class="secnum">2.4.6</span> Deprecated Parameters in the Oracle ASM Instance</h4>
<p>The following initialization parameters are deprecated in the Oracle ASM instance:</p>
<ul>
<li>
<p><code>CLUSTER_DATABASE</code> parameter</p>
<p>If the <code>INSTANCE_TYPE</code> is Oracle ASM and the Oracle RAC option is turned on, then you do not have to specify the <code>CLUSTER_DATABASE</code> parameter. In this case, the <code>CLUSTER_DATABASE</code> parameter defaults to <code>TRUE</code>.</p>
</li>
<li>
<p><code>COMPATIBLE</code> parameter</p>
<p>Do not set the <code>COMPATIBLE</code> parameter in an Oracle ASM instance. To advance the disk group compatibility, change the <code>COMPATIBLE.[RDBMS|ASM|ADVM]</code> attributes of the disk group.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref392" name="sthref392"></a>
<h4 class="sect3"><span class="secnum">2.4.7</span> Fixed Views</h4>
<p>All parameter views (for example, <code>V$PARAMETER</code>) in the Oracle ASM instance only report parameters that are relevant to the Oracle ASM instance.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref393" name="sthref393"></a>
<h4 class="sect3"><span class="secnum">2.4.8</span> Offset for CLOB and NCLOB APIs</h4>
<p>Starting with Oracle Database 10<span class="italic">g</span> Release 1 (10.1), APIs that write to a <code>CLOB</code> or <code>NCLOB</code> cause error <code>ORA-22831</code> when the offset specified for the beginning of the write is not on a character boundary of the existing <code>LOB</code> data.</p>
<p><code>LOB</code> APIs use UCS2 codepoint semantics for the amount and offset parameters on <code>CLOBs</code> or <code>NCLOBs</code> when the database default or national character set is multibyte. The specified offset is not on a character boundary if it points to the low (second) surrogate of a surrogate pair. In such situations, error <code>ORA-22831</code> occurs and the data is not written. Thus, this prevents the corruption of the character in the target <code>LOB</code>.</p>
<p>Contact Oracle Support Services to configure the database so that it does not return <code>ORA-22831</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref394" name="sthref394"></a>
<h4 class="sect3"><span class="secnum">2.4.9</span> Use of the Append Hint Runs Out of Memory When Loading Many Partitions</h4>
<p>Use of direct-path <code>INSERT</code> to load a large number of partitions can exceed memory limits, especially when data compression is specified (reference Bug 6749894). Starting in 11.2, the number of partitions loaded at the same time will be limited, based on the <code>PGA_AGGREGATE_TARGET</code> initialization parameter, to preserve memory. Rows that are not stored in the partitions that are currently being loaded are saved in the temporary tablespace. After all rows are loaded for the current set of partitions, other partitions are loaded from rows that are saved in the temporary tablespace.</p>
<p>This behavior helps prevent the direct-path <code>INSERT</code> from terminating because of insufficient memory.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref395" name="sthref395"></a>
<h4 class="sect3"><span class="secnum">2.4.10</span> Non-Uniform Memory Access Optimizations and Support Disabled in 11.2</h4>
<p>With Oracle Database 11<span class="italic">g</span> Release 2 (11.2), non-uniform memory access support is disabled by default. This restriction applies to all platforms and operating systems (reference Bug 8450932).</p>
<p>Non-uniform memory access optimizations and support in the Oracle Database are only available for specific combinations of Oracle version, operating systems, and platforms. Work with Oracle Support Services and your hardware vendor to enable non-uniform memory access support.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref396" name="sthref396"></a>
<h4 class="sect3"><span class="secnum">2.4.11</span> View Changes for Advanced Compression</h4>
<p>The <code>COMPRESS_FOR</code> column in various table views, such as <code>user_tables</code> and <code>dba_tables</code>, returns different values in 11.2 as compared to 11.1. The new values returned from a <code>COMPRESS_FOR</code> column are <code>BASIC</code> or <code>OLTP</code>. In 11.1, the value was <code>DIRECT LOAD ONLY</code> and <code>FOR ALL OPERATIONS</code>, respectively.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIABFECA" name="CIABFECA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.5</span> Automatic Storage Management</h3>
<p>The following sections describe information pertinent to Automatic Storage Management (Oracle ASM) in Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
<div class="sect3"><a id="sthref397" name="sthref397"></a>
<h4 class="sect3"><span class="secnum">2.5.1</span> Oracle Database Data Files and Oracle ACFS</h4>
<p>Oracle ACFS is the preferred file manager for non-database files. It is optimized for general purpose files. Oracle ACFS does not support any file that can be directly stored in Oracle ASM.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref398" name="sthref398"></a>
<h4 class="sect3"><span class="secnum">2.5.2</span> Oracle Homes on Oracle ACFS Supported Starting With Release 11.2</h4>
<p>Placing Oracle homes on Oracle ACFS is supported starting with Oracle Database release 11.2 (reference Bug 10144982). Oracle ACFS can result in unexpected and inconsistent behavior if you attempt to place Oracle homes on Oracle ACFS on database versions prior to 11.2.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref399" name="sthref399"></a>
<h3 class="sect2"><span class="secnum">2.6</span> Downgrading a Database Having Database Control Configured</h3>
<p>Consider the following when downgrading the database while having DB Control configured (reference Bug 9922349):</p>
<ol>
<li>
<p>If you are upgrading from 11.2.0.1 to 11.2.0.2 and then plan to downgrade to 11.2.0.1, you need to apply the following patches in order to downgrade DB Control as part of the database downgrade:</p>
<ul>
<li>
<p>11.2.0.1 PSU2 bundle</p>
</li>
<li>
<p>One-off patch for Bug 8795792</p>
</li>
<li>
<p>One-off patch for Bug 10013976</p>
</li>
</ul>
<p>Without these patches, the <code>emdwgrd</code> utility would fail with <code>IMPORT</code> (<code>impdp</code>) errors when restoring DB Control data.</p>
</li>
<li>
<p>When running <code>emdwgrd</code> on 11.2.0.1 Oracle RAC databases, you may need to pass an additional parameter, <code>-serviceAlias</code>, if you do not have system identifier (SID) aliases defined in <code>tnsnames.ora</code>. This is also needed for single instance if SID and database names are different. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">emdwgrd -save [-cluster] -sid SID [-serviceAlias tns_alias] -path save_directory 
emdwgrd -restore -tempTablespace TEMP [-cluster] -sid SID [-serviceAlias tns_alias] -path save_directory 
</pre></li>
<li>
<p>In the case of in-place downgrade from 11.2.0.2 to 11.2.0.1 using the same Oracle home, you do not need to run <code>emca -restore</code> before running <code>emdwngrd -restore</code>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABDCGJB" name="BABDCGJB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.7</span> Oracle Enterprise Manager Database Control</h3>
<p>The following sections describe information for Database Control in Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
<div class="sect3"><a id="sthref400" name="sthref400"></a>
<h4 class="sect3"><span class="secnum">2.7.1</span> Reorganize Objects</h4>
<p>The following applies to Reorganize Objects:</p>
<ul>
<li>
<p>The database can be adversely affected if metadata changes occur between the time the reorganization script is generated and the time it is completed.</p>
</li>
<li>
<p>The database can be adversely affected if an offline reorganization is attempted while DDL is in progress against the tables being reorganized.</p>
</li>
<li>
<p>Before using the Reorganize Objects wizard or the Make Tablespace Locally Managed wizard in Oracle Enterprise Manager, Oracle recommends that you back up your database.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref401" name="sthref401"></a>
<h4 class="sect3"><span class="secnum">2.7.2</span> Editing Multiple Objects</h4>
<p>Oracle Enterprise Manager only supports having one browser window open for editing an object. For example, Oracle Enterprise Manager only supports editing one tablespace at a time.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If a window is read-only, then you may have multiple browser windows open.</div>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref402" name="sthref402"></a>
<h4 class="sect3"><span class="secnum">2.7.3</span> Large Number of Database Objects May Require Increase in Heap Size</h4>
<p>Oracle Enterprise Manager DB Control is configured with 192 MB (32-Bit)/384 MB (64-Bit) of heap memory. However, certain Oracle Enterprise Manager DB Control functionality (for example, Change Manager) may require higher memory settings if the database contains a large number of objects.</p>
<p>Memory settings can be increased using the following <code>emctl</code> command:</p>
<pre xml:space="preserve" class="oac_no_warn">emctl config dbconsole -heap_size <span class="italic">MemorySizeValue</span> M
</pre>
<p>Oracle Enterprise Manager DB Control must be restarted for the new settings to take effect.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref403" name="sthref403"></a>
<h4 class="sect3"><span class="secnum">2.7.4</span> New Oracle Database 11<span class="italic">g</span> Release 2 Features Supported by Oracle Enterprise Manager DB Control 11.2 Only</h4>
<p>Management support for new features available with Oracle Database 11g Release 2 (11.2.0.2), such as Oracle RAC One Node Database and Oracle Database QoS Management, is available in Oracle Enterprise Manager DB Control 11.2.0.2 only.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCHFGG" name="CHDCHFGG"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.8</span> Database Security</h3>
<p>Note the following changes in Database Security.</p>
<div class="sect3"><a id="sthref404" name="sthref404"></a>
<h4 class="sect3"><span class="secnum">2.8.1</span> Configure and Use SSL Certificates to Setup Authentication</h4>
<div class="infoboxnote">
<p class="notep1">Note:</p>
This affects the security in the connection between the Oracle Clusterware and the mid-tier or JDBC client.</div>
<p>JDBC or Oracle Universal Connection Pool's (UCP) Oracle RAC features like Fast Connection Failover (FCF) subscribe to notifications from the Oracle Notification Service (ONS) running on the Oracle RAC nodes. The connections between the ONS server in the database tier and the notification client in the mid-tier are usually not authenticated. It is possible to configure and use SSL certificates to setup the authentication but the steps are not clearly documented.</p>
<p>The workaround is as follows:</p>
<ol>
<li>
<p>Create an Oracle Wallet to store the SSL certificate using the <code>orapki</code> interface:</p>
<ol>
<li>
<p><code>cd $ORA_CRS_HOME/opmn/conf</code></p>
</li>
<li>
<p><code>mkdir sslwallet</code></p>
</li>
<li>
<p><code>orapki wallet create -wallet sslwallet -auto_login</code></p>
<p>When prompted, provide <code>ONS_Wallet</code> as the password.</p>
</li>
<li>
<p><code>orapki wallet add -wallet sslwallet -dn "CN=ons_test,C=US" -keysize 1024 -self_signed -validity 9999 -pwd ONS_Wallet</code></p>
</li>
<li>
<p><code>orapki wallet export -wallet sslwallet -dn "CN=ons_test,C=US" -cert sslwallet/cert.txt -pwd ONS_Wallet</code></p>
</li>
</ol>
</li>
<li>
<p>Update the ONS configuration file on all nodes in the database tier to specify the location of the wallet created in Step 1:</p>
<ol>
<li>
<p>Open the file <code><span class="codeinlineitalic">ORA_CRS_HOME</span></code><code>/opmn/conf/ons.config</code></p>
</li>
<li>
<p>Add the <code>walletfile</code> parameter to the <code>ons.config</code> file:</p>
<p><code>walletfile=</code><code><span class="codeinlineitalic">ORA_CRS_HOME</span></code><code>/opmn/conf/sslwallet</code></p>
</li>
<li>
<p>Restart the ONS servers with the <code>srvctl</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl stop nodeapps
srvctl start nodeapps
</pre></li>
</ol>
</li>
<li>
<p>If you are running a client-side ONS daemon on the mid-tier, there are two possible configurations:</p>
<ul>
<li>
<p>ONS started from OPMN (like in OracleAS 10.1.3.<span class="italic">x</span>) which uses <code>opmn.xml</code> for its configuration.</p>
</li>
<li>
<p>ONS started standalone (like using <code>onsctl</code>), which uses <code>ons.config</code> for its configuration.</p>
</li>
</ul>
<p>For case (1), refer to the <span class="italic">OPMN Administrator's Guide</span> for the Oracle Application Server release. This involves modifying the <code>opmn.xml</code> file to specify the wallet location.</p>
<p>For case (2), refer to the section titled <span class="italic">Configuration of ONS</span> in <span class="italic">Appendix B</span> of the <span class="italic"><a class="olink JJDBC" href="http://www.oracle.com/pls/db112/lookup?id=JJDBC">Oracle Database JDBC Developer's Guide</a></span> to modify the ons.config file to specify the wallet location created in Step 1.</p>
</li>
<li>
<p>If you are running remote ONS configuration without a client-side ONS daemon, refer to the "Remote ONS Subscription" subsection of the "Configuring ONS for Fast Connection Failover" subsection of the "Using Fast Connection Failover" section of the "Fast Connection Failover" chapter in the <span class="italic"><a class="olink JJDBC" href="http://www.oracle.com/pls/db112/lookup?id=JJDBC">Oracle Database JDBC Developer's Guide</a></span>.</p>
<p>Alternatively, you can specify the following string as the <code>setONSConfiguration</code> argument:</p>
<pre xml:space="preserve" class="oac_no_warn">propertiesfile=<span class="italic">location_of_a_Java_properties_file</span>
</pre>
<p>The Java properties file should contain one or more of the ONS Java properties listed below, but at least the <code>oracle.ons.nodes</code> property. The values for these Java properties would be similar to those specified in the "Remote ONS Subscription" subsection previously noted in this step:</p>
<pre xml:space="preserve" class="oac_no_warn">oracle.ons.nodes
oracle.ons.walletfile
oracle.ons.walletpassword
</pre></li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBFFGD" name="BABBFFGD"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.9</span> Encryption and Integrity</h3>
<p>Note the following changes in the areas of encryption and integrity.</p>
<div class="sect3"><a id="sthref405" name="sthref405"></a>
<h4 class="sect3"><span class="secnum">2.9.1</span> Encrypted Tablespaces</h4>
<ul>
<li>
<p>You cannot encrypt an existing tablespace with an <code>ALTER TABLESPACE</code> statement. However, you can use Data Pump or SQL statements such as <code>CREATE TABLE AS SELECT</code> or <code>ALTER TABLE MOVE</code> to move existing table data into an encrypted tablespace.</p>
</li>
<li>
<p>When recovering a database with encrypted tablespaces (for example, after a <code>SHUTDOWN ABORT</code> or a catastrophic error that brings down the database instance), you must open the wallet after database mount and before database open so the recovery process can decrypt data blocks and redo.</p>
</li>
<li>
<p>The master encryption key for Transparent Data Encryption (TDE) tablespace encryption can leverage Hardware Security Modules (HSM) for full key management (for example, create, store, rotate, and retire). In 11.1.0.7, it was only possible to create and store the TDE tablespace encryption master key in HSM, not rotate. Master key for the TDE tablespace encryption can also be migrated from Oracle Wallet to HSM.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCCIEF" name="CHDCCIEF"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.10</span> Java and Web Services</h3>
<p>Note the following items when working with Java.</p>
<a id="BABEBIAA" name="BABEBIAA"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.10.1</span> Oracle JVM</h4>
<p>Oracle Database 11<span class="italic">g</span> Release 2 (11.2) includes a fully functional Java Virtual Machine (JVM), as well as the Java class libraries for Sun's Java Development Kit (JDK) 5.0. When combined with Oracle's JDBC and SQLJ, this release provides an enterprise class platform, Oracle JVM, for developing and deploying server-based Java applications. Refer to the Oracle JVM Readme file located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/relnotes/readmes/README_javavm.txt
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref406" name="sthref406"></a>
<h4 class="sect3"><span class="secnum">2.10.2</span> Announcing Oracle Universal Connection Pool (UCP) and Deprecation of JDBC Implicit Connection Cache in Favor of UCP</h4>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 1 (11.1.0.7), Oracle has released the new Universal Connection Pool for JDBC. For more details, see the <span class="italic">Oracle Universal Connection Pool for JDBC Developer's Guide</span> at the following Web page:</p>
<p><code><a href="http://www.oracle.com/technology/tech/java/sqlj_jdbc/UCP_dev_guide.pdf">http://www.oracle.com/technology/tech/java/sqlj_jdbc/UCP_dev_guide.pdf</a></code></p>
<p>Consequently, Oracle is deprecating the existing JDBC connection pool (that is, Implicit Connection Cache) that was introduced in Oracle Database 10<span class="italic">g</span> Release 1. Your applications will continue to work until formal desupport in a future release at which time a desupport notice will be posted.</p>
<p>Oracle encourages you to plan to adopt UCP for new applications and plan to change existing applications as indicated in <span class="italic">Transitioning to Oracle Universal Connection Pool (UCP)</span> at the following Web page:</p>
<p><code><a href="http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/ucp_transition_guide.pdf">http://www.oracle.com/technology/tech/java/sqlj_jdbc/pdf/ucp_transition_guide.pdf</a></code></p>
<p>UCP download and code samples are located at the following Web page:</p>
<p><code><a href="http://www.oracle.com/technology/software/tech/java/sqlj_jdbc/htdocs/ucp.html">http://www.oracle.com/technology/software/tech/java/sqlj_jdbc/htdocs/ucp.html</a></code></p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref407" name="sthref407"></a>
<h4 class="sect3"><span class="secnum">2.10.3</span> JDBC</h4>
<p>The Oracle JDBC product supports the latest Java/JDBC standards. For more details, refer to the JDBC Readme file located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/relnotes/readmes/README_jdbc.txt
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref408" name="sthref408"></a>
<h4 class="sect3"><span class="secnum">2.10.4</span> Web Services</h4>
<p>As an alternative to Oracle Net, Oracle Database Web services provides nonconnected access to the database through standard Web services mechanisms. These include XML, SOAP, and WSDL, and can turn the database into a Web services provider. Similarly, the database itself can act as a Web service consumer and run external Web services. Important features of Web services include:</p>
<ul>
<li>
<p>A JAX-RPC based SOAP Client library supports invocation of external Web services from within the database, and applies the power of SQL to the results.</p>
</li>
<li>
<p><span class="bold">Web Services Call-In:</span> Deploying a JPublisher-generated Java class against Oracle Application Server 10<span class="italic">g</span> enables you to run database operations such as Java and PL/SQL procedures and packages, SQL queries, and DML operations.</p>
</li>
<li>
<p><span class="bold">Web Services Call-Out:</span> Deploying a JPublisher-generated Web services client from a WSDL and its PL/SQL wrapper supports invocation of external Web services from within the database.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFBBED" name="CHDFBBED"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.11</span> Media Management Software</h3>
<p>For environments that consist of a single server, Oracle offers Oracle Secure Backup Express to back up your Oracle Database and other critical Oracle infrastructure to tape. Oracle Secure Backup is fully integrated with Recovery Manager (RMAN) to provide data protection services. For larger environments, Oracle Secure Backup is available as a separately licensable product to back up many database servers and file systems to tape. Oracle Secure Backup release 10.3 is shipping with this Oracle Database 11<span class="italic">g</span> Release 2 (11.2). For more information on Oracle Secure Backup, refer to</p>
<p><code><a href="http://www.otn.oracle.com/products/secure-backup/index.html">http://www.otn.oracle.com/products/secure-backup/index.html</a></code></p>
<a id="BABDEGBH" name="BABDEGBH"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.11.1</span> Globalization Restrictions Within Oracle Secure Backup</h4>
<p>The following globalization restrictions apply to Oracle Secure Backup:</p>
<ul>
<li>
<p>The Oracle Secure Backup Web Tool and command line interface are available in English only, and are not globalized. All messages and documentation are in English.</p>
</li>
<li>
<p>Oracle Secure Backup does not support file names or RMAN backup names that are encoded in character sets that do not support null byte termination, such as Unicode UTF-16. Note that this restriction affects file names, not backup contents. Oracle Secure Backup can back up Oracle databases in any character set.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACEJDCB" name="CACEJDCB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.12</span> Oracle Application Express</h3>
<p>Note the following items when working with Oracle Application Express.</p>
<p>To learn more about Oracle Application Express, refer to the <span class="italic"><a class="olink HTMRN" href="../../relnotes.112/e11944/toc.htm">Oracle Application Express Release Notes</a></span> and the <span class="italic"><a class="olink HTMIG" href="../../install.112/e12196/toc.htm">Oracle Application Express Installation Guide</a>.</span></p>
<a id="BGBBFCGI" name="BGBBFCGI"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.12.1</span> Checking for the Most Current Release</h4>
<p>Oracle Application Express is released more frequently than Oracle Database. To view additional information about the most current release, refer to:</p>
<pre xml:space="preserve" class="oac_no_warn"><a href="http://www.otn.oracle.com/products/database/application_express/">http://www.otn.oracle.com/products/database/application_express/</a>
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref409" name="sthref409"></a>
<h4 class="sect3"><span class="secnum">2.12.2</span> Configuring Oracle HTTP Server</h4>
<p>When configuring Oracle HTTP Server for Oracle Application Express in a new installation, the database user <code>APEX_PUBLIC_USER</code> must be an unlocked account. To unlock the account for database user <code>APEX_PUBLIC_USER</code>, complete the following:</p>
<ol>
<li>
<p>Start SQL*Plus and connect as <code>SYS</code> to the database where Oracle Application Express is installed. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">$ <span class="italic">ORACLE_HOME</span>/bin/sqlplus
SQL&gt; CONNECT SYS as SYSDBA
Enter password: SYS_<span class="italic">password</span>
</pre></li>
<li>
<p>Run the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; ALTER USER APEX_PUBLIC_USER ACCOUNT UNLOCK
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref410" name="sthref410"></a>
<h4 class="sect3"><span class="secnum">2.12.3</span> Database Compatible Parameter and Enabling Network Services</h4>
<p>To run the examples in the Oracle Application Express Post-Installation tasks in the section titled "Enabling Network Services in Oracle Database 11<span class="italic">g</span>" in the <span class="italic"><a class="olink GINST" href="http://www.oracle.com/pls/db112/lookup?id=GINST">Oracle Database Installation Guide</a></span>, the <code>COMPATIBLE</code> initialization parameter of the database must be set to at least 11.1.0.0.0. By default, an Oracle Database 11<span class="italic">g</span> database will already have the parameter set properly, but a database upgraded to 11<span class="italic">g</span> from a prior version may not.</p>
<p>Refer to the section titled "Creating and Configuring an Oracle Database" in the <span class="italic"><a class="olink ADMIN" href="http://www.oracle.com/pls/db112/lookup?id=ADMIN">Oracle Database Administrator's Guide</a></span> for information about changing database initialization parameters.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACFHBGH" name="CACFHBGH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.13</span> Oracle Client Applications</h3>
<p>Oracle Client 11<span class="italic">g</span> contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended that you turn on full dumps; this can greatly speed the resolution of issues. Enable full dumps by adding the following line to the <code>sqlnet.ora</code> file that is used by your Oracle client installation:</p>
<pre xml:space="preserve" class="oac_no_warn">DIAG_RESTRICTED=false
</pre>
<p>To verify that diagnosability features are working correctly, take the following steps:</p>
<ol>
<li>
<p>Upgrade your application to use Oracle Database 11<span class="italic">g</span> client libraries.</p>
</li>
<li>
<p>Start your application.</p>
</li>
<li>
<p>Check the file <code>sqlnet.log</code> in your application's <code>TNS_ADMIN</code> directory for error messages indicating that diagnosability could not be started (normally this is due to invalid directory names or permissions).</p>
</li>
</ol>
<p>Refer to the <a class="olink LNOCI" href="http://www.oracle.com/pls/db112/lookup?id=LNOCI"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for details.</p>
</div>
<!-- class="sect2" -->
<a id="BABEDIIJ" name="BABEDIIJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.14</span> Oracle Configuration Manager</h3>
<p>Note the following for Oracle Configuration Manager.</p>
<div class="sect3"><a id="sthref411" name="sthref411"></a>
<h4 class="sect3"><span class="secnum">2.14.1</span> cron Configuration Issue</h4>
<p>If you are denied access to <code>cron</code>, then the configuration of Oracle Configuration Manager fails with the following error:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/ccr/bin/setupCCR
** Installing base package **
Deploying core - Version 10.2.5.0.0
Error encountered in package deployment.
</pre>
<p>After the installation is complete, set the environment variable <code>CCR_DISABLE_CRON_ENTRY</code> to <code>TRUE</code> and try the configuration of Oracle Configuration Manager again using the following command:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/ccr/bin/setupCCR
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDBEDHF" name="CHDBEDHF"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.15</span> Oracle Data Mining</h3>
<p>Oracle Data Mining scoring functions in Oracle Database 11<span class="italic">g</span> Release 2 are also available in Oracle Exadata Storage Server Software. Scoring capabilities in the storage layer permit very large data sets to be mined quickly, thus further increasing the competitive advantage already gained from Oracle in-database analytics. For information about Oracle Exadata Storage Server Software, see <code><a href="http://www.oracle.com/technology/products/bi/db/exadata/index.html">http://www.oracle.com/technology/products/bi/db/exadata/index.html</a></code>.</p>
<p>The Data Mining Option, as an embedded feature of the database, is automatically installed with the Oracle Enterprise Edition Database. When installing the database with the Data Mining Option, choose the Data Warehouse configuration type for the most appropriate default initialization parameters.</p>
<p>In Oracle Database 11<span class="italic">g</span>, Data Mining models are implemented as data dictionary objects in the <code>SYS</code> schema. The <code>DMSYS</code> schema no longer exists.</p>
<p>Data Mining users must have the <code>CREATE MINING MODEL</code> privilege to create mining models in their own schema. Additional privileges are required for other data mining activities, as described in the <span class="italic"><a class="olink DMADM004" href="http://www.oracle.com/pls/db112/lookup?id=DMADM004">Oracle Data Mining Administrator's Guide</a></span>.</p>
<p>New data dictionary views for Oracle Data Mining were introduced in Oracle Database 11<span class="italic">g</span> Release 1 (11.1):</p>
<ul>
<li>
<p><code>USER/ALL/DBA_MINING_MODELS</code></p>
</li>
<li>
<p><code>USER/ALL/DBA_MINING_MODEL_ATTRIBUTES</code></p>
</li>
<li>
<p><code>USER/ALL/DBA_MINING_MODEL_SETTINGS</code></p>
</li>
</ul>
<p>Demo programs that illustrate the Data Mining APIs (PL/SQL and Java) are installed with Oracle Database Examples. Instructions are in the <span class="italic"><a class="olink DMADM009" href="http://www.oracle.com/pls/db112/lookup?id=DMADM009">Oracle Data Mining Administrator's Guide</a></span>.</p>
<p>The Oracle Data Mining Scoring Engine Option, a separately installed database option in Oracle Database 10<span class="italic">g</span>, is not available in Oracle Database 11<span class="italic">g</span>. All functionality of the Data Mining Scoring Engine Option is offered in the Data Mining Option.</p>
<p>The Basic Local Alignment Search Tool (BLAST), previously supported by Oracle Data Mining, is not available in Oracle 11<span class="italic">g</span>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDBDACH" name="CHDBDACH"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.16</span> Oracle Internet Directory</h3>
<p>The Oracle Internet Directory product ships only with Oracle Application Server, not the Oracle Database 11<span class="italic">g</span> Release 1 (11.1) product set. The following information is included because Oracle Network functionality may use Oracle Internet Directory. Many of the administrative activities for Oracle Internet Directory have been consolidated into a single tool, Oracle Internet Directory Configuration Assistant (OIDCA). OIDCA should be used with Enterprise User Security and Network Names features under these conditions:</p>
<ol>
<li>
<p>Enterprise User Security</p>
<ul>
<li>
<p>Enterprise User Security only works with Identity Management Realms in this release. You must convert Oracle Contexts used in prior releases to Identity Management Realms using the OIDCA tool.</p>
</li>
<li>
<p>Use OIDCA when creating or updating the <code>ldap.ora</code> configuration file for discovering the Oracle Internet Directory server in the environment. When created with OIDCA, <code>ldap.ora</code> is located in the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/ldap/admin</code> directory on Linux and UNIX operating systems and in the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>\ldap\admin</code> directory on Windows operating systems.</p>
</li>
</ul>
</li>
<li>
<p>Network Names</p>
<ul>
<li>
<p>Use OIDCA when creating, upgrading, and deleting Oracle Contexts.</p>
</li>
<li>
<p>Use OIDCA when converting an Oracle Context from an earlier release to an Identity Management Realm.</p>
</li>
<li>
<p>Use OIDCA when setting up the <code>ldap.ora</code> configuration file for discovering the Oracle Internet Directory server in the environment.</p>
</li>
</ul>
</li>
</ol>
<p>Note the following items when working with Oracle Internet Directory.</p>
<div class="sect3"><a id="sthref412" name="sthref412"></a>
<h4 class="sect3"><span class="secnum">2.16.1</span> Using the Oracle Internet Directory Configuration Assistant</h4>
<p>The Oracle Internet Directory Configuration Assistant (OIDCA) enables you to create, upgrade, and delete an Oracle Context, configure the file <code>ldap.ora</code>, and convert an Oracle Context to an Identity Management Realm.</p>
<p>The OIDCA syntax is:</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span> 
      nonsslport=<span class="italic">port</span> |
      sslport=<span class="italic">SSL Port</span>
      dn=<span class="italic">binddn</span> 
      pwd=<span class="italic">bindpwd</span> 
      propfile=<span class="italic">properties file</span>
</pre>
<p>To see the usage of OIDCA, enter <code>oidca -help</code> at the command prompt.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref413" name="sthref413"></a>
<h4 class="sect3"><span class="secnum">2.16.2</span> Creating an Oracle Context</h4>
<p>The following syntax is used to create an Oracle Context in OIDCA; the parameters are described in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=SSL Port
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=CREATECTX 
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="24%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t24">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t24">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t24" headers="r1c1-t24"><code>oidhost</code></td>
<td align="left" headers="r2c1-t24 r1c2-t24">OID server host; if not specified, default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t24" headers="r1c1-t24"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t24 r1c2-t24">OID server port; if not specified, default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t24" headers="r1c1-t24"><code>sslport</code></td>
<td align="left" headers="r4c1-t24 r1c2-t24">OID SSL port; if not specified, default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t24" headers="r1c1-t24"><code>dn</code></td>
<td align="left" headers="r5c1-t24 r1c2-t24">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t24" headers="r1c1-t24"><code>pwd</code></td>
<td align="left" headers="r6c1-t24 r1c2-t24">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t24" headers="r1c1-t24"><code>mode</code></td>
<td align="left" headers="r7c1-t24 r1c2-t24">Mode of the OIDCA; set to <code>CREATECTX</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t24" headers="r1c1-t24"><code>contextdn</code></td>
<td align="left" headers="r8c1-t24 r1c2-t24">DN under which <code>OracleContext</code> must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>contextdn</code> must exist for this operation to be successful.</p>
</li>
<li>
<p>This valid DN should not exist in OID: <code>"cn=oraclecontext,dc=acme, dc=com"</code>.</p>
</li>
<li>
<p>This valid DN must exist in OID: <code>"dc=acme,dc=com"</code>.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed as a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref414" name="sthref414"></a>Functionality</p>
<ol>
<li>
<p>The OIDCA verifies that <code>contextdn</code> has a valid DN syntax and that the entry exists in Oracle Internet Directory. Note that the OIDCA cannot create a root <code>OracleContext</code> explicitly. If there is no root Oracle Context, then OIDCA exits with an error.</p>
</li>
<li>
<p>If DN exists, then OIDCA verifies that the Oracle Context already exists.</p>
<ul>
<li>
<p>If the Oracle Context already exists and is up-to-date, then OIDCA exits with the message <code>Oracle Context already exists and is up to date</code>.</p>
</li>
<li>
<p>If the Oracle Context already exists, but it is an older version, then OIDCA exits with the message <code>Oracle Context already exists and is of an older version</code>.</p>
</li>
<li>
<p>If the Oracle Context does not exist, then OIDCA creates the Oracle Context under this DN.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref415" name="sthref415"></a>
<h4 class="sect3"><span class="secnum">2.16.3</span> Upgrading an Oracle Context</h4>
<p>To upgrade an <code>OracleContext</code> instance, use the following syntax; the parameters are listed in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span> 
      sslport=<span class="italic">SSL Port</span> 
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=UPGRADECTX
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="24%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t25">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t25">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t25" headers="r1c1-t25"><code>oidhost</code></td>
<td align="left" headers="r2c1-t25 r1c2-t25">OID server host; if not specified, default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t25" headers="r1c1-t25"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t25 r1c2-t25">OID server port; if not specified, default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t25" headers="r1c1-t25"><code>sslport</code></td>
<td align="left" headers="r4c1-t25 r1c2-t25">OID SSL port; if not specified, default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t25" headers="r1c1-t25"><code>dn</code></td>
<td align="left" headers="r5c1-t25 r1c2-t25">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t25" headers="r1c1-t25"><code>pwd</code></td>
<td align="left" headers="r6c1-t25 r1c2-t25">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t25" headers="r1c1-t25"><code>mode</code></td>
<td align="left" headers="r7c1-t25 r1c2-t25">Mode of the OIDCA; always set to <code>UPGRADECTX</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t25" headers="r1c1-t25"><code>contextdn</code></td>
<td align="left" headers="r8c1-t25 r1c2-t25">DN under which <code>OracleContext</code> must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>contextdn</code> must contain an <code>OracleContext</code> for this operation to be successful.</p>
</li>
<li>
<p>The DNs <code>"cn=oraclecontext</code>,<code>dc=acme,dc=com"</code> and <code>"dc=acme,dc=com"</code> are both valid.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed as a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using a non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref416" name="sthref416"></a>Functionality</p>
<ol>
<li>
<p>OIDCA verifies that the <code>contextdn</code> has valid DN syntax and that <code>OracleContext</code> exists in Oracle Internet Directory. OIDCA cannot upgrade a root <code>OracleContext</code> explicitly. If there is no root <code>OracleContext</code>, then OIDCA sends an error message.</p>
</li>
<li>
<p>If <code>OracleContext</code> exists under <code>contextdn</code>,</p>
<ul>
<li>
<p>The OIDCA checks if the <code>OracleContext</code> belongs to a realm, in which case it exits with the appropriate message. Note that <code>OracleContext</code> instances that belong to a realm cannot be upgraded.</p>
</li>
<li>
<p>The OIDCA verifies that the <code>OracleContext</code> is up-to-date, then exits with the message <code>Oracle Context already exists and is up to date</code>.</p>
</li>
<li>
<p>If the <code>OracleContext</code> is not up-to-date, then the OIDCA upgrades the <code>OracleContext</code> under this DN.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref417" name="sthref417"></a>
<h4 class="sect3"><span class="secnum">2.16.4</span> Deleting an Oracle Context</h4>
<p>To delete an <code>OracleContext</code>, use the following syntax; the parameters are listed in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=<span class="italic">SSL Port</span>
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=DELETECTX
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="22%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t26">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t26">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t26" headers="r1c1-t26"><code>oidhost</code></td>
<td align="left" headers="r2c1-t26 r1c2-t26">OID server host; if not specified, default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t26" headers="r1c1-t26"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t26 r1c2-t26">OID server port; if not specified, default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t26" headers="r1c1-t26"><code>sslport</code></td>
<td align="left" headers="r4c1-t26 r1c2-t26">OID SSL port; if not specified, default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t26" headers="r1c1-t26"><code>dn</code></td>
<td align="left" headers="r5c1-t26 r1c2-t26">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t26" headers="r1c1-t26"><code>pwd</code></td>
<td align="left" headers="r6c1-t26 r1c2-t26">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t26" headers="r1c1-t26"><code>mode</code></td>
<td align="left" headers="r7c1-t26 r1c2-t26">Mode of the OIDCA; always set to <code>DELETECTX</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t26" headers="r1c1-t26"><code>contextdn</code></td>
<td align="left" headers="r8c1-t26 r1c2-t26">DN under which OracleContext must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>contextdn</code> must contain an <code>OracleContext</code> for this operation to be successful.</p>
</li>
<li>
<p>The DNs <code>"cn=oraclecontext,</code> <code>dc=acme,dc=com"</code> and <code>"dc=acme,dc=com"</code> are both valid.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed as a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using a non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref418" name="sthref418"></a>Functionality</p>
<ol>
<li>
<p>OIDCA verifies that the <code>contextdn</code> has valid DN syntax and that <code>OracleContext</code> exists in Oracle Internet Directory.</p>
</li>
<li>
<p>If <code>OracleContext</code> exists under <code>contextdn</code>,</p>
<ul>
<li>
<p>The OIDCA checks if the <code>OracleContext</code> belongs to a realm, in which case it exits with the appropriate message. Note that <code>OracleContext</code> instances that belong to a realm cannot be deleted.</p>
</li>
<li>
<p>If <code>OracleContext</code> does not belong to a realm, then OIDCA deletes it.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref419" name="sthref419"></a>
<h4 class="sect3"><span class="secnum">2.16.5</span> Configuring the File ldap.ora</h4>
<p>To configure the file <code>ldap.ora</code>, use the following syntax; the parameters are listed in the subsequent table.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=<span class="italic">SSL Port</span>
      adminctx=<span class="italic">Administrative context</span>
      mode=LDAPORA  
      dirtype=OID<span class="italic"> or </span>AD
      -update
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="26%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t27">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t27">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t27" headers="r1c1-t27"><code>oidhost</code></td>
<td align="left" headers="r2c1-t27 r1c2-t27">OID server host; if not specified, default is <code>localhost</code>.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t27" headers="r1c1-t27"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t27 r1c2-t27">OID server port; determined using discovery APIs.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t27" headers="r1c1-t27"><code>sslport</code></td>
<td align="left" headers="r4c1-t27 r1c2-t27">OID SSL port; determined using discovery APIs.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t27" headers="r1c1-t27"><code>mode</code></td>
<td align="left" headers="r5c1-t27 r1c2-t27">Mode of the OIDCA; always set to <code>LDAPORA</code>.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t27" headers="r1c1-t27"><code>dirtype</code></td>
<td align="left" headers="r6c1-t27 r1c2-t27">Directory type; possible values are <code>OID</code> and <code>AD</code>; mandatory attribute.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t27" headers="r1c1-t27"><code>adminctx</code></td>
<td align="left" headers="r7c1-t27 r1c2-t27">Default administrative context, such as <code>dc=acme,dc=com</code>. If not specified, then determined using discovery.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t27" headers="r1c1-t27"><code>-update</code></td>
<td align="left" headers="r8c1-t27 r1c2-t27">If this flag is specified, then overwrite existing <code>ldap.ora</code>; if not, then create <code>ldap.ora</code> only if it does not already exist.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>Either the non-SSL or the SSL port must be specified. The other port is discovered.</p>
</li>
<li>
<p>The parameters <code>mode</code>, <code>dirtype</code>, and <code>adminctx</code> can also be passed in within a properties file.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref420" name="sthref420"></a>Functionality</p>
<ol>
<li>
<p>Using the Discovery API, the OIDCA determines all the parameters not specified on the command line.</p>
</li>
<li>
<p>The OIDCA checks for the <code>ldap.ora</code> location using Discovery APIs.</p>
<ul>
<li>
<p>If <code>ldap.ora</code> exists and the <code>-update</code> parameter is not specified, then exit with message <code>ldap.ora exists</code>.</p>
</li>
<li>
<p>If <code>ldap.ora</code> exists and the <code>-update</code> parameter is not specified, then update the existing <code>ldap.ora</code> using Discovery API.</p>
</li>
<li>
<p>If <code>ldap.ora</code> does not exist, then create a new <code>ldap.ora</code> file in a location in the following order:</p>
<pre xml:space="preserve" class="oac_no_warn">LDAP_ADMIN
<span class="italic">ORACLE_HOME</span>/ldap/admin
</pre></li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref421" name="sthref421"></a>
<h4 class="sect3"><span class="secnum">2.16.6</span> Converting an Oracle Context to an Identity Management Realm</h4>
<p>Oracle Database 10<span class="italic">g</span> entries must be stored in Oracle Internet Directory release 9.0.4 server. An Identity Management Realm release 9.0.4 is also required for Enterprise User Security, a feature of the Oracle Database 10<span class="italic">g</span>.</p>
<p>To convert an existing <code>OracleContext</code> to an Identity Management Realm, use the following syntax. The parameters are listed in the subsequent table. Note that the root of the <code>OracleContext</code> object is not converted.</p>
<pre xml:space="preserve" class="oac_no_warn">oidca oidhost=<span class="italic">host</span>
      nonsslport=<span class="italic">port</span>
      sslport=<span class="italic">SSL Port</span>
      dn=<span class="italic">binddn</span>
      pwd=<span class="italic">bindpwd</span>
      mode=CTXTOIMR
      contextdn=<span class="italic">OracleContext DN</span>
</pre>
<div class="inftblinformal">
<table class="Informal" title="Properties" summary="Properties of OIDCA; first column contains the properties, the second column describes the properties." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="26%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t28">Parameters</th>
<th align="left" valign="bottom" id="r1c2-t28">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t28" headers="r1c1-t28"><code>oidhost</code></td>
<td align="left" headers="r2c1-t28 r1c2-t28">OID server host; default is <code>localhost</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t28" headers="r1c1-t28"><code>nonsslport</code></td>
<td align="left" headers="r3c1-t28 r1c2-t28">OID server port; default is <code>389</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t28" headers="r1c1-t28"><code>sslport</code></td>
<td align="left" headers="r4c1-t28 r1c2-t28">OID SSL port; default is <code>636</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t28" headers="r1c1-t28"><code>dn</code></td>
<td align="left" headers="r5c1-t28 r1c2-t28">OID user, such as <code>cn=orcladmin</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t28" headers="r1c1-t28"><code>pwd</code></td>
<td align="left" headers="r6c1-t28 r1c2-t28">OID user password</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t28" headers="r1c1-t28"><code>mode</code></td>
<td align="left" headers="r7c1-t28 r1c2-t28">Mode of the OIDCA; always set to <code>CTXTOIMR</code></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t28" headers="r1c1-t28"><code>contextdn</code></td>
<td align="left" headers="r8c1-t28 r1c2-t28">DN under which <code>OracleContext</code> must be created, such as <code>dc=acme</code>, <code>dc=com</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Note the following points:</p>
<ul>
<li>
<p>The <code>OracleContext</code> must exist under the specified <code>contextdn</code>.</p>
</li>
<li>
<p>The DNs <code>"cn=oraclecontext</code>, <code>dc=acme,dc=com"</code> and <code>"dc=acme, dc=com"</code> are both valid.</p>
</li>
<li>
<p>The parameters <code>mode</code> and <code>contextdn</code> can also be passed in a properties file.</p>
</li>
<li>
<p>Specify the parameter <code>nonsslport=port</code> if you want to perform the operation using a non-SSL mode.</p>
</li>
<li>
<p>Specify the parameter <code>sslport=sslport</code> if you want to perform the operation using SSL mode.</p>
</li>
<li>
<p>Either the <code>nonsslport</code> or the <code>sslport</code> parameter must be specified, but not both.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref422" name="sthref422"></a>Functionality</p>
<ol>
<li>
<p>The OIDCA checks if <code>contextdn</code> has valid DN syntax, and if it contains a valid <code>OracleContext</code>.</p>
</li>
<li>
<p>If <code>OracleContext</code> exists under <code>contextdn,</code></p>
<ul>
<li>
<p>The OIDCA checks if the <code>OracleContext</code> belongs to a realm. If it does, then it exits with an appropriate error message.</p>
</li>
<li>
<p>If <code>OracleContext</code> does not belong to a realm, then OIDCA upgrades it to the latest version, and converts it to a realm.</p>
</li>
</ul>
</li>
</ol>
<p>Note also:</p>
<ul>
<li>
<p>If the nickname attribute is not <code>cn</code>, then configure it as a user configuration attribute using the Oracle Internet Directory Self-Service Console.</p>
</li>
<li>
<p>If you want to use the Oracle Internet Directory Self-Service Console to manage the users and groups in the converted realm, then you must set up the administrative privileges appropriately. For details, refer to the <span class="italic"><a class="olink OIDAG" href="http://www.oracle.com/pls/db112/lookup?id=OIDAG">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</a></span>.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCFBIH" name="CHDCFBIH"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.17</span> Oracle Multimedia</h3>
<p>The name Oracle <span class="italic">inter</span>Media was changed to Oracle Multimedia in Oracle Database 11<span class="italic">g</span> Release 1 (11.1). The feature remains the same, only the name has changed. References to Oracle <span class="italic">inter</span>Media were replaced with Oracle Multimedia, however some references to Oracle <span class="italic">inter</span>Media or <span class="italic">inter</span>Media may still appear in graphical user interfaces, code examples, and related documents in the Oracle Database documentation library for 11<span class="italic">g</span> Release 2 (11.2).</p>
<p>With Oracle Database 11<span class="italic">g</span> Release 2 (11.2), the Oracle Multimedia DICOM feature has been made available in Oracle Database Standard Edition. It was previously only available in Oracle Database Enterprise Edition.</p>
<p>For additional information, refer to the Oracle Multimedia Readme file located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/ord/im/admin/README.txt
</pre></div>
<!-- class="sect2" -->
<a id="CIACBBDJ" name="CIACBBDJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.18</span> Oracle Net Services</h3>
<p>Oracle Database provides limited support for Internet Protocol Version 6 (IPv6) addressing and connectivity. For details, see <span class="italic"><a class="olink NETAG500" href="http://www.oracle.com/pls/db112/lookup?id=NETAG500">Oracle Database Net Services Administrator's Guide</a></span>.</p>
</div>
<!-- class="sect2" -->
<a id="BABEGECC" name="BABEGECC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.19</span> Oracle Real Application Clusters</h3>
<p>Note the following items when working with Oracle RAC.</p>
<div class="sect3"><a id="sthref423" name="sthref423"></a>
<h4 class="sect3"><span class="secnum">2.19.1</span> Moving ORADISM to Local Nodes from NFS on an Oracle Home</h4>
<p>If you install an Oracle RAC database into a shared Oracle home on an NFS device, then you must copy the ORADISM binary (<code>oradism</code>) into a local directory on each node (reference Bug 7210614).</p>
<p>It is possible to install Oracle Clusterware and Oracle RAC on NFS without encountering this problem. Refer to the <span class="italic"><a class="olink CWLIN" href="../../install.112/e17212/toc.htm">Oracle Grid Infrastructure Installation Guide for Linux</a></span> for more information.</p>
<p>To move <code>oradism</code>, take the following steps:</p>
<ol>
<li>
<p>Copy the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/bin/oradism</code> binary to an identical directory path on all cluster nodes. The path (for example, <code>/u01/local/bin</code> in the example in Step 2) must be local and not NFS. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">cp -a <span class="italic">ORACLE_HOME</span>/bin/oradism /u01/local/bin
</pre></li>
<li>
<p>Run the following commands, as the root user, to set ownership and permissions of the <code>oradism</code> executable:</p>
<pre xml:space="preserve" class="oac_no_warn">$ chown root /u01/local/bin/oradism
$ chmod 4750 /u01/local/bin/oradism
</pre></li>
<li>
<p>Create a symbolic link from the NFS shared home to the local <code>oradism</code> directory path. This needs to be done from one node only. Each node can then reference its own <code>oradism</code> using the <code>symlink</code> from the shared Oracle home. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">$ cd /nfs/app/oracle/product/11.2.0/db_1/bin
$ rm -f oradism
$ ln -s /u01/local/bin/oradism oradism
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref424" name="sthref424"></a>
<h4 class="sect3"><span class="secnum">2.19.2</span> Creating Server Pools</h4>
<p>Create an initial, user-defined server pool immediately after the Oracle Grid Infrastructure for a cluster installation if you plan to use a policy-managed Oracle RAC database. As the Grid software owner, use the following SRVCTL command located in the path <code><span class="codeinlineitalic">Grid_home</span></code><code>/bin</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl add srvpool -g <span class="italic">srvpool_name</span> -u <span class="italic">max</span>
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref425" name="sthref425"></a>
<h4 class="sect3"><span class="secnum">2.19.3</span> Using the Same Cluster for Administrator-Managed and Policy-Managed Databases</h4>
<p>If you are creating an administrator-managed database on a cluster that already hosts policy-managed databases, then you must carefully select the nodes for the administrator-managed database (reference Bug 10027250). This is because the nodes that you select for an administrator-managed database that are in policy-managed server pools will be moved into the Generic server pool as part of this process. If you select nodes that already run other policy-managed database instances, then DBCA prompts you with a message that lists the instances and services that will be shut down when DBCA creates the administrator-managed database. If you select the <code>Yes</code> button on the dialog box when DBCA asks "<code>Do you want to continue?</code>," then your policy-managed database instances and services will be shut down as a result of the administrator-managed database creation process.</p>
<p>Note: This is also true if you use the <code>srvctl add instance</code> command, which gives a similar error message indicating that the databases would be shut down. If you also use the force option (<code>-f</code>) with the <code>srvctl add instance</code> command, then this is the same as choosing <code>Yes</code> on the DBCA dialog. Doing this shuts down any policy-managed databases that are running on the node before moving the node into the Generic server pool.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref426" name="sthref426"></a>
<h4 class="sect3"><span class="secnum">2.19.4</span> Adding a Node in a Cluster</h4>
<p>When adding a node in a cluster running a policy-managed database, Oracle Clusterware tries to start the new instance before the cloning procedure completes. The following steps should be used to add the node:</p>
<ol>
<li>
<p>Run <code>addNode</code> for the Oracle Grid Infrastructure for a cluster to add the new node. Do not run the root scripts when prompted; you will run them later.</p>
</li>
<li>
<p>Install the Oracle RAC database software using a software-only installation. Ensure Oracle is linked with the Oracle RAC option.</p>
</li>
<li>
<p>Complete the root script actions for the Database home.</p>
</li>
<li>
<p>Complete the root scripts action for the Oracle Clusterware home and then finish the installation.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACCIEID" name="CACCIEID"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.20</span> Oracle Grid Infrastructure for a Cluster</h3>
<p>Note the following items when working with Oracle Clusterware and Automatic Storage Management (Oracle ASM), which are installed with an Oracle Grid Infrastructure for a cluster installation.</p>
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref427" name="sthref427"></a>
<h4 class="sect3"><span class="secnum">2.20.1</span> In-Place Patch Set Upgrades Are Not Supported</h4>
<p>All Oracle Grid Infrastructure patch set upgrades must be out-of-place upgrades, in which case you install the patch set into a new Oracle Grid home (reference Bug 10210246). In-place patch set upgrades are not supported.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref428" name="sthref428"></a>
<h4 class="sect3"><span class="secnum">2.20.2</span> Changing Host Names</h4>
<p>Avoid changing host names after you complete the Oracle Grid Infrastructure for a cluster installation. Nodes with changed host names must be deleted from the cluster and added back with the new name.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref429" name="sthref429"></a>
<h4 class="sect3"><span class="secnum">2.20.3</span> Oracle ACFS and Oracle Clusterware Stack Shut Down</h4>
<p>When attempting to shut down Oracle Clusterware, the Oracle Clusterware stack may report that it did not successfully stop on selected nodes (reference Bug 8651848). If the database home is on Oracle ACFS, then you may receive the following error:</p>
<pre xml:space="preserve" class="oac_no_warn">CRS-5014: Agent orarootagent.bin timed out starting process acfsmount for action
</pre>
<p>This error can be ignored.</p>
<p>Alternatively, the Oracle Clusterware stack may report that it did not successfully stop on selected nodes due to the inability to shut down the Oracle ACFS resources. If this occurs, take the following steps:</p>
<ul>
<li>
<p>Ensure that all file system activity to Oracle ACFS mount points is quiesced by shutting down programs or processes and retry the shutdown.</p>
</li>
<li>
<p>If your Oracle ACFS resources report a state of <code>UNKNOWN</code>, remove files named <code>*_check</code> from the system <code>temp</code> directory and retry the stack shutdown.</p>
</li>
<li>
<p>If the <code>ora.registry.acfs</code> resource check function times out, or the resource exhibits a state of <code>UNKNOWN</code> or <code>INTERMEDIATE</code>, then this may indicate an inability to access the Oracle Cluster Registry (OCR). The most common cause of this is a network failure. The commands <code>acfsutil registry</code> and <code>ocrcheck</code> may give you a better indicator of the specific error. Clear this error and attempt to stop Oracle Clusterware again.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIAHHGFJ" name="CIAHHGFJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.21</span> Oracle Real Application Testing</h3>
<p>The following sections describe Oracle Real Application Testing issues.</p>
<div class="sect3"><a id="sthref430" name="sthref430"></a>
<h4 class="sect3"><span class="secnum">2.21.1</span> Reading SQL Trace Files to Construct a SQL Tuning Set</h4>
<p>Oracle Database supports the added functionality to read SQL trace files from Oracle Database 9<span class="italic">i</span> to construct a SQL tuning set that can be used as an input source for SQL Performance Analyzer. After being constructed, you can use SQL Performance Analyzer to execute the SQL tuning set on Oracle Database 10<span class="italic">g</span> Release 2 remotely over a database link. This functionality is provided so that you can use the Oracle Real Application Testing option to test the effect on SQL response time of a database upgrade from Oracle Database 9<span class="italic">i</span> to Oracle Database 10<span class="italic">g</span> Release 2. For details, refer to the <span class="italic"><a class="olink RATAD" href="http://www.oracle.com/pls/db112/lookup?id=RATAD">Oracle Database Real Application Testing Addendum</a></span>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABJJCHA" name="BABJJCHA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.22</span> Oracle ODBC Driver</h3>
<p>The Oracle ODBC Driver Readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/odbc/html/ODBCRelnotesUS.htm 
</pre></div>
<!-- class="sect2" -->
<a id="CIAEEFAF" name="CIAEEFAF"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.23</span> Oracle OLAP</h3>
<p>Consider the following when working with Oracle OLAP:</p>
<ol>
<li>
<p>SQL Aggregation Management is a group of PL/SQL subprograms in <code>DBMS_CUBE</code> that support the rapid deployment of cube materialized views from existing relational materialized views. Cube materialized views are cubes that have been enhanced to use the automatic refresh and query rewrite features of Oracle Database. A single cube materialized view can replace many of the relational materialized views of summaries on a fact table, providing uniform response time to all summary data.</p>
<p>In the process of creating the cube materialized views, <code>DBMS_CUBE</code> also creates a fully functional analytic workspace including a cube and the cube dimensions. The cube stores the data for a cube materialized view, instead of the table that stores the data for a relational materialized view. A cube can also support a wide range of analytic functions that enhance the database with information-rich content.</p>
</li>
<li>
<p>Enhanced logging capabilities are provided through the new PL/SQL package <code>DBMS_CUBE_LOG</code> that offers four different logs. Both Analytic Workspace Manager users and database administrators can view the progress of an analytic workspace build in <code>CUBE_BUILD_LOG</code>, find load errors in <code>CUBE_REJECTED_RECORDS</code>, check the validity of dimension hierarchies in <code>CUBE_DIMENSION_COMPILE</code>, and follow OLAP engine events in <code>CUBE_OPERATIONS_LOG</code>.</p>
</li>
<li>
<p>The OLAP Option, as an embedded feature of the database, is automatically installed with the Oracle Enterprise Edition Database. When installing the database with the OLAP Option, choose the Data Warehouse configuration type for the most appropriate default initialization parameters.</p>
</li>
<li>
<p>Analytic Workspace Manager 11.2.0 should be used when running Oracle Database 11<span class="italic">g</span> Release 2 in either Oracle Database 10<span class="italic">g</span> or Oracle Database 11<span class="italic">g</span> compatibility modes. An Oracle Database 10<span class="italic">g</span> format analytic workspace may be created by choosing the Oracle Database 10<span class="italic">g</span> cube type when creating a new analytic workspace.</p>
</li>
<li>
<p>OLAP 10<span class="italic">g</span> clients connecting to 10<span class="italic">g</span> style analytic workspaces in an Oracle Database 11<span class="italic">g</span> Release 2 database instance should upgrade their Java to version 1.5, as well as upgrade their OLAP API version to 11.2.0.</p>
</li>
<li>
<p>Oracle Business Intelligence Beans 10<span class="italic">g</span> and Oracle Discoverer for OLAP 10<span class="italic">g</span> can be used with 10<span class="italic">g</span> format analytic workspaces in Oracle Database 11<span class="italic">g</span>. They cannot be used with 11<span class="italic">g</span> format analytic workspaces. To upgrade the OLAP API client JARs, include these new JARs in the Java class search list before the Intelligence Beans or Discoverer JAR files or both.</p>
</li>
<li>
<p>The OLAPSYS schema and the CWM metadata contained within the schema are deprecated in Oracle Database 11<span class="italic">g</span> Release 2. The OLAP API can still query relational tables (ROLAP mode) using data dictionary metadata. For more information, refer to My Oracle Support Tech Note 445311.1.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABDAHAC" name="BABDAHAC"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.24</span> Oracle Spatial</h3>
<p>The Oracle Spatial readme file supplements the information in the following manuals: <span class="italic"><a class="olink SPATL" href="http://www.oracle.com/pls/db112/lookup?id=SPATL">Oracle Spatial Developer's Guide</a></span>, <span class="italic"><a class="olink TOPOL" href="http://www.oracle.com/pls/db112/lookup?id=TOPOL">Oracle Spatial Topology and Network Data Models Developer's Guide</a></span>, and <span class="italic"><a class="olink GEORS" href="http://www.oracle.com/pls/db112/lookup?id=GEORS">Oracle Spatial GeoRaster Developer's Guide</a></span>. The Oracle Spatial readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/md/doc/README.txt
</pre></div>
<!-- class="sect2" -->
<a id="BABDDCCJ" name="BABDDCCJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.25</span> Oracle SQL Developer</h3>
<p>The Oracle SQL Developer readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/sqldeveloper/readme.html
</pre></div>
<!-- class="sect2" -->
<a id="CACIBCIJ" name="CACIBCIJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.26</span> Oracle Text</h3>
<p>Note the following items when working with Oracle Text. You should also check entries for the <span class="italic"><a class="olink CCAPP" href="http://www.oracle.com/pls/db112/lookup?id=CCAPP">Oracle Text Application Developer's Guide</a></span> in the Documentation Addendum.</p>
<div class="sect3"><a id="sthref431" name="sthref431"></a>
<h4 class="sect3"><span class="secnum">2.26.1</span> Query Compatible Syntax Values</h4>
<p>Chapter 6, titled "CTX_CLS Package", in the <span class="italic"><a class="olink CCREF" href="http://www.oracle.com/pls/db112/lookup?id=CCREF">Oracle Text Reference</a></span> states under the section titled "Query Compatible Syntax" that the <code><span class="codeinlineitalic">doc_id</span></code> column is a number. This is correct; however, the values stored in this column must be in the range <code>0-4294967295</code>. The values must be stored in an unsigned 32-bit value. This range also pertains to <code>catid</code>, <code>catdocid</code>, and <code>rescatid</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref432" name="sthref432"></a>
<h4 class="sect3"><span class="secnum">2.26.2</span> Oracle Text Supplied Knowledge Bases</h4>
<p>An Oracle Text knowledge base is a hierarchical tree of concepts used for theme indexing, <code>ABOUT</code> queries, and deriving themes for document services. The following Oracle Text services require that a knowledge base be installed:</p>
<ul>
<li>
<p>Index creation using a <code>BASIC_LEXER</code> preference where <code>INDEX_THEMES=YES</code></p>
</li>
<li>
<p><code>SYNC</code>ing of an index where <code>INDEX_THEMES=YES</code></p>
</li>
<li>
<p><code>CTX_DOC.THEME</code>s</p>
</li>
<li>
<p><code>CTX_DOC.POLICY_THEME</code>s</p>
</li>
<li>
<p><code>CTX_DOC.GIST</code></p>
</li>
<li>
<p><code>CTX_DOC.POLICY_GIST</code></p>
</li>
<li>
<p><code>CTX_QUERY.HFEEDBACK</code></p>
</li>
<li>
<p><code>CTX_QUERY.EXPLAIN</code>, if using <code>ABOUT</code> or <code>THEMES</code> with <code>TRANSFORM</code></p>
</li>
<li>
<p><code>CTX_DOC.SNIPPET</code> (if using the <code>ABOUT</code> operator)</p>
</li>
<li>
<p><code>CTX_DOC.POLICY_SNIPPET</code> (if using the <code>ABOUT</code> operator)</p>
</li>
<li>
<p><code>CONTAINS</code> queries that use <code>ABOUT</code> or <code>THEMES</code> with <code>TRANSFORM</code></p>
</li>
<li>
<p>The Knowledge Base Extension Compiler, <code>ctxkbtc</code></p>
</li>
<li>
<p>Clustering and classification services, if themes are specified</p>
</li>
</ul>
<p>If you plan to use any of these Oracle Text features, then you should install the supplied knowledge bases, English and French, from the Oracle Database Examples media, available for download on OTN.</p>
<p>Note that you can extend the supplied knowledge bases, or create your own knowledge bases, possibly in languages other than English and French. For more information about creating and extending knowledge bases, refer to the <span class="italic"><a class="olink CCREF" href="http://www.oracle.com/pls/db112/lookup?id=CCREF">Oracle Text Reference</a></span>.</p>
<p>For information about how to install products from the Oracle Database Examples media, refer to the <span class="italic"><a class="olink EXMPL" href="http://www.oracle.com/pls/db112/lookup?id=EXMPL">Oracle Database Examples Installation Guide</a></span> that is specific to your platform.</p>
<p class="subhead2"><a id="sthref433" name="sthref433"></a>Supplied Knowledge Bases and Upgrades</p>
<p>Because the supplied knowledge bases are contained on the Oracle Database Examples media, they are not immediately available after an upgrade to Oracle Database 11<span class="italic">g</span> Release 1 (11.1). Oracle Text features that depend on the supplied knowledge bases available before the upgrade will not function after the upgrade, so you must install the supplied knowledge bases from the Oracle Database Examples media.</p>
<p>After an upgrade, you must regenerate all user extensions to the supplied knowledge bases. These changes affect all databases installed in the given <code><span class="codeinlineitalic">ORACLE_HOME</span></code>.</p>
<p>For more information on upgrading Oracle Text and supplied knowledge bases, refer to the <span class="italic"><a class="olink UPGRD" href="http://www.oracle.com/pls/db112/lookup?id=UPGRD">Oracle Database Upgrade Guide</a></span>, Chapter 4, "After Upgrading a Database", section "Upgrading Oracle Text". The <span class="italic"><a class="olink CCAPP" href="http://www.oracle.com/pls/db112/lookup?id=CCAPP">Oracle Text Application Developer's Guide</a></span> contains both general instructions for upgrading from previous releases of Oracle Text and information on supplied knowledge bases.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref434" name="sthref434"></a>
<h4 class="sect3"><span class="secnum">2.26.3</span> Document Filtering Support</h4>
<p>Starting with version 11.1.0.7, Oracle Text uses Oracle Outside In HTML Export for document filtering instead of filtering technology licensed from Autonomy, Inc. With the migration to Oracle Outside In HTML Export, several document formats are no longer supported. Refer to Appendix B of the <a class="olink CCREF" href="http://www.oracle.com/pls/db112/lookup?id=CCREF"><span class="italic">Oracle Text Reference</span></a> for a complete list of filter-supported document formats as well as for a list of formats that are no longer supported in 11.1.0.7.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBFCCH" name="BABBFCCH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.27</span> Oracle Ultra Search</h3>
<p>Oracle Ultra Search has been desupported and is not shipping with Oracle Database 11<span class="italic">g</span> Release 2 (11.2). In March of 2006, Oracle launched Oracle Secure Enterprise Search (SES). Oracle SES is a faster and more secure product built on the technologies originally developed for Ultra Search. Customers using Ultra Search are strongly recommended to migrate to Oracle SES.</p>
<div class="infoboxnote">
<p class="notep1">See Also:</p>
The Oracle Secure Enterprise Search page on the Oracle Technology Network at:
<p><code><a href="http://www.oracle.com/technology/products/oses/index.html">http://www.oracle.com/technology/products/oses/index.html</a></code></p>
</div>
</div>
<!-- class="sect2" -->
<a id="BABGFAAE" name="BABGFAAE"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.28</span> Oracle Warehouse Builder</h3>
<p>For additional information about Oracle Warehouse Builder (OWB) in Oracle Database 11<span class="italic">g</span> Release 2 (11.2), refer to the <span class="italic"><a class="olink WBREL" href="../../relnotes.112/e10585/toc.htm">Oracle Warehouse Builder Release Notes</a>.</span></p>
</div>
<!-- class="sect2" -->
<a id="BABDAIED" name="BABDAIED"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.29</span> Oracle Workflow</h3>
<p>Oracle Workflow is not shipping with Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
</div>
<!-- class="sect2" -->
<a id="BABIHIJB" name="BABIHIJB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.30</span> Oracle XML DB</h3>
<p>The following features are not supported with Oracle XML DB:</p>
<ul>
<li>
<p>Flashback Archive</p>
</li>
<li>
<p>Editioning Views</p>
</li>
<li>
<p>Exadata Hybrid Columnar Compression (EHCC)</p>
</li>
<li>
<p>SecureFiles LOB Encryption</p>
</li>
<li>
<p>Oracle Label Security (OLS) with a hybrid structured and unstructured XMLIndex on the same XML document.</p>
</li>
</ul>
<div class="sect3"><a id="sthref435" name="sthref435"></a>
<h4 class="sect3"><span class="secnum">2.30.1</span> Change in Semantics of xdb:defaultTable Annotation</h4>
<p>There is a change in behavior in the semantics of <code>xdb:defaultTable</code> annotation while registering XML DB schemas in 11.2 as compared to 11.1 (reference Bug 7646934). If you specify <code>xdb:defaultTable="MY_TAB"</code> without specifying <code>xdb:sqlInline="false"</code>, XML DB creates the table as requested and implicitly marks it as an out-of-line table. This behavior is different from 11.1 where the <code>defaultTable</code> annotation was ignored when the <code>sqlInline</code> setting was missing.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref436" name="sthref436"></a>
<h4 class="sect3"><span class="secnum">2.30.2</span> VARRAY Storage Default Change</h4>
<p>In Oracle Database 11<span class="italic">g</span> Release 1 (11.1), the default value for <code>xdb:storeVarrayAsTable</code> changed from <code>FALSE</code> to <code>TRUE</code> for XMLType object-relational storage. This default applied to the default table, but not when creating XMLType object-relational tables and columns after the schema registration (reference Bug 6858659). In Oracle Database 11<span class="italic">g</span> Release 2 (11.2), all <code>VARRAY</code> data elements are created as tables by default. This provides a significant performance increase at query time. In addition, note the following:</p>
<ul>
<li>
<p>Tables created prior to 11.2 are not affected by this. The upgrade process retains storage parameters. This only affects tables created in 11.2 or later.</p>
</li>
<li>
<p>You can retain the pre-11.2 default of <code>VARRAY</code> storage as LOBs if you have small <code>VARRAY</code> data elements and you read and or write the full <code>VARRAY</code> all at once. You have two options to revert to the pre-11.2 behavior:</p>
<ul>
<li>
<p>Re-register the schema with <code>xdb:storeVarrayAsTable=FALSE</code>. This affects the default and non-default tables.</p>
</li>
<li>
<p>Or, when creating the table (for non default tables), you can use the <code>STORE ALL VARRAYS AS LOBS</code> clause to override the default for all <code>VARRAY</code> data elements in the XMLType. This clause can only be used during table creation. It will return an error if used in the <code>table_props</code> at schema registration time.</p>
</li>
</ul>
</li>
<li>
<p>For schemas registered prior to 11.2 (when the default storage for <code>VARRAY</code> data elements was <code>LOB</code>), you can use <code>STORE ALL VARRAYS AS TABLES</code> clause to override the default for all <code>VARRAY</code> data elements in the XMLType.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBCFHJ" name="BABBCFHJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.31</span> PL/SQL</h3>
<p>Note the following when working with PL/SQL.</p>
<div class="sect3"><a id="sthref437" name="sthref437"></a>
<h4 class="sect3"><span class="secnum">2.31.1</span> Secure Database By Default Changes</h4>
<p>The <code>PUBLIC EXECUTE</code> privilege for the <code>DBMS_RANDOM</code> PL/SQL package will be deprecated in future Oracle Database releases (reference Bug 7591837). Users who need to run this PL/SQL package should be given explicit <code>EXECUTE</code> privileges.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref438" name="sthref438"></a>
<h4 class="sect3"><span class="secnum">2.31.2</span> DBMS_SCHEDULER PL/SQL Package</h4>
<p>Consider the following when working with the <code>DBMS_SCHEDULER</code> PL/SQL package.</p>
<div class="sect4"><a id="sthref439" name="sthref439"></a>
<h5 class="sect4"><span class="secnum">2.31.2.1</span> Event-Based Jobs</h5>
<p>The Oracle Scheduler supports event-based jobs. These are jobs that are started when a message is enqueued into a database queue. When the database queue used for this purpose is a secure queue, the <code>QUEUE_SPEC</code> attribute of event-based jobs and schedules is a pair of the form <code><span class="codeinlineitalic">queue_name, agent_name</span></code>. The reason an agent has to be specified is to help the scheduler determine which messages the user can see. In the case of nonsecure queues, if the user has dequeue privileges on a queue, then he or she can dequeue any agent that is subscribed to the queue. This means that he or she can see all of the messages in the queue. In the case of secure queues, the user has to be granted privileges to not only the queue but to agents as well.</p>
<p>In addition to granting dequeue privileges, the queue owner has to make a call to <code>dbms_aqadm.enable_db_access()</code> to enable the user to dequeue as a specific agent. The agent could be subscribed to the queue using a rule that filters messages that the user should not see.</p>
<p>The scheduler always subscribes to every queue (secure or otherwise) using its own agent <code>SCHEDULER$_EVENT_AGENT</code>. Because the scheduler runs as user <code>SYS</code>, it can see all the messages in the queue. In the case of secure queues, however, this should not be done because the purpose of secure queues is to enable the queue owner to provide some type of limited access to the queue by users. Therefore, the scheduler requires an agent name in the <code>QUEUE_SPEC</code> attribute. This agent name is used solely for the purpose of determining which messages the user can see. The scheduler does not dequeue messages as this agent. When the scheduler receives a notification that a message has arrived in a secure queue, it performs the following checks for each event-based job that depends on the queue.</p>
<ol>
<li>
<p>It checks to determine if the job owner has dequeue privileges on the queue.</p>
</li>
<li>
<p>It checks to see if the agent name provided in the queue spec can be used by the job owner.</p>
</li>
<li>
<p>It checks to see if the agent is currently subscribed to the queue.</p>
</li>
<li>
<p>It checks if the incoming message is visible to the agent.</p>
</li>
</ol>
<p>If all of these checks succeed, then the scheduler launches the event-based job. Regardless of whether the checks pass, the message is dequeued using the agent <code>SCHEDULER$_EVENT_AGENT</code>.</p>
<p>When providing an agent for the <code>QUEUE_SPEC</code> attribute, the user can provide an existing agent name or have a new one created for this purpose. In either case, it is the user's or queue owner's responsibility to ensure that the agent dequeues its messages.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref440" name="sthref440"></a>
<h5 class="sect4"><span class="secnum">2.31.2.2</span> Remote Jobs</h5>
<p>The Oracle Scheduler supports running jobs on remote hosts and transferring files to or from remote hosts. To achieve this goal, it is first necessary to go through the setup described in the "Enabling and Disabling Remote External Jobs" section of Chapter 28 of the <span class="italic"><a class="olink ADMIN" href="http://www.oracle.com/pls/db112/lookup?id=ADMIN">Oracle Database Administrator's Guide</a></span>. This feature also requires that Oracle XML DB HTTP Server be enabled on the database.</p>
<p>To check whether Oracle XML DB HTTP Server is enabled, you can use the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; SELECT DBMS_XDB.GETHTTPPORT() FROM DUAL;
</pre>
<p>If this statement returns <code>0</code>, then you need to enable Oracle XML DB HTTP Server on a non-zero port by logging in as <code>SYS</code> and issuing the following commands:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; EXEC DBMS_XDB.SETHTTPPORT (<span class="italic">port</span>);
SQL&gt; COMMIT;
</pre>
<p>Substitute <code><span class="codeinlineitalic">port</span></code> with Oracle XML DB HTTP Server port you wish to use.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref441" name="sthref441"></a>
<h4 class="sect3"><span class="secnum">2.31.3</span> DBMS_SQL Package</h4>
<p>In Oracle Database 11<span class="italic">g</span> Release 1 (11.1), Oracle introduces a number of enhancements to <code>DBMS_SQL</code> to improve the security of the package:</p>
<ul>
<li>
<p>Prevent guessing of open cursor numbers</p>
<p>A new error, <code>ORA-29471</code>, will be raised when any <code>DBMS_SQL</code> subprogram is called with a cursor number that does not denote an open cursor. When the error is raised, an alert is issued to the alert log and <code>DBMS_SQL</code> becomes inoperable for the life of the session.</p>
<p>If the actual value for the cursor number in a call to <code>IS_OPEN</code> does denote a cursor that is currently open in the session, then the return value is <code>TRUE</code>. If the actual is null, then the return value is <code>FALSE</code>. Otherwise, you get the <code>ORA-29471</code> error.</p>
<p>Note that the <code>DBMS_SQL.OPEN_CURSOR</code> function is the only <code>DBMS_SQL</code> subprogram that has no formal parameter for the cursor number. Rather, it returns a cursor number. Therefore, it is not within the scope of the rules.</p>
</li>
<li>
<p>Prevent inappropriate use of a cursor</p>
<p>Cursors are now better protected from security breaches that subvert known, existing cursors.</p>
<p>Checks are always made when binding and executing. Optionally, checks may be performed for every single <code>DBMS_SQL</code> subprogram call. The check is:</p>
<ul>
<li>
<p><code>current_user</code> is the same on calling the subprogram in question as it was on calling the most recent parse.</p>
</li>
<li>
<p>The enabled roles on calling the subprogram must be a superset of the enabled roles on calling the most recent parse.</p>
</li>
</ul>
<p>As is always the case, for definer's right subprograms, roles are irrelevant.</p>
<p>If either check fails, then <code>ORA-29470</code> is raised.</p>
<p>The mechanism for defining when checks are performed is a new overload for the <code>OPEN_CURSOR</code> subprogram which takes a formal parameter, <code>security_level</code>, with allowed values <code>NULL</code>, <code>1</code> and <code>2</code>.</p>
<p>When <code>security_level = 1</code> (or is <code>NULL</code>), the checks are made only when binding and executing. When <code>security_level = 2</code>, the checks are always made.</p>
<p>This security regime is stricter than in 10.2 and previous releases. As a consequence, users of <code>DBMS_SQL</code> may encounter runtime errors on upgrade. While the regime makes for more secure applications, users may want to relax the security checks temporarily as they migrate to 11.1. If so, consult with Oracle Support Services on steps to relax the security checks.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref442" name="sthref442"></a>
<h4 class="sect3"><span class="secnum">2.31.4</span> UTL_FILE Package</h4>
<p>The <code>UTL_FILE</code> package no longer opens a file if that file is a symbolic link. This new restriction closes a known security hole in the <code>UTL_FILE</code> package.</p>
<p>If this security restriction poses an undue burden during migration, then contact Oracle Support Services for assistance.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref443" name="sthref443"></a>
<h4 class="sect3"><span class="secnum">2.31.5</span> Interoperability Between Releases</h4>
<p>Interoperability between an 11.1 database or Forms client and a 10.1 or 10.2 database requires a minimum patchset level of 10.1.0.5 (for 10.1) or 10.2.0.2 (for 10.2).</p>
<p>An attempt to reference a 10.1 or 10.2 PL/SQL unit or view under the following circumstances fails with a <code>PLS-801[55916]</code> error unless the 10.1 or 10.2 environment has been patched to the correct level:</p>
<ul>
<li>
<p>A PL/SQL unit, anonymous block, trigger, call statement, or SQL statement on an 11.1 database runs a PL/SQL unit on a 10.1 or 10.2 database across a database link.</p>
</li>
<li>
<p>A PL/SQL unit, anonymous block, trigger, or call statement on an 11.1 database references a view on a 10.1 or 10.2 database across a database link and the view directly or indirectly references a PL/SQL function or an object type.</p>
</li>
<li>
<p>An 11.1 Forms client runs a PL/SQL unit in a 10.1 or 10.2 database using RPC.</p>
</li>
</ul>
<p>To avoid the <code>PLS-801[55916]</code> error, a minimum patchset level of 10.1.0.5 (for 10.1) or 10.2.0.2 (for 10.2) is required.</p>
<p>There is no interoperability problem between 10.1 and 10.2 environments.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDIHGCH" name="CHDIHGCH"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.32</span> Pro*C</h3>
<p>The Pro*C readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/precomp/doc/proc2/readme.doc
</pre></div>
<!-- class="sect2" -->
<a id="CHDDDAGJ" name="CHDDDAGJ"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.33</span> Pro*COBOL</h3>
<p>The Pro*COBOL readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/precomp/doc/procob2/readme.doc
</pre></div>
<!-- class="sect2" -->
<a id="BABGICBC" name="BABGICBC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.34</span> SQLJ</h3>
<p>SQLJ in Oracle Database 11<span class="italic">g</span> Release 2 (11.2) is supported with JDK 5.0 and JDK 6.0.</p>
</div>
<!-- class="sect2" -->
<a id="BABIJDJI" name="BABIJDJI"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.35</span> SQL*Plus</h3>
<p>The SQL*Plus readme file is located at:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">ORACLE_HOME</span>/sqlplus/doc/README.htm
</pre></div>
<!-- class="sect2" -->
<a id="CHDHFEEI" name="CHDHFEEI"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.36</span> Summary Management</h3>
<p>Note the following items when working with Summary Management.</p>
<div class="sect3"><a id="sthref444" name="sthref444"></a>
<h4 class="sect3"><span class="secnum">2.36.1</span> Query Rewrite</h4>
<p>The following items apply to Query Rewrite.</p>
<div class="sect4"><a id="sthref445" name="sthref445"></a>
<h5 class="sect4"><span class="secnum">2.36.1.1</span> Fine Grained Auditing (FGA)</h5>
<p>If Fine Grained Auditing (FGA) is enabled on a table in the query, then Query Rewrite will not occur for this query.</p>
</div>
<!-- class="sect4" -->
<div class="sect4"><a id="sthref446" name="sthref446"></a>
<h5 class="sect4"><span class="secnum">2.36.1.2</span> Use of PARTITION Clause</h5>
<p>Query rewrite does not occur for queries that use the <code>PARTITION</code> clause in the <code>FROM</code> clause to access table partitions. In order for query rewrite to rewrite such queries, the <code>PARTITION</code> clauses must first be converted into equivalent selection predicates and added to the <code>WHERE</code> clause.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref447" name="sthref447"></a>
<h4 class="sect3"><span class="secnum">2.36.2</span> Feature Availability</h4>
<p>The following are available in Enterprise Edition:</p>
<ul>
<li>
<p>Creation and refresh features of materialized views</p>
</li>
<li>
<p>Query rewrite and materialized view advice from the SQL Access Advisor</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref448" name="sthref448"></a>
<h4 class="sect3"><span class="secnum">2.36.3</span> NLS Parameters</h4>
<p>When using or refreshing certain materialized views, you must ensure that your NLS parameters are the same as when you created the materialized view. Materialized views that fall under this restriction contain the following constructs:</p>
<ol>
<li>
<p><span class="bold">Expressions that may return different values, depending on NLS parameter settings</span></p>
<p>It is recommended to write such expressions in the NLS-independent way. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">(date &gt; DATE '2003-01-02')
</pre>
<p>Or:</p>
<pre xml:space="preserve" class="oac_no_warn">(rate &lt;= 2.150)
</pre></li>
<li>
<p><span class="bold">Equijoins where one side of the join is character data</span></p>
<p>The result of this equijoin depends on collation which can change on a session basis, giving an incorrect result in the case of query rewrite or an inconsistent materialized view after a refresh operation.</p>
</li>
<li>
<p><span class="bold">Expressions that generate internal conversion to character data in the select list of a materialized view, or inside an aggregate of a materialized aggregate view</span></p>
<p>This restriction does not apply to expressions that involve only numeric data; for example, <code>a+b</code> where <code>a</code> and <code>b</code> are numeric values.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABCCCIJ" name="BABCCCIJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.37</span> Oracle Streams</h3>
<p>Note the following when working with Oracle Streams.</p>
<div class="sect3"><a id="sthref449" name="sthref449"></a>
<h4 class="sect3"><span class="secnum">2.37.1</span> Oracle Streams Apply Handler Modifications Necessary for Handling New Error Messages That Replace ORA-1403 Errors</h4>
<p>Customized DML and error handlers for Oracle Streams require modification to catch the additional Oracle errors <code>ORA-26786</code> and <code>ORA-26787</code> in place of the <code>ORA-01403 No data found</code> message. An <code>ORA-26787</code> error is raised if the row to be updated or deleted does not exist in the target table. An ORA-26786 error is raised when the row exists in the target table, but the values of some columns do not match those of the LCR.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref450" name="sthref450"></a>
<h4 class="sect3"><span class="secnum">2.37.2</span> Oracle Streams Advanced Queuing</h4>
<p>Subscription names for Advanced Queuing notification will become canonical. Thus, registrations for <code>scott.queue1:sub</code> and <code>SCOTT.QUEUE1:SUB</code> are for the same entity and are represented in canonical form as <code>"SCOTT"."QUEUE1":"SUB"</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref451" name="sthref451"></a>
<h4 class="sect3"><span class="secnum">2.37.3</span> UTL_SPADV Load Privileges</h4>
<p>An additional privilege is required to load the <code>UTL_SPADV</code> package into the Oracle Streams administrator schema. The Oracle Streams administrator schema must have <code>EXECUTE</code> privilege on <code>DBMS_LOCK</code> in order to load this package.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDJICDC" name="CHDJICDC"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.38</span> Documentation Addendum</h3>
<p>This section contains corrections to the following Oracle Documentation for this release:</p>
<ul>
<li>
<p><a href="#BABGCICD">Section 2.38.1, "Oracle Database Heterogeneous Connectivity User's Guide"</a></p>
</li>
<li>
<p><a href="#BABCBDGF">Section 2.38.2, "Oracle Database PL/SQL Packages and Types Reference"</a></p>
</li>
</ul>
<a id="BABGCICD" name="BABGCICD"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.38.1</span> Oracle Database Heterogeneous Connectivity User's Guide</h4>
<p>The following information should be removed from Chapter 4, "Using Heterogeneous Services Agents", section "Determining the Heterogeneous Services Parameters":</p>
<dl>
<dd>The Distributed Access Manager has a refresh capability available through the menu and toolbar that allows users to rerun queries if necessary and update the data. When the data is refreshed, the tool verifies that the set of registered agents remains the same. If it is not, then the global view is updated. See <span class="italic">Oracle Enterprise Manager Administrator's Guide</span> and online help for more information about the Distributed Access Manager.</dd>
</dl>
</div>
<!-- class="sect3" -->
<a id="BABCBDGF" name="BABCBDGF"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.38.2</span> Oracle Database PL/SQL Packages and Types Reference</h4>
<p>The <code>listno</code> parameter of the <code>DBMS_UTILITY</code> was inadvertently excluded from the <span class="italic"><a class="olink ARPLS" href="http://www.oracle.com/pls/db112/lookup?id=ARPLS">Oracle Database PL/SQL Packages and Types Reference</a></span>. For example, the <code>GET_PARAMETER_VALUE</code> function should read as follows:</p>
<p class="subhead2"><a id="sthref452" name="sthref452"></a>GET_PARAMETER_VALUE Function</p>
<p>This function gets the value of specified initialization parameter.</p>
<p><span class="bold">Syntax</span></p>
<pre xml:space="preserve" class="oac_no_warn">DBMS_UTILITY.GET_PARAMETER_VALUE (
    parnam       IN        VARCHAR2,
    intval       IN OUT    BINARY_INTEGER,
    strval       IN OUT    VARCHAR2,
    listno       IN        BINARY_INTEGER DEFAULT 1)
  RETURN BINARY_INTEGER;
</pre>
<p><span class="bold">Parameters</span></p>
<div class="inftblinformal">
<table class="Informal" title="GET_PARAMETER_VALUE Function" summary="This table describes the values of the GET_PARAMETER_VALUE function." dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="42%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t30">Parameter</th>
<th align="left" valign="bottom" id="r1c2-t30">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t30" headers="r1c1-t30"><code>parnam</code></td>
<td align="left" headers="r2c1-t30 r1c2-t30">Parameter name.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t30" headers="r1c1-t30"><code>intval</code></td>
<td align="left" headers="r3c1-t30 r1c2-t30">Value of an integer parameter or the value length of a string parameter.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t30" headers="r1c1-t30"><code>strval</code></td>
<td align="left" headers="r4c1-t30 r1c2-t30">Value of a string parameter.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t30" headers="r1c1-t30"><code>listno</code></td>
<td align="left" headers="r5c1-t30 r1c2-t30">List item number. If retrieving parameter values for a parameter that can be specified multiple times to accumulate values, use this parameter to get each individual parameter.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref453" name="sthref453"></a>
<h4 class="sect3"><span class="secnum">2.38.3</span> Oracle Grid Infrastructure Installation Guide</h4>
<p>In <span class="italic">Oracle Grid Infrastructure Installation Guide</span>, in the section "Creating Disk Groups for Oracle Database Data Files," the guide indicates that logical volume managers are not supported with Oracle RAC. This is incorrect. The correct support information is as follows:</p>
<dl>
<dd>Although you can specify a logical volume as a device in an Oracle ASM disk group, Oracle does not recommend their use because it adds a layer of complexity that is unnecessary with Oracle ASM. In addition, Oracle RAC requires a cluster logical volume manager in case you decide to use a logical volume with Oracle ASM and Oracle RAC.</dd>
</dl>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDJCFH" name="CHDDJCFH"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.39</span> Open Bugs</h3>
<p>This section lists known bugs for this release. A supplemental list of bugs may be found as part of the release documentation specific for your platform.</p>
<div class="sect3"><a id="sthref454" name="sthref454"></a>
<h4 class="sect3"><span class="secnum">2.39.1</span> Automatic Storage Management Known Bugs</h4>
<p class="subhead2"><a id="sthref455" name="sthref455"></a>Bug 9655918</p>
<p>Increase in Oracle ASM disk group size for Oracle ACFS Database Home may be required.</p>
<p><a id="sthref456" name="sthref456"></a><span class="subhead3">Workaround: &nbsp;</span>When creating a Database Home on Oracle ACFS, the ASMCA tool will default to a minimum of 6 GB for the Oracle ACFS Database Home. However, depending on the status and configuration of the disk group, additional storage may be required. Therefore, the recommendation is to use a minimum of 10 GB for the disk group to avoid any such issues, as reported by these messages:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-15032: not all alterations performed 
ORA-15041: diskgroup "<span class="italic">dg_name</span>" space exhausted
</pre>
<p class="subhead2"><a id="sthref457" name="sthref457"></a>Bug 9413827</p>
<p>An 11.2.0.1 Oracle Clusterware rolling upgrade to 11.2.0.2 fails when Oracle Cluster Registry (OCR) is on Oracle ASM.</p>
<p><a id="sthref458" name="sthref458"></a><span class="subhead3">Workaround:</span> Apply the patch for bug 9413827 on 11.2.0.1 Oracle Grid Infrastructure for a cluster home before performing the upgrade.</p>
<p class="subhead2"><a id="sthref459" name="sthref459"></a>Bug 9316406</p>
<p>In 11.2, operating system users other than the Oracle Grid Infrastructure for a cluster home owner cannot execute ASMCMD binary due to Perl binary and library permission being 700.</p>
<p><a id="sthref460" name="sthref460"></a><span class="subhead3">Workaround:</span> Fix the permissions of the Perl executable and Perl libraries.</p>
<p class="subhead2"><a id="sthref461" name="sthref461"></a>Bug 9276692</p>
<p>Cannot permanently stop the Oracle ASM instance.</p>
<p><a id="sthref462" name="sthref462"></a><span class="subhead3">Workaround:</span> If the Oracle ASM instance is disabled using SRVCTL, you must unregister Oracle ACFS-related resources to avoid restarting the Oracle ASM instance. Do this by executing the following command as root:</p>
<pre xml:space="preserve" class="oac_no_warn">acfsroot unregister
</pre></div>
<!-- class="sect3" -->
<a id="CIAGDJHI" name="CIAGDJHI"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.39.2</span> Deinstallation Tool Known Bugs</h4>
<p class="subhead2"><a id="sthref463" name="sthref463"></a>Bug 9925724</p>
<p>If <code><span class="codeinlineitalic">Grid_home</span></code> is created directly under a root-owned directory, the deinstallation tool cannot remove the top-level home directory. An empty Oracle home directory remains at the end of the deinstallation.</p>
<p><a id="sthref464" name="sthref464"></a><span class="subhead3">Workaround:&nbsp;</span>Run <code>rmdir</code> <code><span class="codeinlineitalic">ORACLE_HOME</span></code> using the root user on all nodes.</p>
<p class="subhead2"><a id="sthref465" name="sthref465"></a>Bug 9924588</p>
<p>The deinstallation tool is not deleting the old Grid home after upgrading to a new release.</p>
<p><a id="sthref466" name="sthref466"></a><span class="subhead3">Workaround:&nbsp;</span>After upgrading from previous releases, if you want to deinstall the previous release Oracle Grid Infrastructure Grid home, then you must first change the permission and ownership of the previous release Grid home. Log in as root, and change the permission and ownership of the previous release Grid home using the following command syntax, where <code>oldGH</code> is the previous release Grid home, <code>jsmith</code> is the Oracle Grid Infrastructure installation owner, and <code>oldGHParent</code> is the parent directory of the previous release Grid home:</p>
<pre xml:space="preserve" class="oac_no_warn">#chmod -R 755 oldGH 
#chown -R jsmith oldGH 
#chown jsmith oldGHParent 
</pre>
<p>As the installation user, use the 11.2.0.2 standalone deinstallation tool to remove <code>oldGH</code>.</p>
<p class="subhead2"><a id="sthref467" name="sthref467"></a>Bug 9871334</p>
<p>If the deinstallation tool is launched from Oracle home, it fails to delete the <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/deinstall</code> directory. This issue is not seen with the standalone deinstallation tool. An empty <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/deinstall</code> directory remains at the end of deinstallation.</p>
<p><a id="sthref468" name="sthref468"></a><span class="subhead3">Workaround:</span> Manually delete empty directory <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/deinstall</code> and <code><span class="codeinlineitalic">ORACLE_HOME</span></code> at the end of the deinstallation.</p>
<p class="subhead2"><a id="sthref469" name="sthref469"></a>Bug 9406768</p>
<p>The 11.2 deinstallation utility is removing all the homes under Oracle base if these homes are not using the same central inventory and the deinstallation utility finds this home is the only one registered in inventory.</p>
<p><a id="sthref470" name="sthref470"></a><span class="subhead3">Workaround:</span> While installing 11.2 products:</p>
<ul>
<li>
<p>Oracle does not recommend using multiple central inventories. Avoid this if possible.</p>
</li>
<li>
<p>If for some reason a different central inventory is required, use a different Oracle base directory for each central inventory.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref471" name="sthref471"></a>Bug 8644344</p>
<p>When running the deinstallation tool to deinstall the database, you will be prompted to expand the Oracle home and to select a component. If you select the top level component, <code>Oracle Database Server</code>, and do not select the Oracle home, OUI does not show the message to run the deinstall utility and proceeds with the deinstallation of the database.</p>
<p><a id="sthref472" name="sthref472"></a><span class="subhead3">Workaround:</span> Run the deinstallation tool to deinstall the Oracle home.</p>
<p class="subhead2"><a id="sthref473" name="sthref473"></a>Bug 8635356</p>
<p>If you are running the deinstall tool from <code><span class="codeinlineitalic">ORACLE_HOME</span></code> that is installed on shared NFS storage, then you will see errors related to <code>.nfs</code> files during <code><span class="codeinlineitalic">ORACLE_HOME</span></code> clean up.</p>
<p><a id="sthref474" name="sthref474"></a><span class="subhead3">Workaround:</span> To remove the <code><span class="codeinlineitalic">ORACLE_HOME</span></code>, run the <code>rm -rf</code> <code><span class="codeinlineitalic">ORACLE_HOME</span></code> command after the deinstall tool exits. Alternatively, you can use the standalone <code>deinstall.zip</code> and specify the location of the <code><span class="codeinlineitalic">ORACLE_HOME</span></code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref475" name="sthref475"></a>
<h4 class="sect3"><span class="secnum">2.39.3</span> Oracle ACFS Known Bugs</h4>
<p class="subhead2"><a id="sthref476" name="sthref476"></a>Bug 10019796</p>
<p>When <code>acfsutil encr info</code> command is run on a file or a directory on which encryption has never been enabled, the command produces no output. Furthermore, when <code>acfsutil encr info</code> is run on a directory with the recursive (<code>-r</code>) option and encryption has never been enabled on that directory, the command produces no output for the directory or any files contained in that directory.</p>
<p><a id="sthref477" name="sthref477"></a><span class="subhead3">Workaround:&nbsp;</span>When <code>acfsutil encr info</code> is run on an individual file or directory and the command produces no output, it implies that encryption is not enabled on that file or directory.</p>
<p>When <code>acfsutil encr info</code> is run on a directory with the recursive (<code>-r</code>) option and the command produces no output for the specified directory or one of its subdirectories, it implies that encryption is not enabled on that directory. To see the encryption status of files in that directory, run <code>acfsutil encr info</code> on each file individually.</p>
<p class="subhead2"><a id="sthref478" name="sthref478"></a>Bug 10069735</p>
<p>In a cluster with a password-protected key store, when an Oracle ACFS file system using encryption is mounted through the Oracle ACFS mount registry, the administrator is not prompted to enter the key store password. Although the process of mounting the file system succeeds, not all information required for Oracle ACFS encryption to work correctly is made available to the file system. In this case, encryption is not operational on this file system and any encrypted files in the file system are not available for read or write.</p>
<p><a id="sthref479" name="sthref479"></a><span class="subhead3">Workaround:&nbsp;</span>In a cluster with a password-protected key store, do not use the Oracle ACFS mount registry for mounting any file systems that are using encryption. If some file systems are already mounted through the Oracle ACFS mount registry, unmount them and remove any such file systems from the mount registry to avoid possible unavailability of encrypted data in the future. Then, remount these file systems without using the Oracle ACFS mount registry, providing the correct password when requested.</p>
<p class="subhead2"><a id="sthref480" name="sthref480"></a>Bug 9975343</p>
<p>In some situations when <code>acfsutil encr set</code> or <code>acfsutil sec prepare</code> commands are run from multiple nodes in succession, the <code>.Security</code> directory in the mount point may be created incorrectly.</p>
<p>If this happens, two entries will be shown for .<code>Security</code> when listing the contents of the mount point, and the <code>acfsutil sec prepare</code> command will fail to add the logging and backup directories to their respective system realms if this command was the last to be run.</p>
<p><a id="sthref481" name="sthref481"></a><span class="subhead3">Workaround:&nbsp;</span>If <code>acfsutil encr set</code> or <code>acfsutil sec prepare</code> commands are to be performed in succession, executing the commands from the same node will avoid the problem.</p>
<p>The problem can also be avoided by listing the contents of the <code>.Security</code> directory before running the second command.</p>
<p>However, if the problem is encountered, it can be resolved by first removing both security and encryption from the file system using <code>acfsutil encr set -u</code> and <code>acfsutil sec prepare -u</code> and then removing the <code>.Security</code> directory. The removal of the <code>.Security</code> directory will have to be performed twice.</p>
<p>Once security and encryption have been removed from the file system and the <code>.Security</code> directory has been deleted, the <code>acfsutil sec prepare</code> or <code>acfsutil encr set</code> commands may be run again on the file system.</p>
<p class="subhead2"><a id="sthref482" name="sthref482"></a>Bug 9958114</p>
<p>If the standby file system is initialized for replication, but the primary file system is not, <code>repl terminate</code> of the standby will loop forever.</p>
<p><a id="sthref483" name="sthref483"></a><span class="subhead3">Workaround:&nbsp;</span>Use <code>acfsutil repl terminate standby immediate</code> to terminate the standby under these conditions.</p>
<p class="subhead2"><a id="sthref484" name="sthref484"></a>Bug 9947559</p>
<p>After a certain number of retries, the <code>acfsrepl_transport</code> daemon attempts to failover to another node if it cannot communicate with the remote site. If there is no other node for the daemon to failover to, or after a certain number of failover attempts, Oracle Clusterware stops trying to failover and the transport daemon will not be running. Not running the transport daemon causes replication to stall and eventually the file systems can run out of space.</p>
<p><a id="sthref485" name="sthref485"></a><span class="subhead3">Workaround:&nbsp;</span>Run <code>acfsutil repl bg start</code> <code><span class="codeinlineitalic">mnpt</span></code> after the communication problem is corrected.</p>
<p class="subhead2"><a id="sthref486" name="sthref486"></a>Bug 9940090</p>
<p>Unable to communicate with remote site if the disk group is forced dismounted. The root cause of this issue is that the service name associated with the file system is not being unregistered when the disk group is forced dismounted.</p>
<p><a id="sthref487" name="sthref487"></a><span class="subhead3">Workaround: &nbsp;</span>Unmount the file system whose disk group was forced dismounted. This will unregister the service, thereby allowing the remote site to choose another node with the disk group and file system mounted for communication.</p>
<p class="subhead2"><a id="sthref488" name="sthref488"></a>Bug 9896821</p>
<p>The following are alert log messages pointing to trace files that do not indicate an actual problem:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-19505: failed to identify file 
"/scratch/primary/.ACFS/repl/ready/receipt.transport.cord242.12786023 69" 
ORA-27037: unable to obtain file status 
Linux-x86_64 Error: 2: No such file or directory 
</pre>
<p><a id="sthref489" name="sthref489"></a><span class="subhead3">Workaround:</span> None.</p>
<p class="subhead2"><a id="sthref490" name="sthref490"></a>Bug 8644639</p>
<p>When creating an Oracle ACFS mount point and adding it to the registry, the mount point is not mounted automatically if the following conditions are met:</p>
<ol>
<li>
<p>The mount point directory was previously registered with the Oracle ACFS Registry.</p>
</li>
<li>
<p>The mount point directory had been previously mounted.</p>
</li>
<li>
<p>The mount point had then been unmounted and removed from the Oracle ACFS Registry.</p>
</li>
<li>
<p>The <code>ora.registry.acfs</code> resource has not been restarted since the mount point was deleted from the registry.</p>
</li>
</ol>
<p><a id="sthref491" name="sthref491"></a><span class="subhead3">Workaround:</span> Remove the mount point directory from the file <code><span class="codeinlineitalic">/tmp/</span></code><code>.usm_state_file</code>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref492" name="sthref492"></a>
<h4 class="sect3"><span class="secnum">2.39.4</span> Oracle ADVM Known Bugs</h4>
<p class="subhead2"><a id="sthref493" name="sthref493"></a>Bug 9683229</p>
<p>Oracle ADVM does not support mounting ext3 file systems over Oracle ADVM with the mount barrier option enabled. The mount barrier option is enabled by default on SLES10.</p>
<p><a id="sthref494" name="sthref494"></a><span class="subhead3">Workaround: &nbsp;</span>Mount ext3 file system with <code>-o barrier=1</code>. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">mount -o barrier=0 /dev/asm/myvol-131 /mnt
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref495" name="sthref495"></a>
<h4 class="sect3"><span class="secnum">2.39.5</span> Oracle Application Express Known Bugs</h4>
<p>Refer to "Open Bugs and Known Issues" in <span class="italic"><a class="olink HTMRN" href="../../relnotes.112/e11944/toc.htm">Oracle Application Express Release Notes</a></span>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref496" name="sthref496"></a>
<h4 class="sect3"><span class="secnum">2.39.6</span> Oracle Clusterware Known Bugs</h4>
<p class="subhead2"><a id="sthref497" name="sthref497"></a>Bug 10062301</p>
<p>After a non-rolling clusterware upgrade from 11.2.0.1 to 11.2.0.2, the <code>CLUSTER_NAME</code> parameter is not set in the <code><span class="codeinlineitalic">clusterware_home _path</span></code><code>/crs/install/crsconfig_params</code>. This affects the <code>addNode</code> scenario after the upgrade.</p>
<p><a id="sthref498" name="sthref498"></a><span class="subhead3">Workaround: &nbsp;</span>Execute the following:</p>
<ol>
<li>
<p>Execute <code><span class="codeinlineitalic">clusterware_home_path</span></code><code>/bin/olsnodes -c</code> to get the cluster name.</p>
</li>
<li>
<p>Edit the <code><span class="codeinlineitalic">clusterware_home_path</span></code><code>/crs/install/crsconfig_params</code> and update the <code>CLUSTER_NAME</code> entry as <code>CLUSTER_NAME=</code><code><span class="codeinlineitalic">clustername_acquired_in_step1</span></code>.</p>
</li>
</ol>
<p class="subhead2"><a id="sthref499" name="sthref499"></a>Bug 10055232</p>
<p>The <code>root.sh</code> scripts fails after downgrading from 11.2.0.2 to 11.2.0.1.</p>
<p><a id="sthref500" name="sthref500"></a><span class="subhead3">Workaround: &nbsp;</span></p>
<p>Downgrade using the following steps when Oracle Cluster Registry (OCR) and voting disk <span class="bolditalic">are not</span> on Oracle ASM:</p>
<ol>
<li>
<p>Stop Oracle Clusterware running from the 11.2.0.2 home and verify that it is stopped. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.2_Home</span>/bin/crsctl stop crs
<span class="italic">11.2.0.2_Home</span>/bin/crsctl check crs
</pre></li>
<li>
<p>Copy the OLR backup file and verify that the <code>olrconfig_loc</code> and the <code><span class="codeinlineitalic">crs_home</span></code> properties in the <code>olr.loc</code> file point to the 11.2.0.1.0 home. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">cd <span class="italic">location_of_olr_loc</span>
cp olr.loc.bkp olr.loc
</pre>
<p>Note that <code><span class="codeinlineitalic">location_of_olr_loc</span></code> is platform-specific. Refer to the platform-specific documentation for the location of <code>olr.loc</code> on your system.</p>
</li>
<li>
<p>On the last node to downgrade, format OCR with the 11.2.0.1.0 snapshot. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">ocrconfig -import <span class="italic">11202_crshome</span>/cdata/ocr11.2.0.1.0
</pre></li>
<li>
<p>Remove one or more voting files. The voting file is located at the location given by the user while installing 11.2.0.1 prior to the upgrade to 11.2.0.2. Usually, it is located at the same place as OCR. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">rm <span class="italic">vote_file</span>
</pre></li>
<li>
<p>Start the stack in exclusive mode. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/crsctl start crs -excl
</pre></li>
<li>
<p>Add the voting file or files. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">crsctl add css votedisk <span class="italic">voting_file</span>
</pre></li>
<li>
<p>Stop the stack running in exclusive mode and verify it stopped. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/crsctl stop crs -f
<span class="italic">11.2.0.1_Home</span>/bin/crsctl check crs
</pre></li>
<li>
<p>On all nodes, start the Oracle Clusterware from the 11.2.0.1 home. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/crsctl start crs
</pre></li>
</ol>
<p>Downgrade using the following steps when Oracle Cluster Registry (OCR) and voting disk <span class="bolditalic">are</span> on Oracle ASM:</p>
<ol>
<li>
<p>If the <code>compatible.asm</code> attribute for the OCR disk group is set to 11.2.0.2, then you must migrate the OCR to a disk group with <code>compatible.asm</code> set to 11.2.0.1 using the <code>ocrconfig -add</code> and <code>ocrconfig -delete</code> commands before starting the downgrade procedure.</p>
</li>
<li>
<p>Stop Oracle Clusterware from running from the 11.2.0.2 home and verify that it is stopped. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.2_Home</span>/bin/crsctl stop crs
<span class="italic">11.2.0.2_Home</span>/bin/crsctl check crs
</pre></li>
<li>
<p>Copy the OLR backup file and verify that the olrconfig_loc and the <code>crs_home</code> properties in the <code>olr.loc</code> file point to the 11.2.0.1.0 home. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">cd <span class="italic">location_of_olr_loc</span>
cp olr.loc.bkp olr.loc
</pre>
<p>Note that <code><span class="codeinlineitalic">location_of_olr_loc</span></code> is platform-specific. Refer to the platform-specific documentation for the location of <code>olr.loc</code> on your system.</p>
</li>
<li>
<p>On the last node to downgrade, start the 11.2.0.2.0 Oracle Clusterware stack in exclusive mode. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.2_Home</span>/bin/crsctl start crs -excl -nocrs
</pre></li>
<li>
<p>Delete the voting disk from the Oracle ASM diskgroup. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.2_Home</span>/bin/crsctl delete css votedisk &lt;diskgroup&gt; 
</pre></li>
<li>
<p>Stop Oracle Clusterware running in exclusive mode from the 11.2.0.2 home and verify it is stopped. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.2_Home</span>/bin/crsctl stop crs -f
<span class="italic">11.2.0.2_Home</span>/bin/crsctl check crs
</pre></li>
<li>
<p>On the last node to downgrade, start the 11.2.0.1.0 Oracle Clusterware stack in exclusive mode. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/crsctl start crs -excl
</pre></li>
<li>
<p>Stop the Oracle Clusterware daemon. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/crsctl stop resource ora.crsd -init -f
</pre></li>
<li>
<p>On the last node to downgrade, format OCR with 11.2.0.1.0 snapshot. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/ocrconfig -import 11202_crshome/cdata/ocr11.2.0.1.0
</pre></li>
<li>
<p>Verify the integrity of OCR. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/ocrcheck
</pre></li>
<li>
<p>Stop the stack running in exclusive mode and verify it is stopped. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/crsctl stop crs -f
<span class="italic">11.2.0.1_Home</span>/bin/crsctl check crs
</pre></li>
<li>
<p>On all nodes, start Oracle Clusterware from the 11.2.0.1 home. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/crsctl start crs
</pre></li>
<li>
<p>Verify the OCR integrity from all nodes. For example:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">11.2.0.1_Home</span>/bin/cluvfy comp ocr -n all -verbose
</pre></li>
</ol>
<p class="subhead2"><a id="sthref501" name="sthref501"></a>Bug 10044507</p>
<p>While verifying <code>udev</code> attributes during installation, upgrade or manual execution of <code>cluvfy</code>, an error may be reported even though the expected <code>udev</code> attributes are defined correctly in the appropriate <code>udev</code> rules file. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">PRVF-5184 : Check of following Udev attributes of "&lt;node&gt;:&lt;path&gt;" failed: 
"[Permissions: Found='0600' Expected='0660']"
</pre>
<p>This error is due to the expectation that <code>udev</code> attributes for the device are expected to be in a specific order in the <code>udev</code> rules file.</p>
<p><a id="sthref502" name="sthref502"></a><span class="subhead3">Workaround:</span> When specifying the device information in the <code>udev</code> rules file, make sure that the <code>OWNER</code>, <code>GROUP</code> and <code>MODE</code> are specified in this order before any other characteristics are specified. For example, if you want to include the <code>ACTION</code> characteristic on the <code>udev</code> line, you should specify the following:</p>
<pre xml:space="preserve" class="oac_no_warn">KERNEL=="&lt;device&gt;",  OWNER="oracle", GROUP="dba", MODE="660", ACTION=="add|change"
</pre>
<p>And, do not specify the following:</p>
<pre xml:space="preserve" class="oac_no_warn">KERNEL=="&lt;device&gt;", ACTION=="add|change", OWNER="oracle", GROUP="dba", MODE="660"
</pre>
<p class="subhead2"><a id="sthref503" name="sthref503"></a>Bug 10043601</p>
<p>During Oracle Grid Infrastructure for a cluster installation, when a file created by <code>dd</code> on NFS is used as Oracle ASM disks, the prerequisite check for Oracle ASM devices reports an error (with <code>PRVF-5150</code>) that the given disk is not a valid path.</p>
<p><a id="sthref504" name="sthref504"></a><span class="subhead3">Workaround:</span> This error can be ignored.</p>
<p class="subhead2"><a id="sthref505" name="sthref505"></a>Bug 10041397</p>
<p>During Oracle Grid Infrastructure for a cluster installation on Oracle Virtual Machine (Oracle VM), when virtual shared disks are used as Oracle ASM devices, the prerequisite check for Oracle ASM devices gives a warning that these devices are not shared. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">PRVF-5149 : WARNING: Storage "/dev/xvde1" is not shared on all nodes
</pre>
<p><a id="sthref506" name="sthref506"></a><span class="subhead3">Workaround:</span> This warning can be ignored.</p>
<p class="subhead2"><a id="sthref507" name="sthref507"></a>Bug 10033106</p>
<p>When running <code>addNode.sh</code> with the <code>-silent</code> flag to add a new node to Oracle Clusterware, if there are any failures during <code>cluvfy stage -pre nodeadd</code>, no error messages will be displayed. The <code>addNode</code> operation will be terminated and the new node will not be added.</p>
<p><a id="sthref508" name="sthref508"></a><span class="subhead3">Workaround:</span> Run <code>cluvfy stage -pre nodeadd</code> command from an existing node of the cluster. Look at the errors reported and fix them. If you want to ignore the errors and continue with the <code>addNode</code> operation, set the environment variable <code>IGNORE_PREADDNODE_CHECKS</code> to <code>Y</code> and retry the addNode operation.</p>
<p class="subhead2"><a id="sthref509" name="sthref509"></a>Bug 10032601</p>
<p>During Oracle Grid Infrastructure for a cluster installation or during invocation of the <code>cluvfy stage -pre crsinst</code> command, the prerequisite check for user existence reports an error if the numerical value of the user ID exceeds 6 digits. This is applicable to both the local and NIS users.</p>
<p><a id="sthref510" name="sthref510"></a><span class="subhead3">Workaround:</span> The reported user existence validation error can be ignored.</p>
<p class="subhead2"><a id="sthref511" name="sthref511"></a>Bug 10025999</p>
<p>If the Oracle High Availability Services Daemon (OHASD) crashes and restarts while the Oracle Clusterware stack is already running, subsequent Cluster Verification Utility (CVU) checks may produce the following informational messages:</p>
<pre xml:space="preserve" class="oac_no_warn">INFO: PRVF-9656 : The CTSS command to query time offset and reference failed on node <span class="italic">nodename</span> with error message "" 
INFO: Query of CTSS for time offset failed
</pre>
<p><a id="sthref512" name="sthref512"></a><span class="subhead3">Workaround:</span> These informational messages can be ignored.</p>
<p class="subhead2"><a id="sthref513" name="sthref513"></a>Bug 9978765</p>
<p>Oracle Grid Infrastructure for a cluster cannot be upgraded to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 Patchset 2 from Oracle Clusterware releases 10<span class="italic">g</span>R1, 10<span class="italic">g</span>R2 and 11<span class="italic">g</span>R1 when there are multiple private network interfaces configured in the previous release. This can be verified by running the OIFCFG <code>getif</code> command prior to upgrading, and inspecting the number of interfaces marked <code>cluster_interconnect</code>.</p>
<p><a id="sthref514" name="sthref514"></a><span class="subhead3">Workaround:</span> Execute the steps in the following procedure to upgrade Oracle Grid Infrastructure for a cluster. This example assumes a 2-node (<code>A</code> and <code>B</code>) cluster:</p>
<ol>
<li>
<p>Shut down all database instances and Oracle ASM running on nodes <code>A</code> and <code>B</code> in the 10<span class="italic">g</span>R1, 10<span class="italic">g</span>R2 or 11<span class="italic">g</span>R1 cluster.</p>
</li>
<li>
<p>On node <code>A</code>, identify the private network interface used by Oracle Clusterware using the OLSNODES <code>-p</code> command. Delete the rest of the private network interfaces marked <code>cluster_interconnect</code> using OIFCFG <code>delif -global</code> <code><span class="codeinlineitalic">if_name</span></code> command.</p>
</li>
<li>
<p>Start up all database instances and Oracle ASM running on nodes <code>A</code> and <code>B</code> in the 10<span class="italic">g</span>R1, 10<span class="italic">g</span>R2 or 11<span class="italic">g</span>R1 cluster.</p>
</li>
<li>
<p>Proceed upgrading the Oracle Grid Infrastructure for the cluster 11<span class="italic">g</span> Release 2.</p>
</li>
<li>
<p>Verify that the Oracle Grid Infrastructure for a cluster upgrade is complete using <code>crsctl query crs activeversion</code> command. Add the private network interfaces which were removed in Step 2 using <code>oifcfg setif -global</code> <code><span class="codeinlineitalic">if_name</span></code><code>:cluster_interconnect</code> command.</p>
</li>
</ol>
<p class="subhead2"><a id="sthref515" name="sthref515"></a>Bug 9974223</p>
<p>Oracle Grid Infrastructure for a cluster needs multicast communication on 230.0.1.0 addresses working properly between the cluster nodes.</p>
<p>When first attempting to start an 11.2.0.2 cluster node, either during a fresh install or after an upgrade attempt, it is possible that the node will be unable to join the cluster. The Oracle Cluster Synchronization Services (OCSSD) will report a failure to join the existing cluster members.</p>
<p>This will be noted as an inability for the CSS to connect to the other active members of the cluster.</p>
<p>The problem occurs because the clusterware in 11.2.0.2 uses multicast messages to initiate communications on the 230.0.1.0 address. If multicast on these addresses is not enabled for the private interfaces, then the clusterware will be unable to connect to it's peer nodes.</p>
<p><a id="sthref516" name="sthref516"></a><span class="subhead3">Workaround:</span> Contact your network IT department and have them validate that multicast communications are working across all nodes of the cluster on the private interconnect. In particular, ensure that multicast communications on the 230.0.1.0 addresses are working properly between the cluster nodes.</p>
<p class="subhead2"><a id="sthref517" name="sthref517"></a>Bug 9951257</p>
<p>If Oracle Cluster Registry (OCR) is on a disk group and that disk group cannot be automatically mounted, it prevents, Cluster Ready Services Daemon (CRSD) from starting (also reference Bug 9799693).</p>
<p><a id="sthref518" name="sthref518"></a><span class="subhead3">Workaround:</span> You must recover the OCR disk group manually. Determine the reason the disk group has failed to mount, correct the problem and mount the disk group. See also message <code>CRS-5019</code> for recovery options.</p>
<p class="subhead2"><a id="sthref519" name="sthref519"></a>Bug 9948549</p>
<p>If the agent terminates while starting a database or Oracle ASM instance, it is possible that the instance startup will not complete.</p>
<p><a id="sthref520" name="sthref520"></a><span class="subhead3">Workaround:</span> Stop and restart the instance using <code>srvctl</code> or <code>sqlplus</code>.</p>
<p class="subhead2"><a id="sthref521" name="sthref521"></a>Bug 9877357</p>
<p>The Oracle Enterprise Manager configuration fails during DBCA if a policy-managed database's name contains <code>'_'</code> or more than 8 characters.</p>
<p><a id="sthref522" name="sthref522"></a><span class="subhead3">Workaround:</span> Choose a database name accordingly.</p>
<p class="subhead2"><a id="sthref523" name="sthref523"></a>Bug 8974576</p>
<p><code>REMOTE_LISTENER</code> parameter was not changed after a <code>SRVCTL ADD SCAN_LISTENER</code> or <code>SRVCTL REMOVE SCAN_LISTENER</code> command.</p>
<p>In a future release, Oracle Clusterware may start managing <code>REMOTE_LISTENER</code> as part of a project to support multiple public networks each with their own <code>SCAN</code>. But in release 11.2, because of the need to include node VIPs in the <code>REMOTE_LISTENER</code> parameter of pre-11.2 databases that are upgraded, Oracle Clusterware does not have all the data needed to keep <code>REMOTE_LISTENER</code> properly updated. This is, instead, implemented by DBCA and DBUA, or by manual means.</p>
<p><a id="sthref524" name="sthref524"></a><span class="subhead3">Workaround:</span> To manually change the REMOTE_LISTENER parameter, execute the following:</p>
<pre xml:space="preserve" class="oac_no_warn">SQL&gt; ALTER SYSTEM SET REMOTE_LISTENER='t2000-cluster0-scan.t2000-18.oraclecorp.com' sid='*' scope=memory; 

System altered. 
 
SQL&gt; ALTER SYSTEM REGISTER;
 
SQL&gt; SHOW PARAMETER LISTENER;
 
NAME                                 TYPE        VALUE 
------------------------------------ ----------- ------------------------------ 
remote_listener                      string      t2000-cluster0-scan.t2000-18.o 
</pre>
<p class="subhead2"><a id="sthref525" name="sthref525"></a>Bug 8737732</p>
<p>If you upgrade a previous Oracle Clusterware release to Oracle Grid Infrastructure for a cluster 11<span class="italic">g</span> Release 2 (11.2.0.2), Cluster Verification Utility (CVU) may fail if the Oracle Grid Infrastructure for a cluster installation owner does not have correct permissions or ownership of the raw devices on which the Oracle Cluster Registry and voting disk files are placed.</p>
<p><a id="sthref526" name="sthref526"></a><span class="subhead3">Workaround:</span> Check CVU output in the installation log file, and change permissions or ownership of raw devices to the settings specified in the log file. Click Retry to run the configuration tool again.</p>
<p class="subhead2"><a id="sthref527" name="sthref527"></a>Bug 8733944</p>
<p>Due to a problem in Oracle Clusterware starting with release 11.1.0.7, with the patches required for Exadata support or 11.1.0.7 CRS bundle Patch 1, in some cases the CSS daemon may fail when the clusterware is brought down on another node, either due to a shutdown command or a failure.</p>
<p>The symptom is an <code>ASSERT</code> in the CSSD log indicating that a maximum value has been exceeded. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">Group ID of xxxx exceeds max value for global groups
</pre>
<p><a id="sthref528" name="sthref528"></a><span class="subhead3">Workaround:</span> Oracle recommends that customers running with the Exadata support patches or 11.1.0.7 CRS Bundle Patch 1 apply the patch for this bug to avoid this problem.</p>
<p>This problem may also be seen during an upgrade from 11.1.0.7 with patches as indicated above. To eliminate the potential of an 11.1.0.7 node failing during upgrade, the patch for this bug may be applied to the 11.1.0.7 nodes prior to upgrade.</p>
<p>When upgrading, it is recommended that the upgrade be completed on all nodes without restarting any non-upgraded nodes during the upgrade. If an 11.1.0.7 node does fail while performing the upgrade, it should be upgraded as opposed to restarted.</p>
<p class="subhead2"><a id="sthref529" name="sthref529"></a>Bug 8681149</p>
<p>Oracle resources for 10.1 Oracle RAC Databases may not operate properly after upgrading Oracle Clusterware to 11.2.</p>
<p>the patches should be applied to DB home.</p>
<p><a id="sthref530" name="sthref530"></a><span class="subhead3">Workaround:</span> Fixes of the following bugs are needed in a release 10.1 database home after Oracle Clusterware 11g Release 2 (11.2) is installed:</p>
<ul>
<li>
<p>8373758&#x2014;TB-CMP: 11107 SERVICE CAN'T BE BROUGHT UP BY 11107 SRVCTL WHEN WITH 11.2 CRS</p>
</li>
<li>
<p>3841387&#x2014;RACGIMON DOESN'T DUMP TRACE</p>
</li>
</ul>
<p class="subhead2"><a id="sthref531" name="sthref531"></a>Bug 8668083</p>
<p>In Oracle Restart environments, the following commands cannot perform a verification and return an error message if the user equivalence does not exist for the local node:</p>
<pre xml:space="preserve" class="oac_no_warn">cluvfy stage -pre hacfg
cluvfy stage [-pre | -post] cfs
cluvfy stage [-pre | -post] acfscfg
cluvfy comp admprv
cluvfy stage -pre dbcfg
cluvfy stage -pre dbinst
</pre>
<p><a id="sthref532" name="sthref532"></a><span class="subhead3">Workaround:</span> Configure SSH in Oracle Restart.</p>
<p>Contact Oracle Support Services to obtain the patches for these bugs and apply the patches to the Oracle Database home.</p>
<p class="subhead2"><a id="sthref533" name="sthref533"></a>Bug 8666509</p>
<p>A deinstallation of Oracle Clusterware should ask you to detach any pre-11.2 Oracle RAC homes from the Oracle inventory.</p>
<p><a id="sthref534" name="sthref534"></a><span class="subhead3">Workaround:</span> After you deconfigure and deinstall an upgraded 11.2 Oracle RAC home and want to continue with deconfiguration and deinstallation of the Oracle Grid Infrastructure for a cluster home, first detach any pre-11.2 Oracle RAC software homes from the central Inventory.</p>
<p class="subhead2"><a id="sthref535" name="sthref535"></a>Bug 8657184</p>
<p>If two network interfaces are configured as public network interfaces in the cluster, the failure of one public interface on a node does not result in automatic VIP failover to the other public interface.</p>
<p><a id="sthref536" name="sthref536"></a><span class="subhead3">Workaround:</span> If multiple public networks interfaces are present, then use interface bonding for high availability. At the Oracle Clusterware installer "Specify Network Interface Usage" screen, choose only one (bonded) interface as public. When configuring public networks with <code>srvctl</code> <code>add</code> <code>nodeapps</code> or <code>srvctl</code> <code>add</code> <code>vip</code>, specify only a single network interface name in the <code>-A</code> or <code>-S</code> argument.</p>
<p class="subhead2"><a id="sthref537" name="sthref537"></a>Bug 8641798</p>
<p>Oracle resources for pre-11.2 Oracle RAC databases may not operate properly after upgrading Oracle Clusterware to 11.2.</p>
<p><a id="sthref538" name="sthref538"></a><span class="subhead3">Workaround:</span> After installing Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2), contact Oracle Support Services to obtain the patches for the following bugs:</p>
<ul>
<li>
<p>8373758 - TB-CMP: 11107 SERVICE CAN'T BE BROUGHT UP BY 11107 SRVCTL WHEN WITH 11.2 CRS</p>
</li>
<li>
<p>8441769 - TB_UD: INCORRECT SERVICE INFO REGISTER TO DB, UPGRADE CRS_HOME 11.1.0.7 -&gt; 11.2</p>
</li>
<li>
<p>8406545 - TB-CMP: RESTART OF 11.2 HAS STACK FAILED TO BRING UP 11.1 RAC INSTANCE</p>
</li>
<li>
<p>8262786 - TB-CMP: FAIL TO START 11106 DB INSTANCE WITH 11.2 CRS</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
You should apply the patches to the Oracle Database home.</div>
</li>
</ul>
<p class="subhead2"><a id="sthref539" name="sthref539"></a>Bug 8288940</p>
<p>Creating pre-11.2 Oracle RAC database in 11.2 Oracle Grid Infrastructure for a cluster environment using DBCA may fail with following messages. When using a cluster file system as storage, you see the following message:</p>
<pre xml:space="preserve" class="oac_no_warn">ORA-00119: invalid specification for system parameter REMOTE_LISTENER
</pre>
<p>When using Oracle ASM as storage, you see the following message:</p>
<pre xml:space="preserve" class="oac_no_warn">DBCA could not startup the ASM instance configured on this node
</pre>
<p><a id="sthref540" name="sthref540"></a><span class="subhead3">Workaround:</span> Apply the patch for this bug in pre-11.2 database home. This patch is needed for 10.2.0.4, 11.1.0.6 and 11.1.0.7 database releases. No patch is needed for release 10.2.0.5.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref541" name="sthref541"></a>
<h4 class="sect3"><span class="secnum">2.39.7</span> Oracle Data Pump Known Bugs</h4>
<p class="subhead2"><a id="sthref542" name="sthref542"></a>Bug 10013976</p>
<p>When a database level, schema level, or queue table database export log generated from an 11.2 database is imported into an 11.2 database, <code>ORA-1403</code> errors may be raised during an Oracle Streams Advanced Queuing (AQ) procedural import action. Import completes successfully with errors.</p>
<p><a id="sthref543" name="sthref543"></a><span class="subhead3">Workaround:&nbsp;</span>None. The <code>ORA-1403</code> errors in the import log are not fatal. Import of database objects including AQ queues completes successfully.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref544" name="sthref544"></a>
<h4 class="sect3"><span class="secnum">2.39.8</span> Oracle Database Vault Known Bugs</h4>
<p class="subhead2"><a id="sthref545" name="sthref545"></a>Bug 10225918</p>
<p>The stated issue can be reproduced when Database Configuration Assistant (DBCA) attempts to configure Database Vault while the local listener is not properly configured. Since this failure leads to partially populated metadata, some Database Vault features may not function as expected.</p>
<p><a id="sthref546" name="sthref546"></a><span class="subhead3">Workaround:&nbsp;</span>The following steps explain a workaround to this issue:</p>
<ol>
<li>
<p>Remove Database Vault completely using <code>rdbms/admin/dvremove.sql</code>.</p>
</li>
<li>
<p>Make sure that local listener (<code>LISTENER</code>) is configured properly.</p>
</li>
<li>
<p>Retry Database Vault installation and configuration using DBCA.</p>
</li>
</ol>
<p>Optionally, you can manually execute the failed DVCA operations (for example, <code>dvca -action addlanguages</code> and <code>catmacpost.sql</code>) to recover from the failure by following the steps previously mentioned. Make sure that local listener (<code>LISTENER</code>) is configured properly before running the steps.</p>
<p class="subhead2"><a id="sthref547" name="sthref547"></a>Bug 8686258</p>
<p>Database Vault policy cannot be managed in Oracle Enterprise Manager DB Control because the following message is displayed in Database Vault Administration page:</p>
<pre xml:space="preserve" class="oac_no_warn">"OPERATOR TARGET" privilege does not exist.
"You must have OPERATOR TARGET privilege to perform this operation."
</pre>
<p><a id="sthref548" name="sthref548"></a><span class="subhead3">Workaround:</span> To manage Database Vault policy using Oracle Enterprise Manager, the Database Vault administrator must have the EM Administrator privilege. If you do not want to grant the EM Administrator privilege to the Database Vault administrator, then use the Database Vault Administrator page directly. For additional information, see <span class="italic"><a class="olink DVADM70290" href="http://www.oracle.com/pls/db112/lookup?id=DVADM70290">Oracle Database Vault Administrator's Guide</a></span>.</p>
<p class="subhead2"><a id="sthref549" name="sthref549"></a>Bug 8474817</p>
<p>If a user is granted Database Vault scheduler job authorization by <code>DBMS_MACADM.AUTHORIZE_SCHEDULER_USER</code> API, dropping this user does not remove the user from the list of authorized users.</p>
<p><a id="sthref550" name="sthref550"></a><span class="subhead3">Workaround:</span> Invoke the <code>DBMS_MACADM.UNAUTHORIZE_SCHEDULER_USER</code> API call to remove the user's authorization manually.</p>
<p class="subhead2"><a id="sthref551" name="sthref551"></a>Bug 8341283</p>
<p>The <code>ACTION_NAME</code> entry in the <code>DVSYS.AUDIT_TRAIL$</code> table displays <code>Realm Authorization Audit</code> for a failed realm enforcement if the audit option is set to audit on success and failure. The <code>RETURNCODE</code> will show the correct error code that was triggered.</p>
<p><a id="sthref552" name="sthref552"></a><span class="subhead3">Workaround:</span> Use the <code>RETURNCODE</code> value to determine whether a violation has occurred and the <code>ACTION_NAME</code> column to identify whether the audit was generated by a realm enforcement or command rule enforcement.</p>
<p class="subhead2"><a id="sthref553" name="sthref553"></a>Bug 8247647</p>
<p>Dropping a user does not automatically remove the user from the list of authorized users for Oracle Data Pump.</p>
<p><a id="sthref554" name="sthref554"></a><span class="subhead3">Workaround:</span> Invoke the <code>DBMS_MACADM.UNAUTHORIZE_DATAPUMP_USER</code> API call to manually remove the user's authorization for Oracle Data Pump.</p>
<p class="subhead2"><a id="sthref555" name="sthref555"></a>Bug 7033772</p>
<p>Database Vault Administrator (DVA) does not work after an Enterprise Manager DBControl upgrade.</p>
<p><a id="sthref556" name="sthref556"></a><span class="subhead3">Workaround:</span> Manually redeploy DVA after DBControl has been upgraded. You can follow the steps described in Appendix C, Section "Deploying Database Vault Administrator to the Database Console OC4J Container" of the <span class="italic"><a class="olink DVADM71067" href="http://www.oracle.com/pls/db112/lookup?id=DVADM71067">Oracle Database Vault Administrator's Guide</a></span>.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref557" name="sthref557"></a>
<h4 class="sect3"><span class="secnum">2.39.9</span> Oracle Database Enterprise Edition Known Bugs</h4>
<p class="subhead2"><a id="sthref558" name="sthref558"></a>Bug 10107649</p>
<p>Creating a draft service request (SR) might fail when uploading a correlated package.</p>
<p><a id="sthref559" name="sthref559"></a><span class="subhead3">Workaround:&nbsp;</span>Upload the correlated package to an existing SR (normally the same SR as the main package).</p>
<p class="subhead2"><a id="sthref560" name="sthref560"></a>Bug 9951827</p>
<p>Transportable tablespace import does not handle timestamp with timezone version change.</p>
<p>If a transportable dumpfile produced in 11.2.0.2 contains tables with timestamp with timezone columns and the version of the timezone table on the target database is different than that from the source database, the import is be prevented from running.</p>
<p>If a dumpfile produced prior to 11.2.0.2 had a different timezone table version than that of the target, then the import is be prevented from running.</p>
<p><a id="sthref561" name="sthref561"></a><span class="subhead3">Workaround:&nbsp;</span>Make sure the timezone tables for the import and export databases are the same.</p>
<p class="subhead2"><a id="sthref562" name="sthref562"></a>Bug 9859532</p>
<p>Current implementation of node-specific network interfaces requires complete definition of all networks used by Oracle RAC for that node (that is, either node abides by global network configuration or it defines its own node-specific network configuration).</p>
<p>As a corollary, once the first node-specific network interface is defined for a given node, Oracle RAC will not consider any configured global network interfaces that are already configured and may have applied for the same node.</p>
<p>While this is correct, it presents a problem. If the cluster had a working global network configuration, the moment a user updates it (using <code>oifcfg</code>) to define a node-specific <code>public</code> interface, a global configuration will not be considered for this node, and it will have only one newly-defined <code>public</code> interface. Any cluster interconnects that existed in the global network configuration, and may still resolve fine for this node, will not be considered valid. Thus, the node loses cluster interconnects and PCW stack goes down on that node.</p>
<p><a id="sthref563" name="sthref563"></a><span class="subhead3">Workaround:&nbsp;</span>If the node belongs to a global cluster network configuration, then if there is an intent to make network configuration node-specific, the first defined node-specific interface must be cluster interconnect, so that node never loses interconnect with other cluster nodes. Then, other node-specific interfaces can be defined as necessary.</p>
<p class="subhead2"><a id="sthref564" name="sthref564"></a>Bug 9181675</p>
<p>The <code>asmgidwrap</code> script needs to be called if you are creating a database manually on Oracle ASM to avoid a permission error.</p>
<p><a id="sthref565" name="sthref565"></a><span class="subhead3">Workaround:&nbsp;</span>For a role-separated installation (that is, there is a different user and group for grid and RDBMS), use DBCA to create the database that automatically calls <code>asmgidwrap</code> script while creating a database on Oracle ASM. If you choose to create a database manually, the script needs to be called explicitly so the proper group can be set to avoid a permission error.</p>
<p class="subhead2"><a id="sthref566" name="sthref566"></a>Bug 8729627</p>
<p>When using 11.1 DBCA to remove a database on a cluster running 11.2 Oracle Clusterware, a <code>PRKP-1061/CRS-2524</code> error may be displayed because the database resource is locked.</p>
<p><a id="sthref567" name="sthref567"></a><span class="subhead3">Workaround:&nbsp;</span>You can ignore the message. Click <span class="bold">OK</span> to continue.</p>
<p class="subhead2"><a id="sthref568" name="sthref568"></a>Bug 8679182</p>
<p>When configuring a database on a cluster that has multiple public subnets defined for its VIPs (for example, using a command similar to <code>srvctl add vip -k 2 -A ...</code>), the database agent automatically sets <code>LOCAL_LISTENER</code> to the listener on the default network. This may duplicate a listener set in <code>LISTENER_NETWORKS</code>.</p>
<p><a id="sthref569" name="sthref569"></a><span class="subhead3">Workaround:&nbsp;</span>Do not specify listeners in <code>LISTENER_NETWORKS</code> that are on the default public subnet.</p>
<p class="subhead2"><a id="sthref570" name="sthref570"></a>Bug 8671032</p>
<p>In Oracle Enterprise Manager, the "TIP" obtained from the "Run Analysis" on the Automatic Undo Management page is not correct. For example, the Recommended Undo Tablespace Size should be three times the Minimum Size, to allow for workload fluctuations, but Oracle Enterprise Manager shows different values.</p>
<p><a id="sthref571" name="sthref571"></a><span class="subhead3">Workaround:&nbsp;</span>The "TIP" should read as follows:</p>
<pre xml:space="preserve" class="oac_no_warn">Oracle advises that you configure the undo tablespace to be three times the Recommended Undo Tablespace Size to allow for workload fluctuations
</pre>
<p class="subhead2"><a id="sthref572" name="sthref572"></a>Bug 8304261</p>
<p>If compression attributes are specified at the table level and in the sub-partition template, newly created interval partitions do not use the compression attributes defined in the sub-partition template, but use the table level compression instead.</p>
<p><a id="sthref573" name="sthref573"></a><span class="subhead3">Workaround:</span> Redefine compression attributes in sub-partitions.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref574" name="sthref574"></a>
<h4 class="sect3"><span class="secnum">2.39.10</span> Oracle Enterprise Manager DB Control Known Bugs</h4>
<p class="subhead2"><a id="sthref575" name="sthref575"></a>Bug 10162200</p>
<p>Clone Database offers an option to configure Database Control during the clone process. If that option is specified when creating an Oracle ASM-based clone database, Database Control is not configured.</p>
<p><a id="sthref576" name="sthref576"></a><span class="subhead3">Workaround: &nbsp;</span>Manually run Oracle Enterprise Manager Configuration Assistant (EMCA) to setup Database Control.</p>
<p class="subhead2"><a id="sthref577" name="sthref577"></a>Bug 9766628</p>
<p><code>emctl</code> commands did not return valid results as expected.</p>
<p><a id="sthref578" name="sthref578"></a><span class="subhead3">Workaround:&nbsp;</span>The <code>emctl</code> command needs to be run from an Oracle Database home. Do not invoke this command from the Oracle Grid Infrastructure for a cluster home.</p>
<p class="subhead2"><a id="sthref579" name="sthref579"></a>Bug 8674920</p>
<p>If the installation owners for the Oracle Grid Infrastructure for a cluster and Oracle Database are different, then the owners of Oracle ASM binaries and Oracle Enterprise Manager Agent binaries are also different. When you start Support Workbench, the error message <code>Error Operation failed - Operation failed</code> might appear, because the Oracle Enterprise Manager Agent is running as a different user, and Support Workbench does not have permissions for the Oracle ASM target.</p>
<p><a id="sthref580" name="sthref580"></a><span class="subhead3">Workaround:&nbsp;</span>None.</p>
<p class="subhead2"><a id="sthref581" name="sthref581"></a>Bug 8350597</p>
<p>If DB Control is running in an IPv6 environment, then you cannot use it to monitor Exadata cells and you should not add Exadata cells as targets.</p>
<p><a id="sthref582" name="sthref582"></a><span class="subhead3">Workaround:&nbsp;</span>None.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref583" name="sthref583"></a>
<h4 class="sect3"><span class="secnum">2.39.11</span> Oracle Database QoS Management</h4>
<p class="subhead2"><a id="sthref584" name="sthref584"></a>Bug 10019209</p>
<p>This bug applies to platforms that support the Cluster Health Monitor (CHM) (currently LINUX, LINUX.X64, SOLARIS.SPARC32/64 and SOLARIS.X32/64 in 11.2.0.2). If an Oracle Clusterware-managed database service is in a stopped but not disabled state, it will be started by Oracle Database QoS Management if the server hosting that service is not detected to be in a memory over-committed state. If memory is over-committed, then all enabled services will be stopped even if they were manually started. The desired behavior is to only start services on the transition from a memory over-committed state (red) to a normal state (green). If a service is manually started when the server is in the red state, that service should not be shut down.</p>
<p><a id="sthref585" name="sthref585"></a><span class="subhead3">Workaround:&nbsp;</span>Stop and disable services that you want to remain in the stopped state or disable QoS Management from the Oracle Enterprise Manager Console.</p>
<p class="subhead2"><a id="sthref586" name="sthref586"></a>Bug 10019186</p>
<p>The Oracle Database QoS Management feature that protects servers from memory over commitment is only available on platforms that also support Cluster Health Monitor (CHM). For 11.2.0.2, these platforms are LINUX, LINUX.X64, SOLARIS.SPARC32/64 and SOLARIS.X32/64.</p>
<p><a id="sthref587" name="sthref587"></a><span class="subhead3">Workaround:&nbsp;</span>None.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref588" name="sthref588"></a>
<h4 class="sect3"><span class="secnum">2.39.12</span> Oracle OLAP Known Bugs</h4>
<p class="subhead2"><a id="sthref589" name="sthref589"></a>Bug 9917299</p>
<p>If the database is installed using the seed provided in the installation kit, and the OLAP option is not selected, then either at the end of the installation or some time later, the OLAP Analytic Workspace and OLAP API components will be reported as invalid.</p>
<p>This will not affect the running of the instance in any way, other than the error messages.</p>
<p><a id="sthref590" name="sthref590"></a><span class="subhead3">Workaround:&nbsp;</span>Do one of the following as a workaround:</p>
<ul>
<li>
<p>Ignore the error.</p>
</li>
<li>
<p>Enable OLAP (or the offending option).</p>
</li>
<li>
<p>Create and use your own seed database that does not include OLAP.</p>
</li>
</ul>
<p class="subhead2"><a id="sthref591" name="sthref591"></a>Bug 9545221</p>
<p>Importing an materialized view-enabled cube or cube dimension whose source table is not part of the target schema fails with an <code>Object not found</code> error.</p>
<p><a id="sthref592" name="sthref592"></a><span class="subhead3">Workaround:&nbsp;</span>Disable materialized views for the failing object prior to the import, then reenable them when the source tables are present.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref593" name="sthref593"></a>
<h4 class="sect3"><span class="secnum">2.39.13</span> Oracle SQL*Loader Known Bugs</h4>
<p class="subhead2"><a id="sthref594" name="sthref594"></a>Bug 9301862</p>
<p>When external table code reads very large files on disks served by NFS, the I/O performance of the read can slow down over time. This is caused by NFS caching blocks from the file in memory as it is read. Since these blocks are not re-read, the time spent maintaining the cache slows down the I/O operations.</p>
<p><a id="sthref595" name="sthref595"></a><span class="subhead3">Workaround:&nbsp;</span>The current behavior (of not using the <code>O_DIRECT</code> flags) remains the default. You can enable the use of the <code>O_DIRECT</code> flag in the following ways:</p>
<ul>
<li>
<p>Enable fix control for this bug and set it to <code>ON</code> with the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">ALTER SESSION SET "_fix_control"='9301862:ON';
</pre>
<p>When fix control is enabled, the external table code looks at the <code>FILESYSTEMIO_OPTIONS</code> configuration parameter and if it is set to either <code>DIRECTIO</code> or <code>SETALL</code>, then the <code>ORACLE_LOADER</code> access driver will specify the <code>O_DIRECT</code> flag when opening data files for reading. If the <code>FILESYSTEMIO_OPTIONS</code> parameter is not set or if it is set to other values, then the access driver will not attempt to use <code>O_DIRECT</code> unless you choose the following option.</p>
</li>
<li>
<p>Use the new <code>IO_OPTIONS</code> clause in the access driver to specify direct I/O. The clause is part of the larger <code>RECORDS</code> clause. The syntax is:</p>
<pre xml:space="preserve" class="oac_no_warn">IO_OPTIONS (DIRECTIO | NODIRECTIO)
</pre>
<p>If <code>DIRECTIO</code> is specified, then the access driver uses <code>O_DIRECT</code> flag when opening the file. If <code>NODIRECTIO</code> is specified, then the access driver does not use the <code>O_DIRECT</code> flag. Note that the action specified by <code>IO_OPTIONS</code> is performed regardless of the setting of <code>_fix_control</code> for this bug.</p>
<p>Note that the first option is a way to enable the use of <code>O_DIRECT</code> for all external tables while the second option allows <code>DIRECTIO</code> to be used or not used for specific external tables.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref596" name="sthref596"></a>
<h4 class="sect3"><span class="secnum">2.39.14</span> Oracle Streams Known Bugs</h4>
<p class="subhead2"><a id="sthref597" name="sthref597"></a>Bug 10115681</p>
<p>When the client application detaches from an inbound server while transmitting a transaction with more than 1000 logical change records (LCRs), the coordinator process aborts because it receives an invalid dequeue low-watermark from the reader server.</p>
<p><a id="sthref598" name="sthref598"></a><span class="subhead3">Workaround:&nbsp;</span>Avoid detaching from the inbound server in the middle of a large transaction. Wait until the <code>COMMIT</code> LCR for the large transaction is sent and then detach.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref599" name="sthref599"></a>
<h4 class="sect3"><span class="secnum">2.39.15</span> Oracle Universal Installer Known Bugs</h4>
<p class="subhead2"><a id="sthref600" name="sthref600"></a>Bug 10253337</p>
<p><code>addnode.sh</code> fails if <code>DISPLAY</code> is not set.</p>
<p><a id="sthref601" name="sthref601"></a><span class="subhead3">Workaround:&nbsp;</span>Run the <code>addnode.sh</code> command with <code>-silent</code> flag.</p>
<p class="subhead2"><a id="sthref602" name="sthref602"></a>Bug 10096522</p>
<p>Running the <code>configToolAllCommands</code> configuration step after the silent installation of Oracle Grid Infrastructure software or database software may fail if the installer session was restarted while choosing to apply software updates.</p>
<p><a id="sthref603" name="sthref603"></a><span class="subhead3">Workaround:&nbsp;</span>Change the value for <code>JRE_LOCATION</code> property in <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/oui/bin/runconfig.sh</code> to <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/jdk/jre</code>, and then run <code>configToolAllCommands</code> again.</p>
<p class="subhead2"><a id="sthref604" name="sthref604"></a>Bug 10053840</p>
<p><code>clone</code> or <code>addNode</code> operations may fail if the installer session was restarted while choosing to apply software updates in source Oracle home.</p>
<p><a id="sthref605" name="sthref605"></a><span class="subhead3">Workaround:&nbsp;</span>Change the value for <code>JRE_LOCATION</code> property in <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/oui/oraparam.ini</code> to <code>../../jdk/jre</code>.</p>
<p class="subhead2"><a id="sthref606" name="sthref606"></a>Bug 10053090</p>
<p>During the prerequisite checks step of installation, the OUI may display an error with text <code>-1</code>, and the prerequisite page result shows <code>No results</code>.</p>
<p><a id="sthref607" name="sthref607"></a><span class="subhead3">Workaround:&nbsp;</span>Reexecute the prerequisites by clicking on the <code>Check Again</code> button.</p>
<p class="subhead2"><a id="sthref608" name="sthref608"></a>Bug 8729326</p>
<p>When upgrading to 11.2 Clusterware, the Installer invokes ASMCA in silent mode to upgrade Oracle ASM into Oracle Grid Infrastructure for a cluster home. Oracle ASM upgrade is handled in rolling fashion when upgrading from 11.1.0.7. Prior versions of Oracle ASM instances are upgraded in non-rolling fashion and Oracle ASM-based databases are bounced without any prior warning.</p>
<p><a id="sthref609" name="sthref609"></a><span class="subhead3">Workaround:&nbsp;</span>You can plan your database outage to be the point where you acknowledge the Installer prompt after executing <code>root.sh</code> on all nodes. At this point, CRS is upgraded in rolling fashion and the Installer will be calling ASMCA to upgrade Oracle ASM, which will bounce databases as part of Oracle ASM upgrade.</p>
<p class="subhead2"><a id="sthref610" name="sthref610"></a>Bug 8666656</p>
<p>The Oracle Universal Installer (OUI) <code>runInstaller</code> script that resides in the Oracle home (<code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/oui/bin/runInstaller</code>) cannot be used to install the 11.2.0.1 releases of Oracle Database, Oracle Grid Infrastructure for a cluster, and Oracle Database Client.</p>
<p><a id="sthref611" name="sthref611"></a><span class="subhead3">Workaround:&nbsp;</span>Use Oracle Universal Installer on the respective 11.2.0.1.0 product media to install each product.</p>
<p class="subhead2"><a id="sthref612" name="sthref612"></a>Bug 8638708</p>
<p>If you select the database configuration Desktop Class in Oracle Universal Installer (OUI), listener and database control are configured with <code>'localhost'</code> as the host name. The Oracle Enterprise Manager DB Control <code>start</code> and <code>stop</code> operations using <code>emctl</code> may fail.</p>
<p><a id="sthref613" name="sthref613"></a><span class="subhead3">Workaround:&nbsp;</span>For DB Control start and stop operations that use <code>emctl</code> in that home, set the <code>ORACLE_HOSTNAME</code> environment variable to <code>'localhost'</code>.</p>
<p class="subhead2"><a id="sthref614" name="sthref614"></a>Bug 8407818</p>
<p>After adding a new node to a shared Oracle database home using <code>addNode.sh</code>, the <code>/etc/oratab</code> on the newly added node gets an entry of the source database name that exists on the source node from where <code>addNode.sh</code> was run. The <code>/etc/oratab</code> file on the new node is supposed to get the database entry after the database instance is added for the new node using DBCA.</p>
<p><a id="sthref615" name="sthref615"></a><span class="subhead3">Workaround:&nbsp;</span>Before invoking DBCA from the source node to add a new database instance for the new node, open the <code>/etc/oratab</code> file on the new node using an editor and remove the entry made for the source database name.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref616" name="sthref616"></a>
<h4 class="sect3"><span class="secnum">2.39.16</span> Vendor and Operating System Known Bugs</h4>
<p class="subhead2"><a id="sthref617" name="sthref617"></a>Bug 8256753</p>
<p>A connect using <code>SCAN</code> and <code>EZCONNECT</code> on one client machine can be requested to use a specific <code>SCAN</code> listener. Therefore, load balancing by round-robin DNS is not possible.</p>
<p><a id="sthref618" name="sthref618"></a><span class="subhead3">Workaround:&nbsp;</span>Connect to a database using the following configuration specifying <code>LOAD_BALANCE=on</code> in <code>tnsnames.ora</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">ORCL = 
   (DESCRIPTION = 
     (LOAD_BALANCE=on) 
     (ADDRESS = (PROTOCOL = TCP)(HOST = stscan1)(PORT = 1521)) 
     (CONNECT_DATA = 
       (SERVER = DEDICATED) 
       (SERVICE_NAME = srv.world) 
     ) 
   ) 
</pre></div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref619" name="sthref619"></a>
<h4 class="sect3"><span class="secnum">2.39.17</span> Oracle Wallet Manager</h4>
<p class="subhead2"><a id="sthref620" name="sthref620"></a>Bug 9880435</p>
<p>Oracle Wallet Manager fails to upload wallet to Directory service when the wallet password and the directory user password are different.</p>
<p><a id="sthref621" name="sthref621"></a><span class="subhead3">Workaround:&nbsp;</span>Use the same password for the wallet and the directory user.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref622" name="sthref622"></a>
<h4 class="sect3"><span class="secnum">2.39.18</span> Oracle Warehouse Builder Known Bugs</h4>
<p>Refer to "Open Bugs and Known Issues" in <span class="italic"><a class="olink WBREL" href="../../relnotes.112/e10585/toc.htm">Oracle Warehouse Builder Release Notes</a></span>.</p>
<p class="subhead2"><a id="sthref623" name="sthref623"></a>Bug 10010873</p>
<p>Oracle Warehouse Builder (OWB) 11.2.0.1 Design Center client is not compatible with OWB 11.2.0.2 server-side components. Using OWB 11.2.0.1 Design Center to connect to an 11.2.0.2 OWB repository can cause unpredictable behavior, possibly including repository corruption.</p>
<p><a id="sthref624" name="sthref624"></a><span class="subhead3">Workaround:&nbsp;</span>To avoid these conflicts, configure OWB 11.2.0.1 to check the version of the target repository at connection time.</p>
<p>Edit <code>OWB_CLIENT_HOME/owb/bin/admin/Preference.properties</code> on each client installation, and update the <code>OverrideRuntimeVersionCheck</code> and <code>OverrideRepositoryVersionCheck</code> preferences as follows:</p>
<pre xml:space="preserve" class="oac_no_warn">OverrideRuntimeVersionCheck=false
OverrideRepositoryVersionCheck=false
</pre>
<p>This change to <code>Preference.properties</code> should be applied to the 11.2.0.1 Design Center installation on every client host.</p>
<p>To use OWB Design Center with 11.2.0.2 databases, use the OWB 11.2.0.2 Linux 32-bit Design Center until the OWB 11.2.0.2 Windows 32-bit Design Center is available.</p>
<p>If you cannot use OWB 11.2.0.2 Linux 32-bit Design Center client in your environment, contact Oracle Support Services for further assistance.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref625" name="sthref625"></a>
<h4 class="sect3"><span class="secnum">2.39.19</span> Oracle XML Database Known Bugs</h4>
<p class="subhead2"><a id="sthref626" name="sthref626"></a>Bug 10018899</p>
<p>Because operator arguments are not checked for tracking changes to database objects, an existing result cache cannot be invalidated when one of those objects is updated.</p>
<p>The <code>xmlexists</code> operator is affected by this problem as well as any operator that accepts a database object as an argument.</p>
<p><a id="sthref627" name="sthref627"></a><span class="subhead3">Workaround:&nbsp;</span>Disable or flush the result cache for queries that involve such operators.</p>
<p class="subhead2"><a id="sthref628" name="sthref628"></a>Bug 9586264</p>
<p>In order to fully optimize some <code>XMLQUERY</code> or <code>XMLTABLE</code> queries, <code>OPTIMIZER_FEATURE_ENABLE</code> should be set to 11.1.0.6 or above.</p>
<p><a id="sthref629" name="sthref629"></a><span class="subhead3">Workaround:&nbsp;</span>None.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDHECEF" name="CHDHECEF"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3</span> Documentation Accessibility</h2>
<p>Our goal is to make Oracle products, services, and supporting documentation accessible to all users, including users that are disabled. To that end, our documentation includes features that make information available to users of assistive technology. This documentation is available in HTML format, and contains markup to facilitate access by the disabled community. Accessibility standards will continue to evolve over time, and Oracle is actively engaged with other market-leading technology vendors to address technical obstacles so that our documentation can be accessible to all of our customers. For more information, visit the Oracle Accessibility Program Web site at <code><a href="http://www.oracle.com/accessibility/">http://www.oracle.com/accessibility/</a></code>.</p>
<p class="subhead2"><a id="sthref630" name="sthref630"></a>Accessibility of Code Examples in Documentation</p>
<p>Screen readers may not always correctly read the code examples in this document. The conventions for writing code require that closing braces should appear on an otherwise empty line; however, some screen readers may not always read a line of text that consists solely of a bracket or brace.</p>
<p class="subhead2"><a id="sthref631" name="sthref631"></a>Accessibility of Links to External Web Sites in Documentation</p>
<p>This documentation may contain links to Web sites of other companies or organizations that Oracle does not own or control. Oracle neither evaluates nor makes any representations regarding the accessibility of these Web sites.</p>
<p class="subhead2"><a id="sthref632" name="sthref632"></a>Deaf/Hard of Hearing Access to Oracle Support Services</p>
<p>To reach Oracle Support Services, use a telecommunications relay service (TRS) to call Oracle Support at 1.800.223.1711. An Oracle Support Services engineer will handle technical issues and provide customer support according to the Oracle service request process. Information about TRS is available at <code><a href="http://www.fcc.gov/cgb/consumerfacts/trs.html">http://www.fcc.gov/cgb/consumerfacts/trs.html</a></code>, and a list of phone numbers is available at <code><a href="http://www.fcc.gov/cgb/dro/trsphonebk.html">http://www.fcc.gov/cgb/dro/trsphonebk.html</a></code>.</p>
</div>
<!-- class="sect1" -->
<a id="sthref633" name="sthref633"></a>
<hr />
<p>Oracle Database Readme, 11<span class="italic">g</span> Release 2 (11.2)</p>
<p>E17129-05</p>
<p>Copyright &copy; 2010,&nbsp;Oracle and/or its affiliates. All rights reserved.</p>
<p>This software and related documentation are provided under a license agreement containing restrictions on use and disclosure and are protected by intellectual property laws. Except as expressly permitted in your license agreement or allowed by law, you may not use, copy, reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish, or display any part, in any form, or by any means. Reverse engineering, disassembly, or decompilation of this software, unless required by law for interoperability, is prohibited.</p>
<p>The information contained herein is subject to change without notice and is not warranted to be error-free. If you find any errors, please report them to us in writing.</p>
<p>If this software or related documentation is delivered to the U.S. Government or anyone licensing it on behalf of the U.S. Government, the following notice is applicable:</p>
<p>U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S. Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable Federal Acquisition Regulation and agency-specific supplemental regulations. As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License (December 2007). Oracle USA, Inc., 500 Oracle Parkway, Redwood City, CA 94065.</p>
<p>This software is developed for general use in a variety of information management applications. It is not developed or intended for use in any inherently dangerous applications, including applications which may create a risk of personal injury. If you use this software in dangerous applications, then you shall be responsible to take all appropriate fail-safe, backup, redundancy, and other measures to ensure the safe use of this software. Oracle Corporation and its affiliates disclaim any liability for any damages caused by use of this software in dangerous applications.</p>
<p>Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners.</p>
<p>This software and documentation may provide access to or information on content, products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and expressly disclaim all warranties of any kind with respect to third-party content, products, and services. Oracle Corporation and its affiliates will not be responsible for any loss, costs, or damages incurred due to your access to or use of third-party content, products, or services.</p>
</div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">&nbsp;</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="196">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
