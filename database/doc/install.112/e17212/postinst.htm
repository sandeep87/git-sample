<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Oracle Grid Infrastructure Postinstallation Procedures</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 020" />
<meta name="Date" content="2011-03-24T11:1:6Z" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="doctitle" content="Oracle&reg; Grid Infrastructure Installation Guide 11g Release 2 (11.2) for Linux" />
<meta name="partno" content="E17212-11" />
<meta name="docid" content="CWLIN" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="crsunix.htm" title="Previous" type="text/html" />
<link rel="Next" href="rem_orcl.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17212.pdf" title="PDF version" type="application/pdf" />
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Grid Infrastructure Installation Guide<br />
11<i>g</i> Release 2 (11.2) for Linux</b><br />
Part Number E17212-11</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="crsunix.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e17212.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="BABHHEHG" name="BABHHEHG"></a><a id="CWLIN326" name="CWLIN326"></a>
<h1 class="chapter"><span class="secnum">5</span> Oracle Grid Infrastructure Postinstallation Procedures</h1>
<p>This chapter describes how to complete the postinstallation tasks after you have installed the Oracle Grid Infrastructure software.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABGBHBB">Required Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#BABEJBEA">Recommended Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#BABEHEEH">Using Older Oracle Database Versions with Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABBEJFG">Modifying Oracle Clusterware Binaries After Installation</a></p>
</li>
</ul>
<a id="BABGBHBB" name="BABGBHBB"></a><a id="CWLIN327" name="CWLIN327"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Required Postinstallation Tasks</h2>
<p>You must perform the following tasks after completing your installation:</p>
<ul>
<li>
<p><a href="#CHDCIICF">Download and Install Patch Updates</a></p>
</li>
</ul>
<div class="infoboxnote">
<p class="notep1">Note:</p>
In prior releases, backing up the voting disks using a <code>dd</code> command was a required postinstallation task. With Oracle Clusterware 11<span class="italic">g</span> release 11.2 and later, backing up and restoring a voting disk using the <code>dd</code> command may result in the loss of the voting disk, so this procedure is not supported.</div>
<a id="CHDCIICF" name="CHDCIICF"></a><a id="CWLIN328" name="CWLIN328"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.1</span> Download and Install Patch Updates</h3>
<p>Refer to the My Oracle Support Web site for required <a id="sthref700" name="sthref700"></a><a id="sthref701" name="sthref701"></a><a id="sthref702" name="sthref702"></a><a id="sthref703" name="sthref703"></a><a id="sthref704" name="sthref704"></a>patch updates for your <a id="sthref705" name="sthref705"></a>installation.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Browsers require an Adobe Flash plug-in, version 9.0.115 or higher to use My Oracle Support. Check your browser for the correct version of Flash plug-in by going to the Adobe Flash checker page, and installing the latest version of Adobe Flash.
<p>If you do not have Flash installed, then download the latest version of the Flash Player from the Adobe Web site:</p>
<pre xml:space="preserve" class="oac_no_warn"><a href="http://www.adobe.com/go/getflashplayer">http://www.adobe.com/go/getflashplayer</a>
</pre></div>
<p>To download required patch updates:</p>
<ol>
<li>
<p>Use a Web browser to view the My Oracle Support Web site:</p>
<p><code><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
</li>
<li>
<p>Log in to My Oracle Support Web site.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If you are not a My Oracle Support registered user, then click <span class="bold">Register for My Oracle Support</span> and register.</div>
</li>
<li>
<p>On the main My Oracle Support page, click <span class="bold">Patches &amp; Updates</span>.</p>
</li>
<li>
<p>On the Patches &amp; Update page, click <span class="bold">Advanced Search</span>.</p>
</li>
<li>
<p>On the Advanced Search page, click the search icon next to the Product or Product Family field.</p>
</li>
<li>
<p>In the Search and Select: Product Family field, select <span class="bold">Database and Tools</span> in the Search list field, enter RDBMS Server in the text field, and click <span class="bold">Go</span>.</p>
<p>RDBMS Server appears in the Product or Product Family field. The current release appears in the Release field.</p>
</li>
<li>
<p>Select your platform from the list in the Platform field, and at the bottom of the selection list, click <span class="bold">Go</span>.</p>
</li>
<li>
<p>Any available patch updates appear under the <span class="bold">Results</span> heading.</p>
</li>
<li>
<p>Click the patch number to download the patch.</p>
</li>
<li>
<p>On the Patch Set page, click <span class="bold">View README</span>&nbsp;and read the page that appears. The README page contains information about the patch set and how to apply the patches to your installation.</p>
</li>
<li>
<p>Return to the Patch Set page, click <span class="bold">Download</span>, and save the file on your system.</p>
</li>
<li>
<p>Use the unzip utility provided with Oracle Database 11<span class="italic">g</span> release 2 (11.2) to uncompress the Oracle patch updates that you downloaded from My Oracle Support. The unzip utility is located in the <code>$ORACLE_HOME/bin</code> directory.</p>
</li>
<li>
<p>Refer to <a href="procstop.htm#BABEHGJG">Appendix F</a> for information about how to stop database processes in preparation for installing patches.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEJBEA" name="BABEJBEA"></a><a id="CWLIN330" name="CWLIN330"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> Recommended Postinstallation Tasks</h2>
<p>Oracle recommends that you complete the following tasks as needed after installing Oracle Grid Infrastructure:</p>
<ul>
<li>
<p><a href="#BABEHDFH">Back Up the root.sh Script</a></p>
</li>
<li>
<p><a href="#BABFBABG">Tune Semaphore Parameters</a></p>
</li>
<li>
<p><a href="#BABHFGFF">Create a Fast Recovery Area Disk Group</a></p>
</li>
</ul>
<a id="BABEHDFH" name="BABEHDFH"></a><a id="CWLIN331" name="CWLIN331"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.1</span> Back Up the root.sh Script</h3>
<p>Oracle recommends that you <a id="sthref706" name="sthref706"></a><a id="sthref707" name="sthref707"></a>back up the <code>root.sh</code> script after you complete an installation. If you install other products in the same Oracle home directory, then the installer updates the contents of the existing <code>root.sh</code> script during the installation. If you require information contained in the original <code>root.sh</code> script, then you can recover it from the <code>root.sh</code> file copy.</p>
</div>
<!-- class="sect2" -->
<a id="BABFBABG" name="BABFBABG"></a><a id="CWLIN335" name="CWLIN335"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.2</span> Tune Semaphore Parameters</h3>
<p>Refer to the following guidelines only if the default semaphore parameter values are too low to accommodate all Oracle processes:</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Oracle recommends that you refer to the operating system documentation for more information about setting semaphore parameters.</div>
<ol>
<li>
<p>Calculate the minimum total semaphore requirements using the following formula:</p>
<p>2 * sum (process parameters of all database instances on the system) + overhead for background processes + system and other application requirements</p>
</li>
<li>
<p>Set <code>semmns</code> (total semaphores systemwide) to this total.</p>
</li>
<li>
<p>Set <code>semmsl</code> (semaphores for each set) to 250.</p>
</li>
<li>
<p>Set <code>semmni</code> (total semaphores sets) to <code>semmns</code> divided by <code>semmsl</code>, rounded up to the nearest multiple of 1024.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABHFGFF" name="BABHFGFF"></a><a id="CWLIN336" name="CWLIN336"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.3</span> Create a Fast Recovery Area Disk Group</h3>
<p>During installation, by default you can create one disk group. If you plan to add an Oracle Database for a standalone server or an Oracle RAC database, then you should create the Fast Recovery Area for database files.</p>
<a id="CWLIN337" name="CWLIN337"></a>
<div class="sect3"><a id="sthref708" name="sthref708"></a>
<h4 class="sect3"><span class="secnum">5.2.3.1</span> About the Fast Recovery Area and the Fast Recovery Area Disk Group</h4>
<p>The Fast Recovery Area is a unified storage location for all Oracle Database files related to recovery. Database administrators can define the DB_RECOVERY_FILE_DEST parameter to the path for the Fast Recovery Area to enable on-disk backups, and rapid recovery of data. Enabling rapid backups for recent data can reduce requests to system administrators to retrieve backup tapes for recovery operations.</p>
<p>When you enable Fast Recovery in the <code>init.ora</code> file, all RMAN backups, archive logs, control file automatic backups, and database copies are written to the Fast Recovery Area. RMAN automatically manages files in the Fast Recovery Area by deleting obsolete backups and archive files no longer required for recovery.</p>
<p>Oracle recommends that you create a Fast Recovery Area disk group. Oracle Clusterware files and Oracle Database files can be placed on the same disk group, and you can also place Fast recovery files in the same disk group. However, Oracle recommends that you create a separate Fast Recovery disk group to reduce storage device contention.</p>
<p>The Fast Recovery Area is enabled by setting DB_RECOVERY_FILE_DEST. The size of the Fast Recovery Area is set with DB_RECOVERY_FILE_DEST_SIZE. As a general rule, the larger the Fast Recovery Area, the more useful it becomes. For ease of use, Oracle recommends that you create a Fast Recovery Area disk group on storage devices that can contain at least three days of recovery information. Ideally, the Fast Recovery Area should be large enough to hold a copy of all of your data files and control files, the online redo logs, and the archived redo log files needed to recover your database using the data file backups kept under your retention policy.</p>
<p>Multiple databases can use the same Fast Recovery Area. For example, assume you have created one Fast Recovery Area disk group on disks with 150 GB of storage, shared by three different databases. You can set the size of the Fast Recovery Area for each database depending on the importance of each database. For example, if database1 is your least important database, database 2 is of greater importance and database 3 is of greatest importance, then you can set different DB_RECOVERY_FILE_DEST_SIZE settings for each database to meet your retention target for each database: 30 GB for database 1, 50 GB for database 2, and 70 GB for database 3.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></div>
</div>
<!-- class="sect3" -->
<a id="CWLIN338" name="CWLIN338"></a>
<div class="sect3"><a id="sthref709" name="sthref709"></a>
<h4 class="sect3"><span class="secnum">5.2.3.2</span> Creating the Fast Recovery Area Disk Group</h4>
<p>To create a Fast recovery file disk group:</p>
<ol>
<li>
<p>Navigate to the Grid home bin directory, and start Oracle ASM Configuration Assistant <a id="sthref710" name="sthref710"></a>(ASMCA). For example:</p>
<pre xml:space="preserve" class="oac_no_warn">$ cd /u01/app/11.2.0/grid/bin
$ ./asmca
</pre></li>
<li>
<p>ASMCA opens at the Disk Groups tab. Click <span class="bold">Create</span> to create a new disk group</p>
</li>
<li>
<p>The Create Disk Groups window opens.</p>
<p>In the <span class="bold">Disk Group Name</span> field, enter a descriptive name for the Fast Recovery Area group. For example: FRA.</p>
<p>In the Redundancy section, select the level of redundancy you want to use.</p>
<p>In the <span class="bold">Select Member Disks</span> field, select eligible disks to be added to the Fast Recovery Area, and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>The Diskgroup Creation window opens to inform you when disk group creation is complete. Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Click <span class="bold">Exit</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEHEEH" name="BABEHEEH"></a><a id="CWLIN339" name="CWLIN339"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> Using Older Oracle Database Versions with Grid Infrastructure</h2>
<p>Review the following sections for information about using older Oracle Database releases with 11<span class="italic">g</span> release 2 (11.2) Oracle Grid Infrastructure installations:</p>
<ul>
<li>
<p><a href="#BABDCBHF">General Restrictions for Using Older Oracle Database Versions</a></p>
</li>
<li>
<p><a href="#CIHFHJFJ">Using ASMCA to Administer Disk Groups for Older Database Versions</a></p>
</li>
<li>
<p><a href="#BABGIJDH">Pinning Cluster Nodes for Oracle Database Release 10.x or 11.x</a></p>
</li>
<li>
<p><a href="#BABDAFGD">Enabling The Global Services Daemon (GSD) for Oracle Database Release 9.2</a></p>
</li>
<li>
<p><a href="#BABFDGBI">Using the Correct LSNRCTL Commands</a></p>
</li>
</ul>
<a id="BABDCBHF" name="BABDCBHF"></a><a id="CWLIN340" name="CWLIN340"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.3.1</span> General Restrictions for Using Older Oracle Database Versions</h3>
<p>You can use Oracle Database release 9.2, release 10.x and release 11.1 with Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2).</p>
<p>However, placing Oracle Database homes on Oracle ACFS that are prior to Oracle Database release 11.2 is not supported, because earlier releases are not designed to use Oracle ACFS.</p>
<p>To use Oracle Real Application Clusters release 9.2 with Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2), install and run Oracle9<span class="italic">i</span> Cluster Manager for the release 9.2 database. Oracle9<span class="italic">i</span> Cluster Manager can coexist with Oracle Clusterware.</p>
<p>If you upgrade an existing version of Oracle Clusterware and Oracle ASM to Oracle Grid Infrastructure 11<span class="italic">g</span> release 11.2 (which includes Oracle Clusterware and Oracle ASM), and you also plan to upgrade your Oracle RAC database to 11.2, then the required configuration of existing databases is completed automatically when you complete the Oracle RAC upgrade, and this section does not concern you.</p>
<p>However, if you upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> release 11.2, and you have existing Oracle RAC installations you do not plan to upgrade, or if you install older versions of Oracle RAC (9.2, 10.2 or 11.1) on a release 11.2 Oracle Grid Infrastructure cluster, then you must complete additional configuration tasks or apply patches, or both, before the older databases will work correctly with Oracle Grid Infrastructure.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Before you start an Oracle RAC or Oracle Database installation on an Oracle Clusterware 11<span class="italic">g</span> release 11.2 installation, if you are upgrading from releases 11.1.0.7, 11.1.0.6, and 10.2.0.4, then Oracle recommends that you check for the latest recommended patches for the release you are upgrading from, and install those patches as needed on your existing database installations before upgrading.
<p>For more information on recommended patches, refer to "Oracle Upgrade Companion," which is available through Note 785351.1 on My Oracle Support:</p>
<p><code><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
<p>You may also refer to Notes 756388.1 and 756671.1 for the current list of recommended patches for each release</p>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHFHJFJ" name="CIHFHJFJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.2</span> Using ASMCA to Administer Disk Groups for Older Database Versions</h3>
<p><a id="sthref711" name="sthref711"></a><a id="sthref712" name="sthref712"></a><a id="sthref713" name="sthref713"></a>Use Oracle ASM Configuration Assistant (ASMCA) to create and modify disk groups when you install older Oracle databases and Oracle RAC databases on Oracle Grid Infrastructure installations. Starting with 11<span class="italic">g</span> release 2, Oracle ASM is installed as part of an Oracle Grid Infrastructure installation, with Oracle Clusterware. You can no longer use Database Configuration Assistant (DBCA) to perform administrative tasks on Oracle ASM.</p>
</div>
<!-- class="sect2" -->
<a id="BABGIJDH" name="BABGIJDH"></a><a id="CWLIN341" name="CWLIN341"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.3.3</span> Pinning Cluster Nodes for Oracle Database Release 10.x or 11.x</h3>
<p>When Oracle Clusterware 11<span class="italic">g</span> release 11.2 is installed on a cluster with no previous Oracle software version, it configures Oracle Database 11<span class="italic">g</span> release 11.2 and later releases dynamically. However, dynamic configuration does not occur when you install an Oracle Database release 10.x or 11.1 on the cluster. Before installing 10.x or 11.1 Oracle Databases on an Oracle Clusterware 11<span class="italic">g</span> release 11.2 cluster you must establish a persistent configuration. Creating a persistent configuration for a node is called pinning a node.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
During an upgrade, all cluster member nodes are pinned automatically, and no manual pinning is required for existing databases. This procedure is required only if you install older database versions after installing Oracle Grid Infrastructure release 11.2 software.</div>
<p><a id="sthref714" name="sthref714"></a>To pin a node in preparation for installing or using an older Oracle Database version, use <code><span class="codeinlineitalic">Grid_home</span></code><code>/bin/crsctl</code> with the following command syntax, where <code><span class="codeinlineitalic">nodes</span></code> is a space-delimited list of one or more nodes in the cluster whose configuration you want to pin:</p>
<pre xml:space="preserve" class="oac_no_warn">crsctl pin css -n <span class="italic">nodes</span>
</pre>
<p>For example, to pin nodes <code>node3</code> and <code>node4</code>, log in as <code>root</code> and enter the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">$ crsctl pin css -n node3 node4
</pre>
<p>To determine if a node is in a pinned or unpinned state, use <code><span class="codeinlineitalic">Grid_home</span></code><code>/bin/olsnodes</code> with the following command syntax:</p>
<p>To list all pinned nodes:</p>
<pre xml:space="preserve" class="oac_no_warn">olsnodes -t -n 
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn"># /u01/app/11.2.0/grid/bin/olsnodes -t -n
node1 1       Pinned
node2 2       Pinned
node3 3       Pinned
node4 4       Pinned
</pre>
<p>To list the state of a particular node:</p>
<pre xml:space="preserve" class="oac_no_warn">olsnodes -t -n node3
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn"># /u01/app/11.2.0/grid/bin/olsnodes -t -n node3
node3 3       Pinned
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91595" href="http://www.oracle.com/pls/db112/lookup?id=CWADD91595"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about pinning and unpinning nodes</div>
</div>
<!-- class="sect2" -->
<a id="BABDAFGD" name="BABDAFGD"></a><a id="CWLIN342" name="CWLIN342"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.4</span> Enabling The Global Services Daemon (GSD) for Oracle Database Release 9.2</h3>
<p>When Oracle Database 9<span class="italic">i</span> release 2 (9.2) is installed on an 11<span class="italic">g</span> release 2 (11.2) Oracle Grid Infrastructure for a cluster configuration, the Global Services daemon (GSD) is disabled by default. Use the following commands to enable the GSD before you install a release 9.2 Oracle Database:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl enable nodeapps -g
srvctl start nodeapps
</pre></div>
<!-- class="sect2" -->
<a id="BABFDGBI" name="BABFDGBI"></a><a id="CWLIN343" name="CWLIN343"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.5</span> Using the Correct LSNRCTL Commands</h3>
<p>To administer 11<span class="italic">g</span> release 2 local and scan listeners using the <code>lsnrctl</code> command, set your <code>$ORACLE_HOME</code> environment variable to the path for the Oracle Grid Infrastructure home (Grid home). Do not attempt to use the <code>lsnrctl</code> commands from Oracle home locations for previous releases, as they cannot be used with the new release.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBEJFG" name="BABBEJFG"></a><a id="CWLIN344" name="CWLIN344"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.4</span> Modifying Oracle Clusterware Binaries After Installation</h2>
<p><a id="sthref715" name="sthref715"></a><a id="sthref716" name="sthref716"></a><a id="sthref717" name="sthref717"></a><a id="sthref718" name="sthref718"></a><a id="sthref719" name="sthref719"></a>After installation, if you need to modify the Oracle Clusterware configuration, then you must unlock the Grid home.</p>
<p>For example, if you want to apply a one-off patch, or if you want to modify an Oracle Exadata configuration to run IPC traffic over RDS on the interconnect instead of using the default UDP, then you must unlock the Grid home.</p>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
Before relinking executables, you must shut down all executables that run in the Oracle home directory that you are relinking. In addition, shut down applications linked with Oracle shared libraries.</div>
<p>Unlock the home using the following procedure:</p>
<ol>
<li>
<p>Change directory to the path <span class="italic">Grid_home</span>/crs/install, where <span class="italic">Grid_home</span> is the path to the Grid home, and unlock the Grid home using the command <code>rootcrs.pl -unlock -crshome</code> <code><span class="codeinlineitalic">Grid_home</span></code>, where Grid_home is the path to your Grid infrastructure home. For example, with the Grid home <code>/u01/app/11.2.0/grid</code>, enter the following command:</p>
<pre xml:space="preserve" class="oac_no_warn"># cd /u01/app/11.2.0/grid/crs/install
# perl rootcrs.pl -unlock -crshome /u01/app/11.2.0/grid
</pre></li>
<li>
<p>Change user to the Oracle Grid Infrastructure software owner, and relink binaries using the command syntax make -f <span class="italic">Grid_home</span>/rdbms/lib/ins_rdbms.mk <span class="italic">target</span>, where <span class="italic">Grid_home</span> is the Grid home, and <span class="italic">target</span> is the binaries that you want to relink. For example, where the grid user is <code>grid</code>, <code>$ORACLE_HOME</code> is set to the Grid home, and where you are updating the interconnect protocol from UDP to IPC, enter the following command:</p>
<pre xml:space="preserve" class="oac_no_warn"># su grid
$ make -f $ORACLE_HOME/rdbms/lib/ins_rdbms.mk ipc_rds ioracle
</pre>
<div class="infoboxnote">
<p class="notep1">Note:</p>
To relink binaries, you can also change to the grid installation owner and run the command <code><span class="codeinlineitalic">Grid_home</span></code><code>/bin/relink</code>.</div>
</li>
<li>
<p>Relock the Grid home and restart the cluster using the following command:</p>
<pre xml:space="preserve" class="oac_no_warn"># perl rootcrs.pl -patch
</pre></li>
<li>
<p>Repeat steps 1 through 3 on each cluster member node.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="crsunix.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
