<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Administering Oracle Automatic Storage Management</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 009" />
<meta name="Date" content="2010-08-02T19:33:12Z" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="doctitle" content="Oracle&reg; Database 2 Day DBA 11g Release 2 (11.2)" />
<meta name="partno" content="E10897-05" />
<meta name="docid" content="ADMQS" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="software.htm" title="Previous" type="text/html" />
<link rel="Next" href="index.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10897.pdf" title="PDF version" type="application/pdf" />
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Database 2 Day DBA<br />
11<i>g</i> Release 2 (11.2)</b><br />
Part Number E10897-05</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="software.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e10897.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="BABCAJCG" name="BABCAJCG"></a><a id="ADMQS12100" name="ADMQS12100"></a>
<h1 class="appendix"><span class="secnum">A</span> Administering Oracle Automatic Storage Management<a id="sthref783" name="sthref783"></a></h1>
<p>This appendix discusses using Oracle Automatic Storage Management (Oracle ASM). Oracle ASM is Oracle's recommended storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices. This chapter includes the following topics:</p>
<ul>
<li>
<p><a href="#CIADJDJF">About Oracle Automatic Storage Management</a></p>
</li>
<li>
<p><a href="#CIACIEGC">Overview of Disks, Disk Groups, and Failure Groups</a></p>
</li>
<li>
<p><a href="#CIAGIIDJ">Installing Oracle Automatic Storage Management</a></p>
</li>
<li>
<p><a href="#CIAFIGDB">Accessing the Oracle Automatic Storage Management Home Page</a></p>
</li>
<li>
<p><a href="#BABIBEGJ">Monitoring Disk Group Space Usage</a></p>
</li>
<li>
<p><a href="#CIADICDC">Creating a Disk Group</a></p>
</li>
<li>
<p><a href="#CIACBDEJ">Dropping a Disk Group</a></p>
</li>
<li>
<p><a href="#CIAEDBGF">Adding Disks to a Disk Group</a></p>
</li>
<li>
<p><a href="#CIABDHEH">Dropping Disks from a Disk Group</a></p>
</li>
<li>
<p><a href="#CIAJDCDF">Backing Up Oracle ASM-Managed Files</a></p>
</li>
<li>
<p><a href="#BABHJJID">Oracle Automatic Storage Management: Oracle By Example Series</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OSTMG" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about Oracle Automatic Storage Management</p>
</li>
</ul>
</div>
<a id="CIADJDJF" name="CIADJDJF"></a><a id="ADMQS12078" name="ADMQS12078"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Oracle Automatic Storage Management</h2>
<p><a id="sthref784" name="sthref784"></a>Oracle Automatic Storage Management (Oracle ASM) is an integrated, high-performance database file system and disk manager. You use Oracle ASM instead of an operating system file system to store your Oracle Database files and, optionally, other files.</p>
<p>Oracle ASM is based on the principle that the database should manage storage instead of requiring an administrator to do it. Oracle ASM eliminates the need for you to manage potentially thousands of database files.</p>
<p>Oracle ASM groups the disks in your storage system into one or more <span class="bold">disk groups</span>. You manage a small set of disk groups, and Oracle ASM automates the placement of the database files within those disk groups.</p>
<p>Oracle ASM provides the following benefits:</p>
<ul>
<li>
<p><span class="bold">Striping</span>&#x2014;Oracle ASM spreads data evenly across all disks in a disk group to optimize performance and utilization. This even distribution of database files eliminates the need for regular monitoring and I/O performance tuning.</p>
<p>For example, if there are six disks in a disk group, then pieces of each Oracle ASM file are written to all six disks. These pieces are known as <span class="bold">extents</span>. In this scenario, these pieces come in 1 MB chunks. When a database file is created, it is <span class="bold">striped</span> (divided into extents and distributed) across the six disks, and allocated disk space on all six disks increases evenly. When reading the file, file extents are read from all six disks in parallel, greatly increasing performance.</p>
</li>
<li>
<p><span class="bold">Mir<a id="sthref785" name="sthref785"></a><a id="sthref786" name="sthref786"></a>roring</span>&#x2014;Oracle ASM can increase availability by optionally mirroring any file. Oracle ASM mirrors at the file level, unlike operating system mirroring, which mirrors at the disk level. Mirroring means keeping redundant copies, or <span class="bold">mirrored copies</span>, of each extent of the file to help avoid data loss caused by disk failures. The mirrored copy of each file extent is always kept on a different disk from the original copy. If a disk fails, then Oracle ASM can continue to access affected files by accessing mirrored copies on the surviving disks in the disk group.</p>
<p>Oracle ASM supports <span class="bold">2-way mirroring</span>, where each file extent gets one mirrored copy, and <span class="bold">3-way mirroring</span>, where each file extent gets two mirrored copies.</p>
</li>
<li>
<p><span class="bold">Online storage reconsideration and dynamic rebalancing</span>&#x2014;Oracle ASM permits you to add or remove disks from your disk storage system while the database is operating. When you add a disk, Oracle ASM automatically redistributes the data so that it is evenly spread across all disks in the disk group, including the new disk. This redistribution is known as <span class="bold">reba<a id="sthref787" name="sthref787"></a><a id="sthref788" name="sthref788"></a>lancing</span>. It is done in the background and with minimal impact to database performance. When you request to remove a disk, Oracle ASM first rebalances the disk group by evenly relocating all file extents from the disk being removed to the other disks in the disk group.</p>
</li>
<li>
<p><span class="bold">Managed file creation and deletion</span>&#x2014;Oracle ASM further reduces administrative tasks by enabling files stored in Oracle ASM disk groups to be <span class="bold">Oracle Managed Files</span>. Oracle ASM automatically assigns file names when files are created, and automatically deletes files when they are no longer needed. For information about Oracle Managed Files, see <a class="olink ADMIN003" href="http://www.oracle.com/pls/db112/lookup?id=ADMIN003"><span class="italic">Oracle Database Administrator's Guide</span></a>.</p>
</li>
</ul>
<p><a id="sthref789" name="sthref789"></a>Oracle recommends that you use Oracle ASM for your database file storage, instead of raw devices or the operating system file system. However, databases can have a mixture of Oracle ASM files and non-Oracle ASM files. Oracle Enterprise Manager includes a wizard that enables you to migrate non-Oracle ASM database files to Oracle ASM.</p>
<p class="subhead2"><a id="ADMQS12277" name="ADMQS12277"></a>The Oracle ASM Instance</p>
<p>Oracle ASM is implemented as a special kind of Oracle instance, with its own System Global Area and background processes. The Oracle ASM instance is tightly integrated with the database instance. Every server running one or more database instances that use Oracle ASM for storage has an Oracle ASM instance. In an Oracle Real Application Clusters environment, there is one Oracle ASM instance for each node, and the Oracle ASM instances communicate with each other on a peer-to-peer basis. Only one Oracle ASM instance is required for each node, regardless of the number of database instances on the node.</p>
<p class="subhead2"><a id="ADMQS12278" name="ADMQS12278"></a>Administ<a id="sthref790" name="sthref790"></a><a id="sthref791" name="sthref791"></a>ering Oracle ASM</p>
<p><a id="sthref792" name="sthref792"></a><a id="sthref793" name="sthref793"></a><a id="sthref794" name="sthref794"></a><a id="sthref795" name="sthref795"></a><a id="sthref796" name="sthref796"></a>You administer Oracle ASM with Oracle Enterprise Manager Database Control (Database Control). To administer the Oracle ASM instance and Oracle ASM disk groups, you must connect to the Oracle ASM instance as a user who has been granted the <code>SYSASM</code> system privilege. You can also administer Oracle ASM with Oracle Automatic Storage Management Command Line utility (ASMCMD) and SQL*Plus statements.</p>
<p>When you create the Oracle ASM instance either during installation or using Oracle Automatic Storage Management Configuration Assistant (ASMCA), the <code>SYSASM</code> is granted to the specified Oracle ASM administrator user.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OSTMG" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for additional information about Oracle ASM</p>
</li>
<li>
<p><a href="#CIAFIGDB">"Accessing the Oracle Automatic Storage Management Home Page"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIACIEGC" name="CIACIEGC"></a><a id="ADMQS12079" name="ADMQS12079"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Disks, Disk Groups, and Failure Groups</h2>
<p>You configure Oracle ASM by creating disk gr<a id="sthref797" name="sthref797"></a>oups that become the default location for files created in the database. The disk group type determines how Oracle ASM mirrors files. When you create a disk group, you indicate whether the disk group is a <span class="bold">normal redundancy</span> disk group (2-way mirroring for most files by default), a <span class="bold">high redundancy</span> disk group (3-way mirroring), or an <span class="bold">external redundancy</span> disk group (no mirroring by Oracle ASM). You use an external redundancy disk group if your storage system does mirroring at the hardware level, or if you have no need for redundant data. The default disk group type is normal redundancy.</p>
<p>A disk group consists of a grouping of disks that are managed as a unit. These disks are referred to as <span class="bold">Oracle ASM disks</span>. An Oracle ASM disk can be a disk device, a partition, or a network-attached file.</p>
<p>When an Oracle ASM instance starts, it automatically <span class="italic">discovers</span> all available Oracle ASM disks. <span class="bold">Disco<a id="sthref798" name="sthref798"></a><a id="sthref799" name="sthref799"></a>very</span> is the process of finding all disks that were prepared for Oracle ASM by your system administrator, examining their disk headers, and determining which disks belong to disk groups and which are available for assignment to disk groups. Oracle ASM discovers disks in the paths that are listed in an initialization parameter, or if the parameter is <code>NULL</code>, in an operating system&#x2013;dependent default path.</p>
<p><span class="bold">Failure gro<a id="sthref800" name="sthref800"></a><a id="sthref801" name="sthref801"></a>ups</span> define Oracle ASM disks that share a common potential failure mechanism. An example of a failure group is a set of small computer system interface (SCSI) disks sharing the same SCSI controller. Failure groups are used to determine which Oracle ASM disks to use for storing redundant copies of data. For example, if 2-way mirroring is specified for a file, then Oracle ASM automatically stores redundant copies of file extents in separate failure groups. Failure groups apply only to normal and high redundancy disk groups. You can define the failure groups in a disk group when you create or alter the disk group, or let Oracle ASM automatically place each disk into its own failure group. For most systems, the default failure groups work well to prevent data loss.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OSTMG10046" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG10046"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for additional information about failure groups, and for instructions for configuring failure groups</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIAGIIDJ" name="CIAGIIDJ"></a><a id="ADMQS12080" name="ADMQS12080"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Installing Oracle Automatic Storage Management</h2>
<p>This documentation assumes that Oracle Automatic Storage Management (Oracle ASM) is installed and configured on your single-instance server or on your Oracle Real Application Clusters (Oracle RAC) nodes. For information about installing and initially configuring Oracle ASM, for either a single-instance database or an Oracle RAC database, see <a class="olink CWLIN" href="../../install.112/e17212/toc.htm"><span class="italic">Oracle Grid Infrastructure Installation Guide for Linux</span></a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIADJDJF">"About Oracle Automatic Storage Management"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIAFIGDB" name="CIAFIGDB"></a><a id="ADMQS12081" name="ADMQS12081"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Accessing the Oracle Automatic Storage Management Home Page</h2>
<p>All Oracle Automatic Storage Management (Oracle ASM) administration tasks begin with the Oracle ASM Home page in Database Control. The Oracle ASM Home page displays:</p>
<ul>
<li>
<p>The status of the Oracle ASM instance</p>
</li>
<li>
<p>A chart that shows the used and free space of each disk group</p>
</li>
<li>
<p>A list of databases and Oracle ASM Cluster File Systems serviced by the Oracle ASM instance</p>
</li>
</ul>
<img width="796" height="725" src="img/asm_home_11gr2.gif" alt="Description of asm_home_11gr2.gif follows" title="Description of asm_home_11gr2.gif follows" longdesc="img_text/asm_home_11gr2.htm" /><br />
<a id="sthref802" name="sthref802" href="img_text/asm_home_11gr2.htm">Description of the illustration asm_home_11gr2.gif</a><br />
<br />
<p>The procedure for accessing the Oracle ASM Home page differs depending on whether your database is a single-instance database or an Oracle Real Application Clusters database. Details are provided in the following sections:</p>
<ul>
<li>
<p><a href="#BABDHBCH">"Accessing the Oracle ASM Home Page on a Single-Instance System"</a></p>
</li>
<li>
<p><a href="#BABHEIGD">"Accessing the Oracle ASM Home Page on an Oracle RAC System"</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIADJDJF">"About Oracle Automatic Storage Management"</a></p>
</li>
</ul>
</div>
<a id="BABDHBCH" name="BABDHBCH"></a><a id="ADMQS12082" name="ADMQS12082"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Oracle ASM Home Page on a Single-Instance System</h3>
<p>On a single-instance system, you access the Oracle ASM Home page starting from the Database Home page.</p>
<p class="subhead2"><a id="ADMQS12279" name="ADMQS12279"></a>To access the Oracle ASM Home page on a single-instance system:</p>
<ol>
<li>
<p>Go to the Database Home page, logging in as any database user.</p>
<p>See <a href="em_manage.htm#BABHJAGE">"Accessing the Database Home Page"</a>.</p>
</li>
<li>
<p>Under the General heading, click the link next to the label ASM.</p>
<img width="321" height="229" src="img/asm_si_11gr2.gif" alt="Description of asm_si_11gr2.gif follows" title="Description of asm_si_11gr2.gif follows" longdesc="img_text/asm_si_11gr2.htm" /><br />
<a id="sthref803" name="sthref803" href="img_text/asm_si_11gr2.htm">Description of the illustration asm_si_11gr2.gif</a><br />
<br /></li>
<li>
<p>If prompted for Oracle ASM login credentials, then enter the user <code>SYS</code>, provide the <code>SYS</code> password that was set for the Oracle ASM instance upon installation, and connect as <code>SYSASM</code>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABHEIGD" name="BABHEIGD"></a><a id="ADMQS12083" name="ADMQS12083"></a>
<div class="sect2">
<h3 class="sect2">Accessing the Oracle ASM Home Page on an Oracle RAC System</h3>
<p>On an Oracle RAC system, you access the Oracle ASM Home page starting from the Cluster Database Home page.</p>
<p class="subhead2"><a id="ADMQS12280" name="ADMQS12280"></a>To access the Oracle ASM Home page on an Oracle RAC system:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager on any node that is running the Database Control OC4J instance.</p>
<p>The Database Control OC4J instance is automatically started on the node where DBCA was run to create the cluster database. Depending on your configuration, the Database Control OC4J instance may also be running on other nodes.</p>
<p>See <a href="em_manage.htm#BABHJAGE">"Accessing the Database Home Page"</a>.</p>
</li>
<li>
<p>On the Cluster Database Home page, under the Instances heading, click the link for the desired Oracle ASM instance.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABIBEGJ" name="BABIBEGJ"></a><a id="ADMQS12084" name="ADMQS12084"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Monitoring Disk Gr<a id="sthref804" name="sthref804"></a><a id="sthref805" name="sthref805"></a>oup Space Usage</h2>
<p>Using Oracle Enterprise Manager, you can monitor the total capacity of your disk groups, including the amount of unused space and the amount of unused space that can be safely utilized after taking mirroring into account.</p>
<p class="subhead2"><a id="ADMQS12281" name="ADMQS12281"></a>To view Oracle Automatic Storage Management (Oracle ASM) disk group usage and free space:</p>
<ol>
<li>
<p>Go to the Oracle ASM Home page.</p>
<p>See <a href="#CIAFIGDB">"Accessing the Oracle Automatic Storage Management Home Page"</a>.</p>
</li>
<li>
<p>Click <span class="bold">Disk Groups</span> to view the Disk Groups subpage.</p>
</li>
<li>
<p>If the Oracle ASM Login page appears, then log in as the <code>SYS</code> user, connecting as <code>SYSASM</code>. Provide the <code>SYS</code> password that was set when the Oracle ASM instance was created.</p>
</li>
</ol>
<p>The Disk Groups subpage displays all disk groups with their space usage information.</p>
<img width="825" height="313" src="img/asm_admin_page_11gr2.gif" alt="Description of asm_admin_page_11gr2.gif follows" title="Description of asm_admin_page_11gr2.gif follows" longdesc="img_text/asm_admin_page_11gr2.htm" /><br />
<a id="sthref806" name="sthref806" href="img_text/asm_admin_page_11gr2.htm">Description of the illustration asm_admin_page_11gr2.gif</a><br />
<br />
<div class="infoboxnote">
<p class="notep1">Note:</p>
The Usable Free column displays the space in gigabytes (GB) that is actually available in the disk group. It takes into account the redundancy level of the disk group, and excludes the space that the disk group reserves for restoring full redundancy for all files in the disk group after a disk failure.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIACIEGC">"Overview of Disks, Disk Groups, and Failure Groups"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIADICDC" name="CIADICDC"></a><a id="ADMQS12085" name="ADMQS12085"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating a Dis<a id="sthref807" name="sthref807"></a>k Group</h2>
<p>You may want to create additional Oracle Automatic Storage Management (Oracle ASM) disk groups to do any of the following:</p>
<ul>
<li>
<p>Have disk groups with different redundancy levels (normal, high, or external), depending on availability requirements and storage system capabilities.</p>
</li>
<li>
<p>Separate different classes of storage (for example, SCSI drives and Serial Advanced Technology Attachment (SATA) drives) into different disk groups. Disks in a disk group should have similar size and performance characteristics.</p>
</li>
<li>
<p>Store the fast recovery area in a separate disk group from the database.</p>
</li>
</ul>
<p class="subhead2"><a id="ADMQS12282" name="ADMQS12282"></a>To create a disk group:</p>
<ol>
<li>
<p>Go to the Oracle ASM Home page.</p>
<p>See <a href="#CIAFIGDB">"Accessing the Oracle Automatic Storage Management Home Page"</a>.</p>
</li>
<li>
<p>Click the <span class="bold">Disk Groups</span> link to display the Disk Groups subpage.</p>
</li>
<li>
<p>If the Oracle ASM Login page appears, then log in as the <code>SYS</code> user, connecting as <code>SYSASM</code>. Provide the <code>SYS</code> password that was set when the Oracle ASM instance was created.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The Create Disk Group page appears. It displays a list of Oracle ASM disks that are available to be added to a disk group. You can use the Select Member Disks drop-down list to choose whether All Disks or Only Candidate disks are displayed.</p>
<img width="750" height="273" src="img/create_disk_group_11gr2.gif" alt="Description of create_disk_group_11gr2.gif follows" title="Description of create_disk_group_11gr2.gif follows" longdesc="img_text/create_disk_group_11gr2.htm" /><br />
<a id="sthref808" name="sthref808" href="img_text/create_disk_group_11gr2.htm">Description of the illustration create_disk_group_11gr2.gif</a><br />
<br /></li>
<li>
<p>Enter the disk group name, and select redundancy type (high, normal, or external).</p>
</li>
<li>
<p>Select disks as follows:</p>
<ol>
<li>
<p>Select the check box to the left of each disk to include in the new disk group.</p>
</li>
<li>
<p>To force the inclusion of a disk in the disk group, select the <span class="bold">Force Reuse</span> check box for that disk.</p>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
The Force Reuse check box causes the disk to be added to the new disk group even if the disk belongs to another disk group and has valid database data. <span class="italic">This data will be lost.</span> You must be certain that you are selecting a disk that can legitimately be added to the disk group.</div>
</li>
<li>
<p>Optionally enter an Oracle ASM disk name for each selected disk. (Oracle ASM provides a name if you do not.)</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">OK</span> to create the disk group.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OSTMG10202" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG10202"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for a discussion of the <code>FORCE</code> option</p>
</li>
<li>
<p><a class="olink REFRN30170" href="http://www.oracle.com/pls/db112/lookup?id=REFRN30170"><span class="italic">Oracle Database Reference</span></a> for information about the various header status types of Oracle ASM disks</p>
</li>
<li>
<p><a href="#CIACIEGC">"Overview of Disks, Disk Groups, and Failure Groups"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIACBDEJ" name="CIACBDEJ"></a><a id="ADMQS12086" name="ADMQS12086"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Dropping a Dis<a id="sthref809" name="sthref809"></a><a id="sthref810" name="sthref810"></a>k Group</h2>
<p>When you drop a disk group, you delete the disk group, and all of its files. You cannot drop a disk group if any one of its database files is open. After dropping a disk group, you can add its member disks to other disk groups or use them for other purposes.</p>
<p>One reason to drop a disk group is to change redundancy (normal, high, or external). Because you cannot change the redundancy of a disk group, you must drop the disk group and then re-create it with the proper redundancy. In this case, you must back up or move disk group data before you drop the disk group.</p>
<p class="subhead2"><a id="ADMQS12283" name="ADMQS12283"></a>To drop a disk group:</p>
<ol>
<li>
<p>Go to the Oracle ASM Home page.</p>
<p>See <a href="#CIAFIGDB">"Accessing the Oracle Automatic Storage Management Home Page"</a>.</p>
</li>
<li>
<p>Click the <span class="bold">Disk Groups</span> link to display the Disk Groups subpage.</p>
</li>
<li>
<p>If the Oracle ASM Login page appears, then log in as the <code>SYS</code> user, connecting as <code>SYSASM</code>. Provide the <code>SYS</code> password that was set when the Oracle ASM instance was created.</p>
</li>
<li>
<p>In the <span class="bold">Select</span> column, select the name of the disk group to drop.</p>
</li>
<li>
<p>Click <span class="bold">Delete</span>.</p>
<p>A confirmation page appears.</p>
</li>
<li>
<p>To delete the disk group even if it still contains files, expand <span class="bold">Show Advanced Options</span> and ensure that the <span class="bold">Including Contents</span> option is selected.</p>
<p>If the disk group contains files and the <span class="bold">Including Contents</span> option is not selected, then you cannot drop the disk group.</p>
</li>
<li>
<p>On the confirmation page, click <span class="bold">Yes</span>.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIACIEGC">"Overview of Disks, Disk Groups, and Failure Groups"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIAEDBGF" name="CIAEDBGF"></a><a id="ADMQS12087" name="ADMQS12087"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adding Disks to a <a id="sthref811" name="sthref811"></a><a id="sthref812" name="sthref812"></a>Disk Group</h2>
<p>You add disks to a disk group to increase the total amount of storage space in a disk group. You can add one or multiple disks in a single operation. Oracle ASM then rebalances the disk group so that data is evenly distributed on all disks, including the newly added disks.</p>
<p>You can specify a number to control the <span class="bold">power</span> of the rebalance operation. (The range of valid values depends upon the Oracle Database release you are using. See <a class="olink OSTMG10144" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG10144"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a>.) The higher the number, the faster the rebalance operation completes. Lower numbers cause rebalancing to take longer, but use fewer processing and I/O resources. This leaves these resources available for the database. The default value of 1 minimizes disruption to the database. A value of 0 prevents the rebalance operation from happening. Manual or automatic rebalancing can then occur at a later time. For example, you may want to postpone rebalancing because you want to wait for a time when there are fewer demands on the database, or because you want to add more disks or drop disks later and want the rebalancing to be done only once for all disk group changes.</p>
<p class="subhead2"><a id="ADMQS12284" name="ADMQS12284"></a>To add one or more disks to a disk group:</p>
<ol>
<li>
<p>Go to the Oracle ASM Home page.</p>
<p>See <a href="#CIAFIGDB">"Accessing the Oracle Automatic Storage Management Home Page"</a>.</p>
</li>
<li>
<p>Click the <span class="bold">Disk Groups</span> link to display the Disk Groups subpage.</p>
</li>
<li>
<p>If the Oracle ASM Login page appears, then log in as the <code>SYS</code> user, connecting as <code>SYSASM</code>. Provide the <code>SYS</code> password that was set when the Oracle ASM instance was created.</p>
</li>
<li>
<p>Click a link in the <span class="bold">Name</span> column to select the disk group to which you want to add disks.</p>
<p>The Disk Group page appears, displaying a list of disks that are in the disk group.</p>
<img width="999" height="525" src="img/disk_group_page_11gr2.gif" alt="Description of disk_group_page_11gr2.gif follows" title="Description of disk_group_page_11gr2.gif follows" longdesc="img_text/disk_group_page_11gr2.htm" /><br />
<a id="sthref813" name="sthref813" href="img_text/disk_group_page_11gr2.htm">Description of the illustration disk_group_page_11gr2.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Add</span>.</p>
<p>The Add Disks page appears. It displays a list of Oracle ASM disks that are available to be added to the disk group. This includes disks with the header status of <code>CANDIDATE</code>, <code>PROVISIONED</code>, or <code>FORMER</code>.</p>
<img width="779" height="305" src="img/asm_add_disks_11gr2.gif" alt="Description of asm_add_disks_11gr2.gif follows" title="Description of asm_add_disks_11gr2.gif follows" longdesc="img_text/asm_add_disks_11gr2.htm" /><br />
<a id="sthref814" name="sthref814" href="img_text/asm_add_disks_11gr2.htm">Description of the illustration asm_add_disks_11gr2.gif</a><br />
<br /></li>
<li>
<p>To display not only disks that are available to be added to a disk group, but all Oracle ASM disks, including disks that belong to a disk group (header status = <code>MEMBER</code>), select <span class="bold">All Disks</span> from the Select Member Disks list.</p>
<p>The page is refreshed and now displays the complete list of Oracle ASM disks that were discovered by the Oracle ASM instance.</p>
</li>
<li>
<p>Optionally change the rebalance power by selecting from the Rebalance Power list.</p>
</li>
<li>
<p>Select disks as follows:</p>
<ol>
<li>
<p>Select the check box to the left of each disk to add to the disk group.</p>
</li>
<li>
<p>To force the inclusion of a disk in the disk group, select the <span class="bold">Force Usage</span> check box at the right.</p>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
The Force Usage check box causes the disk to be added to the disk group even if the disk belongs to another disk group and has valid database data. <span class="italic">This data will be lost.</span> You must be certain that you are selecting a disk that can legitimately be added to the disk group.</div>
</li>
<li>
<p>Optionally enter an Oracle ASM disk name for each disk. (Oracle ASM provides a name if you do not.)</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">OK</span> to add the selected disks.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIACIEGC">"Overview of Disks, Disk Groups, and Failure Groups"</a></p>
</li>
<li>
<p><a class="olink OSTMG" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about controlling rebalance operations and about the <code>FORCE</code> option</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIABDHEH" name="CIABDHEH"></a><a id="ADMQS12088" name="ADMQS12088"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Dropping Disks fro<a id="sthref815" name="sthref815"></a><a id="sthref816" name="sthref816"></a>m a Disk Group</h2>
<p>When you drop a disk from the disk group, the disk group is rebalanced by moving all of the file extents from the dropped disk to other disks in the disk group. Oracle ASM then releases the disk, and you can then add it to another disk group or use it for other purposes. You can drop one or multiple disks in a single operation. You can also optionally set rebalance power for the drop operation.</p>
<p>The following is a list of possible reasons for dropping a disk:</p>
<ul>
<li>
<p>A disk is starting to fail, and you must replace it.</p>
</li>
<li>
<p>You want to upgrade a disk.</p>
</li>
<li>
<p>You want to reallocate the disk to a different disk group, or reallocate the disk to a different storage system.</p>
</li>
</ul>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Dropping disks from a disk group only logically deletes the disks from the disk group. It does not delete the disk contents. <span class="italic">However, the contents are lost when you add the disk to a new disk group</span>.</div>
<p class="subhead2"><a id="ADMQS12285" name="ADMQS12285"></a>To drop one or more disks from a disk group:</p>
<ol>
<li>
<p>Go to the Oracle ASM Home page.</p>
<p>See <a href="#CIAFIGDB">"Accessing the Oracle Automatic Storage Management Home Page"</a>.</p>
</li>
<li>
<p>Click the <span class="bold">Disk Groups</span> link to display the Disk Groups subpage.</p>
</li>
<li>
<p>If the Oracle ASM Login page appears, then log in as the <code>SYS</code> user, connecting as <code>SYSASM</code>. Provide the <code>SYS</code> password that was set when the Oracle ASM instance was created.</p>
</li>
<li>
<p>Click a link in the <span class="bold">Name</span> column to select the disk group from which you want to drop disks.</p>
<p>The Disk Group page appears.</p>
</li>
<li>
<p>Under the Member Disks heading, in the <span class="bold">Select</span> column, select the check boxes for the disks to drop, and then click <span class="bold">Remove</span>.</p>
<p>A confirmation page appears.</p>
</li>
<li>
<p>To change rebalance power, or to set the <code>FORCE</code> option for dropping disks, do the following:</p>
<ol>
<li>
<p>Expand <span class="bold">Show Advanced Options</span>.</p>
</li>
<li>
<p>Optionally select the <span class="bold">Force</span> option or select a value for rebalance power in the Rebalance Power list.</p>
</li>
</ol>
<div class="infoboxnote">
<p class="notep1">Note:</p>
You may need the <code>FORCE</code> option if Oracle ASM cannot read from or write to the disk.</div>
</li>
<li>
<p>Click <span class="bold">Yes</span> to drop the disks.</p>
<p>The Disk Group page returns, and displays a state of <code>DROPPING</code> for each disk being dropped.</p>
</li>
<li>
<p>Refresh the page until the dropped disks no longer appear in the disk group.</p>
</li>
</ol>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
You cannot reuse or disconnect the dropped disks until the drop and rebalance operations are complete&#x2014;that is, until the dropped disks no longer appear in the disk group.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIACIEGC">"Overview of Disks, Disk Groups, and Failure Groups"</a></p>
</li>
<li>
<p><a class="olink OSTMG10222" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG10222"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about droppings disks</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIAJDCDF" name="CIAJDCDF"></a><a id="ADMQS12089" name="ADMQS12089"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Backing Up Oracle ASM-Managed Files</h2>
<p>Oracle recommends that you use Recovery Manager (RMAN) to back up files managed by Oracle ASM. See <a href="backrest.htm#CIHEHFJJ">Chapter 9, "Performing Backup and Recovery"</a> for the information about using RMAN for performing backups.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIADJDJF">"About Oracle Automatic Storage Management"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABHJJID" name="BABHJJID"></a><a id="ADMQS12103" name="ADMQS12103"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Oracle Automatic Storage Management: Oracle By Example Series</h2>
<p>Oracle By Example (OBE) has a series on the <span class="italic">Oracle Database 2 Day DBA</span> guide. This OBE steps you through the tasks in this appendix and includes annotated screenshots.</p>
<p>To view the Oracle Automatic Storage Management OBE, in your browser, enter the following URL:</p>
<pre xml:space="preserve" class="oac_no_warn"><a href="http://www.oracle.com/technology/obe/11gr2_2day_dba/asm/asm.htm">http://www.oracle.com/technology/obe/11gr2_2day_dba/asm/asm.htm</a>
</pre></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="software.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2004, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
